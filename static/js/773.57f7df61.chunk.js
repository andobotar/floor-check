/*! For license information please see 773.57f7df61.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfloor_check=self.webpackChunkfloor_check||[]).push([[773],{6773:function(t,e,n){n.d(e,{Q:function(){return Jh}});var r={};n.r(r),n.d(r,{bitGet:function(){return du},bitLen:function(){return vu},bitMask:function(){return gu},bitSet:function(){return yu},bytesToHex:function(){return eu},bytesToNumberBE:function(){return iu},bytesToNumberLE:function(){return su},concatBytes:function(){return fu},createHmacDrbg:function(){return ku},ensureBytes:function(){return lu},equalBytes:function(){return hu},hexToBytes:function(){return au},hexToNumber:function(){return ru},numberToBytesBE:function(){return uu},numberToBytesLE:function(){return ou},numberToHexUnpadded:function(){return nu},numberToVarBytesBE:function(){return cu},utf8ToBytes:function(){return pu},validateObject:function(){return Au}});var a=n(4165),i=n(5861),s=n(5671),u=n(3144),o=n(7326),c=n(1752),l=n(1120),f=n(136),h=n(9388);function p(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(t,e,n){p(t,e),e.set(t,n)}function d(t,e,n){if(!e.has(t))throw new TypeError("attempted to "+n+" private field on non-instance");return e.get(t)}function y(t,e){return function(t,e){return e.get?e.get.call(t):e.value}(t,d(t,e,"get"))}function g(t,e,n){return function(t,e,n){if(e.set)e.set.call(t,n);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=n}}(t,d(t,e,"set"),n),n}function w(t,e,n){for(var r=e.split("|").map((function(t){return t.trim()})),a=0;a<r.length;a++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}var i=new Error("invalid value for type ".concat(e));throw i.code="INVALID_ARGUMENT",i.argument="value.".concat(n),i.value=t,i}function m(t){return k.apply(this,arguments)}function k(){return(k=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.keys(e),t.next=3,Promise.all(n.map((function(t){return Promise.resolve(e[t])})));case 3:return r=t.sent,t.abrupt("return",r.reduce((function(t,e,r){return t[n[r]]=e,t}),{}));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function b(t,e,n){for(var r in e){var a=e[r],i=n?n[r]:null;i&&w(a,i,r),Object.defineProperty(t,r,{enumerable:!0,value:a,writable:!1})}}function A(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(A).join(", ")+" ]";if(t instanceof Uint8Array){for(var e="0123456789abcdef",n="0x",r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[15&t[r]];return n}if("object"===typeof t&&"function"===typeof t.toJSON)return A(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":var a=Object.keys(t);return a.sort(),"{ "+a.map((function(e){return"".concat(A(e),": ").concat(A(t[e]))})).join(", ")+" }"}return"[ COULD NOT SERIALIZE ]"}function x(t,e){return t&&t.code===e}function Z(t){return x(t,"CALL_EXCEPTION")}function E(t,e,n){var r,a=t,i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error("value will overwrite populated values: ".concat(A(n)));for(var s in n)if("shortMessage"!==s){var u=n[s];i.push(s+"="+A(u))}}switch(i.push("code=".concat(e)),i.push("version=".concat("6.9.0")),i.length&&(t+=" ("+i.join(", ")+")"),e){case"INVALID_ARGUMENT":r=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":r=new RangeError(t);break;default:r=new Error(t)}return b(r,{code:e}),n&&Object.assign(r,n),null==r.shortMessage&&b(r,{shortMessage:a}),r}function P(t,e,n,r){if(!t)throw E(e,n,r)}function N(t,e,n,r){P(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function O(t,e,n){null==n&&(n=""),n&&(n=": "+n),P(t>=e,"missing arguemnt"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),P(t<=e,"too many arguemnts"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}var B=["NFD","NFC","NFKD","NFKC"].reduce((function(t,e){try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e)if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken");t.push(e)}catch(n){}return t}),[]);function I(t,e,n){if(null==n&&(n=""),t!==e){var r=n,a="new";n&&(r+=".",a+=" "+n),P(!1,"private constructor; use ".concat(r,"from* methods"),"UNSUPPORTED_OPERATION",{operation:a})}}var C=n(7762);function R(t,e){p(t,e),e.add(t)}function T(t,e,n){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return n}var S=n(1413),M=n(4942),U=n(2963),D=n(9611);var F=n(8814);function L(t,e,n){return L=(0,F.Z)()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&(0,D.Z)(a,n.prototype),a},L.apply(null,arguments)}function G(t){var e="function"===typeof Map?new Map:void 0;return G=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!==typeof t)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return L(t,arguments,(0,l.Z)(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),(0,D.Z)(r,t)},G(t)}function Q(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if("string"===typeof t&&t.match(/^0x([0-9a-f][0-9a-f])*$/i)){for(var r=new Uint8Array((t.length-2)/2),a=2,i=0;i<r.length;i++)r[i]=parseInt(t.substring(a,a+2),16),a+=2;return r}N(!1,"invalid BytesLike value",e||"value",t)}function H(t,e){return Q(t,e,!1)}function j(t,e){return Q(t,e,!0)}function W(t,e){return!("string"!==typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!==typeof e||t.length===2+2*e)&&(!0!==e||t.length%2===0))}var J="0123456789abcdef";function V(t){for(var e=H(t),n="0x",r=0;r<e.length;r++){var a=e[r];n+=J[(240&a)>>4]+J[15&a]}return n}function z(t){return"0x"+t.map((function(t){return V(t).substring(2)})).join("")}function K(t){return W(t,!0)?(t.length-2)/2:H(t).length}function q(t,e,n){var r=H(t);return null!=n&&n>r.length&&P(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),V(r.slice(null==e?0:e,null==n?r.length:n))}function Y(t,e,n){var r=H(t);P(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});var a=new Uint8Array(e);return a.fill(0),n?a.set(r,e-r.length):a.set(r,0),V(a)}function _(t,e){return Y(t,e,!0)}var X=BigInt(0),$=BigInt(1),tt=9007199254740991;function et(t,e){var n=rt(t,"value"),r=BigInt(ut(e,"width")),a=$<<r-$;return n<X?(P((n=-n)<=a,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),(~n&($<<r)-$)+$):(P(n<a,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),n)}function nt(t,e){var n=at(t,"value"),r=BigInt(ut(e,"bits"));return n&($<<r)-$}function rt(t,e){switch(typeof t){case"bigint":return t;case"number":return N(Number.isInteger(t),"underflow",e||"value",t),N(t>=-tt&&t<=tt,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(n){N(!1,"invalid BigNumberish string: ".concat(n.message),e||"value",t)}}N(!1,"invalid BigNumberish value",e||"value",t)}function at(t,e){var n=rt(t,e);return P(n>=X,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}var it="0123456789abcdef";function st(t){if(t instanceof Uint8Array){var e,n="0x0",r=(0,C.Z)(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;n+=it[a>>4],n+=it[15&a]}}catch(i){r.e(i)}finally{r.f()}return BigInt(n)}return rt(t)}function ut(t,e){switch(typeof t){case"bigint":return N(t>=-tt&&t<=tt,"overflow",e||"value",t),Number(t);case"number":return N(Number.isInteger(t),"underflow",e||"value",t),N(t>=-tt&&t<=tt,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return ut(BigInt(t),e)}catch(n){N(!1,"invalid numeric string: ".concat(n.message),e||"value",t)}}N(!1,"invalid numeric value",e||"value",t)}function ot(t,e){var n=at(t,"value").toString(16);if(null==e)n.length%2&&(n="0"+n);else{var r=ut(e,"width");for(P(2*r>=n.length,"value exceeds width (".concat(r," bytes)"),"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});n.length<2*r;)n="0"+n}return"0x"+n}function ct(t){var e=at(t,"value");if(e===X)return new Uint8Array([]);var n=e.toString(16);n.length%2&&(n="0"+n);for(var r=new Uint8Array(n.length/2),a=0;a<r.length;a++){var i=2*a;r[a]=parseInt(n.substring(i,i+2),16)}return r}function lt(t){for(var e=V(function(t){return W(t,!0)||t instanceof Uint8Array}(t)?t:ct(t)).substring(2);e.startsWith("0");)e=e.substring(1);return""===e&&(e="0"),"0x"+e}var ft=32,ht=new Uint8Array(ft),pt=["then"],vt={};function dt(t,e){var n=new Error("deferred error during ABI decoding triggered accessing ".concat(t));throw n.error=e,n}var yt=new WeakMap,gt=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];var u=a[0],c=a[1],l=(a[2]||[]).slice(),f=!0;u!==vt&&(c=a,l=[],f=!1),t=e.call(this,c.length),v((0,o.Z)(t),yt,{writable:!0,value:void 0}),c.forEach((function(e,n){t[n]=e}));var h=l.reduce((function(t,e){return"string"===typeof e&&t.set(e,(t.get(e)||0)+1),t}),new Map);return g((0,o.Z)(t),yt,Object.freeze(c.map((function(t,e){var n=l[e];return null!=n&&1===h.get(n)?n:null})))),f?(Object.freeze((0,o.Z)(t)),(0,U.Z)(t,new Proxy((0,o.Z)(t),{get:function(e,n,r){if("string"===typeof n){if(n.match(/^[0-9]+$/)){var a=ut(n,"%index");if(a<0||a>=t.length)throw new RangeError("out of result range");var i=e[a];return i instanceof Error&&dt("index ".concat(a),i),i}if(pt.indexOf(n)>=0)return Reflect.get(e,n,r);var s=e[n];if(s instanceof Function)return function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return s.apply(this===r?e:this,n)};if(!(n in e))return e.getValue.apply((0,o.Z)(t)===r?e:(0,o.Z)(t),[n])}return Reflect.get(e,n,r)}}))):(0,U.Z)(t)}return(0,u.Z)(n,[{key:"toArray",value:function(){var t=[];return this.forEach((function(e,n){e instanceof Error&&dt("index ".concat(n),e),t.push(e)})),t}},{key:"toObject",value:function(){var t=this;return y(this,yt).reduce((function(e,n,r){return P(null!=n,"value at index ${ index } unnamed","UNSUPPORTED_OPERATION",{operation:"toObject()"}),n in e||(e[n]=t.getValue(n)),e}),{})}},{key:"slice",value:function(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);for(var r=[],a=[],i=t;i<e;i++)r.push(this[i]),a.push(y(this,yt)[i]);return new n(vt,r,a)}},{key:"filter",value:function(t,e){for(var r=[],a=[],i=0;i<this.length;i++){var s=this[i];s instanceof Error&&dt("index ".concat(i),s),t.call(e,s,i,this)&&(r.push(s),a.push(y(this,yt)[i]))}return new n(vt,r,a)}},{key:"map",value:function(t,e){for(var n=[],r=0;r<this.length;r++){var a=this[r];a instanceof Error&&dt("index ".concat(r),a),n.push(t.call(e,a,r,this))}return n}},{key:"getValue",value:function(t){var e=y(this,yt).indexOf(t);if(-1!==e){var n=this[e];return n instanceof Error&&dt("property ".concat(JSON.stringify(t)),n.error),n}}}],[{key:"fromItems",value:function(t,e){return new n(vt,t,e)}}]),n}(G(Array));function wt(t){var e=ct(t);return P(e.length<=ft,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ft,offset:e.length}),e.length!==ft&&(e=j(z([ht.slice(e.length%ft),e]))),e}var mt=function(){function t(e,n,r,a){(0,s.Z)(this,t),(0,M.Z)(this,"name",void 0),(0,M.Z)(this,"type",void 0),(0,M.Z)(this,"localName",void 0),(0,M.Z)(this,"dynamic",void 0),b(this,{name:e,type:n,localName:r,dynamic:a},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}return(0,u.Z)(t,[{key:"_throwError",value:function(t,e){N(!1,t,this.localName,e)}}]),t}(),kt=new WeakMap,bt=new WeakMap,At=new WeakSet,xt=function(){function t(){(0,s.Z)(this,t),R(this,At),v(this,kt,{writable:!0,value:void 0}),v(this,bt,{writable:!0,value:void 0}),g(this,kt,[]),g(this,bt,0)}return(0,u.Z)(t,[{key:"data",get:function(){return z(y(this,kt))}},{key:"length",get:function(){return y(this,bt)}},{key:"appendWriter",value:function(t){return T(this,At,Zt).call(this,j(t.data))}},{key:"writeBytes",value:function(t){var e=j(t),n=e.length%ft;return n&&(e=j(z([e,ht.slice(n)]))),T(this,At,Zt).call(this,e)}},{key:"writeValue",value:function(t){return T(this,At,Zt).call(this,wt(t))}},{key:"writeUpdatableValue",value:function(){var t=this,e=y(this,kt).length;return y(this,kt).push(ht),g(this,bt,y(this,bt)+ft),function(n){y(t,kt)[e]=wt(n)}}}]),t}();function Zt(t){return y(this,kt).push(t),g(this,bt,y(this,bt)+t.length),t.length}var Et=new WeakMap,Pt=new WeakMap,Nt=new WeakSet,Ot=function(){function t(e,n){(0,s.Z)(this,t),R(this,Nt),(0,M.Z)(this,"allowLoose",void 0),v(this,Et,{writable:!0,value:void 0}),v(this,Pt,{writable:!0,value:void 0}),b(this,{allowLoose:!!n}),g(this,Et,j(e)),g(this,Pt,0)}return(0,u.Z)(t,[{key:"data",get:function(){return V(y(this,Et))}},{key:"dataLength",get:function(){return y(this,Et).length}},{key:"consumed",get:function(){return y(this,Pt)}},{key:"bytes",get:function(){return new Uint8Array(y(this,Et))}},{key:"subReader",value:function(e){return new t(y(this,Et).slice(y(this,Pt)+e),this.allowLoose)}},{key:"readBytes",value:function(t,e){var n=T(this,Nt,Bt).call(this,0,t,!!e);return g(this,Pt,y(this,Pt)+n.length),n.slice(0,t)}},{key:"readValue",value:function(){return st(this.readBytes(ft))}},{key:"readIndex",value:function(){return ut(st(this.readBytes(ft)))}}]),t}();function Bt(t,e,n){var r=Math.ceil(e/ft)*ft;return y(this,Pt)+r>y(this,Et).length&&(this.allowLoose&&n&&y(this,Pt)+e<=y(this,Et).length?r=e:P(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:j(y(this,Et)),length:y(this,Et).length,offset:y(this,Pt)+r})),y(this,Et).slice(y(this,Pt),y(this,Pt)+r)}var It=n(9439);function Ct(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("Wrong positive integer: ".concat(t))}function Rt(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if(n.length>0&&!n.includes(t.length))throw new Error("Expected Uint8Array of length ".concat(n,", not of length=").concat(t.length))}function Tt(t){if("function"!==typeof t||"function"!==typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ct(t.outputLen),Ct(t.blockLen)}function St(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Mt(t,e){Rt(t);var n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least ".concat(n))}var Ut=BigInt(Math.pow(2,32)-1),Dt=BigInt(32);function Ft(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?{h:Number(t&Ut),l:Number(t>>Dt&Ut)}:{h:0|Number(t>>Dt&Ut),l:0|Number(t&Ut)}}function Lt(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=new Uint32Array(t.length),r=new Uint32Array(t.length),a=0;a<t.length;a++){var i=Ft(t[a],e),s=i.h,u=i.l,o=[s,u];n[a]=o[0],r[a]=o[1]}return[n,r]}var Gt=function(t,e,n){return t<<n|e>>>32-n},Qt=function(t,e,n){return e<<n|t>>>32-n},Ht=function(t,e,n){return e<<n-32|t>>>64-n},jt=function(t,e,n){return t<<n-32|e>>>64-n};var Wt="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,Jt=function(t){return t instanceof Uint8Array},Vt=function(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))},zt=function(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)},Kt=function(t,e){return t<<32-e|t>>>e};if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function qt(t){if("string"===typeof t&&(t=function(t){if("string"!==typeof t)throw new Error("utf8ToBytes expected string, got ".concat(typeof t));return new Uint8Array((new TextEncoder).encode(t))}(t)),!Jt(t))throw new Error("expected Uint8Array, got ".concat(typeof t));return t}function Yt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=new Uint8Array(e.reduce((function(t,e){return t+e.length}),0)),a=0;return e.forEach((function(t){if(!Jt(t))throw new Error("Uint8Array expected");r.set(t,a),a+=t.length})),r}var _t=function(){function t(){(0,s.Z)(this,t)}return(0,u.Z)(t,[{key:"clone",value:function(){return this._cloneInto()}}]),t}();function Xt(t){var e=function(e){return t().update(qt(e)).digest()},n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=function(){return t()},e}function $t(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32;if(Wt&&"function"===typeof Wt.getRandomValues)return Wt.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}for(var te=[],ee=[],ne=[],re=BigInt(0),ae=BigInt(1),ie=BigInt(2),se=BigInt(7),ue=BigInt(256),oe=BigInt(113),ce=0,le=ae,fe=1,he=0;ce<24;ce++){var pe=[he,(2*fe+3*he)%5];fe=pe[0],he=pe[1],te.push(2*(5*he+fe)),ee.push((ce+1)*(ce+2)/2%64);for(var ve=re,de=0;de<7;de++)(le=(le<<ae^(le>>se)*oe)%ue)&ie&&(ve^=ae<<(ae<<BigInt(de))-ae);ne.push(ve)}var ye=Lt(ne,!0),ge=(0,It.Z)(ye,2),we=ge[0],me=ge[1],ke=function(t,e,n){return n>32?Ht(t,e,n):Gt(t,e,n)},be=function(t,e,n){return n>32?jt(t,e,n):Qt(t,e,n)};var Ae=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a){var i,u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;if((0,s.Z)(this,n),(i=e.call(this)).blockLen=t,i.suffix=r,i.outputLen=a,i.enableXOF=u,i.rounds=o,i.pos=0,i.posOut=0,i.finished=!1,i.destroyed=!1,Ct(a),0>=i.blockLen||i.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");return i.state=new Uint8Array(200),i.state32=Vt(i.state),i}return(0,u.Z)(n,[{key:"keccak",value:function(){!function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:24,n=new Uint32Array(10),r=24-e;r<24;r++){for(var a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(var i=0;i<10;i+=2)for(var s=(i+8)%10,u=(i+2)%10,o=n[u],c=n[u+1],l=ke(o,c,1)^n[s],f=be(o,c,1)^n[s+1],h=0;h<50;h+=10)t[i+h]^=l,t[i+h+1]^=f;for(var p=t[2],v=t[3],d=0;d<24;d++){var y=ee[d],g=ke(p,v,y),w=be(p,v,y),m=te[d];p=t[m],v=t[m+1],t[m]=g,t[m+1]=w}for(var k=0;k<50;k+=10){for(var b=0;b<10;b++)n[b]=t[k+b];for(var A=0;A<10;A++)t[k+A]^=~n[(A+2)%10]&n[(A+4)%10]}t[0]^=we[r],t[1]^=me[r]}n.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}},{key:"update",value:function(t){St(this);for(var e=this.blockLen,n=this.state,r=(t=qt(t)).length,a=0;a<r;){for(var i=Math.min(e-this.pos,r-a),s=0;s<i;s++)n[this.pos++]^=t[a++];this.pos===e&&this.keccak()}return this}},{key:"finish",value:function(){if(!this.finished){this.finished=!0;var t=this.state,e=this.suffix,n=this.pos,r=this.blockLen;t[n]^=e,0!==(128&e)&&n===r-1&&this.keccak(),t[r-1]^=128,this.keccak()}}},{key:"writeInto",value:function(t){St(this,!1),Rt(t),this.finish();for(var e=this.state,n=this.blockLen,r=0,a=t.length;r<a;){this.posOut>=n&&this.keccak();var i=Math.min(n-this.posOut,a-r);t.set(e.subarray(this.posOut,this.posOut+i),r),this.posOut+=i,r+=i}return t}},{key:"xofInto",value:function(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}},{key:"xof",value:function(t){return Ct(t),this.xofInto(new Uint8Array(t))}},{key:"digestInto",value:function(t){if(Mt(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}},{key:"digest",value:function(){return this.digestInto(new Uint8Array(this.outputLen))}},{key:"destroy",value:function(){this.destroyed=!0,this.state.fill(0)}},{key:"_cloneInto",value:function(t){var e=this.blockLen,r=this.suffix,a=this.outputLen,i=this.rounds,s=this.enableXOF;return t||(t=new n(e,r,a,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=a,t.enableXOF=s,t.destroyed=this.destroyed,t}}]),n}(_t),xe=function(t,e,n){return Xt((function(){return new Ae(e,t,n)}))},Ze=xe(1,136,32),Ee=!1,Pe=function(t){return Ze(t)},Ne=Pe;function Oe(t){var e=H(t,"data");return V(Ne(e))}Oe._=Pe,Oe.lock=function(){Ee=!0},Oe.register=function(t){if(Ee)throw new TypeError("keccak256 is locked");Ne=t},Object.freeze(Oe);var Be=BigInt(0),Ie=BigInt(36);function Ce(t){for(var e=(t=t.toLowerCase()).substring(2).split(""),n=new Uint8Array(40),r=0;r<40;r++)n[r]=e[r].charCodeAt(0);for(var a=H(Oe(n)),i=0;i<40;i+=2)a[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(15&a[i>>1])>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}for(var Re={},Te=0;Te<10;Te++)Re[String(Te)]=String(Te);for(var Se=0;Se<26;Se++)Re[String.fromCharCode(65+Se)]=String(10+Se);function Me(t){for(var e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((function(t){return Re[t]})).join("");e.length>=15;){var n=e.substring(0,15);e=parseInt(n,10)%97+e.substring(n.length)}for(var r=String(98-parseInt(e,10)%97);r.length<2;)r="0"+r;return r}var Ue=function(){for(var t={},e=0;e<36;e++){t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e)}return t}();function De(t){if(N("string"===typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);var e=Ce(t);return N(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){N(t.substring(2,4)===Me(t),"bad icap checksum","address",t);for(var n=function(t){t=t.toLowerCase();for(var e=Be,n=0;n<t.length;n++)e=e*Ie+Ue[t[n]];return e}(t.substring(4)).toString(16);n.length<40;)n="0"+n;return Ce("0x"+n)}N(!1,"invalid address","address",t)}var Fe={};function Le(t,e){var n=!1;return e<0&&(n=!0,e*=-1),new je(Fe,"".concat(n?"":"u","int").concat(e),t,{signed:n,width:e})}function Ge(t,e){return new je(Fe,"bytes".concat(e||""),t,{size:e})}var Qe=Symbol.for("_ethers_typed"),He=new WeakMap,je=function(){function t(e,n,r,a){(0,s.Z)(this,t),(0,M.Z)(this,"type",void 0),(0,M.Z)(this,"value",void 0),v(this,He,{writable:!0,value:void 0}),(0,M.Z)(this,"_typedSymbol",void 0),null==a&&(a=null),I(Fe,e,"Typed"),b(this,{_typedSymbol:Qe,type:n,value:r}),g(this,He,a),this.format()}return(0,u.Z)(t,[{key:"format",value:function(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?"tuple(".concat(this.value.map((function(t){return t.format()})).join(","),")"):this.type}},{key:"defaultValue",value:function(){return 0}},{key:"minValue",value:function(){return 0}},{key:"maxValue",value:function(){return 0}},{key:"isBigInt",value:function(){return!!this.type.match(/^u?int[0-9]+$/)}},{key:"isData",value:function(){return this.type.startsWith("bytes")}},{key:"isString",value:function(){return"string"===this.type}},{key:"tupleName",get:function(){if("tuple"!==this.type)throw TypeError("not a tuple");return y(this,He)}},{key:"arrayLength",get:function(){if("array"!==this.type)throw TypeError("not an array");return!0===y(this,He)?-1:!1===y(this,He)?this.value.length:null}}],[{key:"from",value:function(e,n){return new t(Fe,e,n)}},{key:"uint8",value:function(t){return Le(t,8)}},{key:"uint16",value:function(t){return Le(t,16)}},{key:"uint24",value:function(t){return Le(t,24)}},{key:"uint32",value:function(t){return Le(t,32)}},{key:"uint40",value:function(t){return Le(t,40)}},{key:"uint48",value:function(t){return Le(t,48)}},{key:"uint56",value:function(t){return Le(t,56)}},{key:"uint64",value:function(t){return Le(t,64)}},{key:"uint72",value:function(t){return Le(t,72)}},{key:"uint80",value:function(t){return Le(t,80)}},{key:"uint88",value:function(t){return Le(t,88)}},{key:"uint96",value:function(t){return Le(t,96)}},{key:"uint104",value:function(t){return Le(t,104)}},{key:"uint112",value:function(t){return Le(t,112)}},{key:"uint120",value:function(t){return Le(t,120)}},{key:"uint128",value:function(t){return Le(t,128)}},{key:"uint136",value:function(t){return Le(t,136)}},{key:"uint144",value:function(t){return Le(t,144)}},{key:"uint152",value:function(t){return Le(t,152)}},{key:"uint160",value:function(t){return Le(t,160)}},{key:"uint168",value:function(t){return Le(t,168)}},{key:"uint176",value:function(t){return Le(t,176)}},{key:"uint184",value:function(t){return Le(t,184)}},{key:"uint192",value:function(t){return Le(t,192)}},{key:"uint200",value:function(t){return Le(t,200)}},{key:"uint208",value:function(t){return Le(t,208)}},{key:"uint216",value:function(t){return Le(t,216)}},{key:"uint224",value:function(t){return Le(t,224)}},{key:"uint232",value:function(t){return Le(t,232)}},{key:"uint240",value:function(t){return Le(t,240)}},{key:"uint248",value:function(t){return Le(t,248)}},{key:"uint256",value:function(t){return Le(t,256)}},{key:"uint",value:function(t){return Le(t,256)}},{key:"int8",value:function(t){return Le(t,-8)}},{key:"int16",value:function(t){return Le(t,-16)}},{key:"int24",value:function(t){return Le(t,-24)}},{key:"int32",value:function(t){return Le(t,-32)}},{key:"int40",value:function(t){return Le(t,-40)}},{key:"int48",value:function(t){return Le(t,-48)}},{key:"int56",value:function(t){return Le(t,-56)}},{key:"int64",value:function(t){return Le(t,-64)}},{key:"int72",value:function(t){return Le(t,-72)}},{key:"int80",value:function(t){return Le(t,-80)}},{key:"int88",value:function(t){return Le(t,-88)}},{key:"int96",value:function(t){return Le(t,-96)}},{key:"int104",value:function(t){return Le(t,-104)}},{key:"int112",value:function(t){return Le(t,-112)}},{key:"int120",value:function(t){return Le(t,-120)}},{key:"int128",value:function(t){return Le(t,-128)}},{key:"int136",value:function(t){return Le(t,-136)}},{key:"int144",value:function(t){return Le(t,-144)}},{key:"int152",value:function(t){return Le(t,-152)}},{key:"int160",value:function(t){return Le(t,-160)}},{key:"int168",value:function(t){return Le(t,-168)}},{key:"int176",value:function(t){return Le(t,-176)}},{key:"int184",value:function(t){return Le(t,-184)}},{key:"int192",value:function(t){return Le(t,-192)}},{key:"int200",value:function(t){return Le(t,-200)}},{key:"int208",value:function(t){return Le(t,-208)}},{key:"int216",value:function(t){return Le(t,-216)}},{key:"int224",value:function(t){return Le(t,-224)}},{key:"int232",value:function(t){return Le(t,-232)}},{key:"int240",value:function(t){return Le(t,-240)}},{key:"int248",value:function(t){return Le(t,-248)}},{key:"int256",value:function(t){return Le(t,-256)}},{key:"int",value:function(t){return Le(t,-256)}},{key:"bytes1",value:function(t){return Ge(t,1)}},{key:"bytes2",value:function(t){return Ge(t,2)}},{key:"bytes3",value:function(t){return Ge(t,3)}},{key:"bytes4",value:function(t){return Ge(t,4)}},{key:"bytes5",value:function(t){return Ge(t,5)}},{key:"bytes6",value:function(t){return Ge(t,6)}},{key:"bytes7",value:function(t){return Ge(t,7)}},{key:"bytes8",value:function(t){return Ge(t,8)}},{key:"bytes9",value:function(t){return Ge(t,9)}},{key:"bytes10",value:function(t){return Ge(t,10)}},{key:"bytes11",value:function(t){return Ge(t,11)}},{key:"bytes12",value:function(t){return Ge(t,12)}},{key:"bytes13",value:function(t){return Ge(t,13)}},{key:"bytes14",value:function(t){return Ge(t,14)}},{key:"bytes15",value:function(t){return Ge(t,15)}},{key:"bytes16",value:function(t){return Ge(t,16)}},{key:"bytes17",value:function(t){return Ge(t,17)}},{key:"bytes18",value:function(t){return Ge(t,18)}},{key:"bytes19",value:function(t){return Ge(t,19)}},{key:"bytes20",value:function(t){return Ge(t,20)}},{key:"bytes21",value:function(t){return Ge(t,21)}},{key:"bytes22",value:function(t){return Ge(t,22)}},{key:"bytes23",value:function(t){return Ge(t,23)}},{key:"bytes24",value:function(t){return Ge(t,24)}},{key:"bytes25",value:function(t){return Ge(t,25)}},{key:"bytes26",value:function(t){return Ge(t,26)}},{key:"bytes27",value:function(t){return Ge(t,27)}},{key:"bytes28",value:function(t){return Ge(t,28)}},{key:"bytes29",value:function(t){return Ge(t,29)}},{key:"bytes30",value:function(t){return Ge(t,30)}},{key:"bytes31",value:function(t){return Ge(t,31)}},{key:"bytes32",value:function(t){return Ge(t,32)}},{key:"address",value:function(e){return new t(Fe,"address",e)}},{key:"bool",value:function(e){return new t(Fe,"bool",!!e)}},{key:"bytes",value:function(e){return new t(Fe,"bytes",e)}},{key:"string",value:function(e){return new t(Fe,"string",e)}},{key:"array",value:function(t,e){throw new Error("not implemented yet")}},{key:"tuple",value:function(t,e){throw new Error("not implemented yet")}},{key:"overrides",value:function(e){return new t(Fe,"overrides",Object.assign({},e))}},{key:"isTyped",value:function(t){return t&&"object"===typeof t&&"_typedSymbol"in t&&t._typedSymbol===Qe}},{key:"dereference",value:function(e,n){if(t.isTyped(e)){if(e.type!==n)throw new Error("invalid type: expecetd ".concat(n,", got ").concat(e.type));return e.value}return e}}]),t}(),We=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t){return(0,s.Z)(this,n),e.call(this,"address","address",t,!1)}return(0,u.Z)(n,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000"}},{key:"encode",value:function(t,e){var n=je.dereference(e,"string");try{n=De(n)}catch(r){return this._throwError(r.message,e)}return t.writeValue(n)}},{key:"decode",value:function(t){return De(ot(t.readValue(),20))}}]),n}(mt),Je=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t){var r;return(0,s.Z)(this,n),r=e.call(this,t.name,t.type,"_",t.dynamic),(0,M.Z)((0,o.Z)(r),"coder",void 0),r.coder=t,r}return(0,u.Z)(n,[{key:"defaultValue",value:function(){return this.coder.defaultValue()}},{key:"encode",value:function(t,e){return this.coder.encode(t,e)}},{key:"decode",value:function(t){return this.coder.decode(t)}}]),n}(mt);function Ve(t,e,n){var r=[];if(Array.isArray(n))r=n;else if(n&&"object"===typeof n){var a={};r=e.map((function(t){var e=t.localName;return P(e,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),P(!a[e],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:n}),a[e]=!0,n[e]}))}else N(!1,"invalid tuple value","tuple",n);N(e.length===r.length,"types/value length mismatch","tuple",n);var i=new xt,s=new xt,u=[];e.forEach((function(t,e){var n=r[e];if(t.dynamic){var a=s.length;t.encode(s,n);var o=i.writeUpdatableValue();u.push((function(t){o(t+a)}))}else t.encode(i,n)})),u.forEach((function(t){t(i.length)}));var o=t.appendWriter(i);return o+=t.appendWriter(s)}function ze(t,e){var n=[],r=[],a=t.subReader(0);return e.forEach((function(e){var i=null;if(e.dynamic){var s=t.readIndex(),u=a.subReader(s);try{i=e.decode(u)}catch(o){if(x(o,"BUFFER_OVERRUN"))throw o;(i=o).baseType=e.name,i.name=e.localName,i.type=e.type}}else try{i=e.decode(t)}catch(o){if(x(o,"BUFFER_OVERRUN"))throw o;(i=o).baseType=e.name,i.name=e.localName,i.type=e.type}if(void 0==i)throw new Error("investigate");n.push(i),r.push(e.localName||null)})),gt.fromItems(n,r)}var Ke=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a){var i;(0,s.Z)(this,n);var u=t.type+"["+(r>=0?r:"")+"]",c=-1===r||t.dynamic;return i=e.call(this,"array",u,a,c),(0,M.Z)((0,o.Z)(i),"coder",void 0),(0,M.Z)((0,o.Z)(i),"length",void 0),b((0,o.Z)(i),{coder:t,length:r}),i}return(0,u.Z)(n,[{key:"defaultValue",value:function(){for(var t=this.coder.defaultValue(),e=[],n=0;n<this.length;n++)e.push(t);return e}},{key:"encode",value:function(t,e){var n=je.dereference(e,"array");Array.isArray(n)||this._throwError("expected array value",n);var r=this.length;-1===r&&(r=n.length,t.writeValue(n.length)),O(n.length,r,"coder array"+(this.localName?" "+this.localName:""));for(var a=[],i=0;i<n.length;i++)a.push(this.coder);return Ve(t,a,n)}},{key:"decode",value:function(t){var e=this.length;-1===e&&P((e=t.readIndex())*ft<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*ft,length:t.dataLength});for(var n=[],r=0;r<e;r++)n.push(new Je(this.coder));return ze(t,n)}}]),n}(mt),qe=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t){return(0,s.Z)(this,n),e.call(this,"bool","bool",t,!1)}return(0,u.Z)(n,[{key:"defaultValue",value:function(){return!1}},{key:"encode",value:function(t,e){var n=je.dereference(e,"bool");return t.writeValue(n?1:0)}},{key:"decode",value:function(t){return!!t.readValue()}}]),n}(mt),Ye=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){return(0,s.Z)(this,n),e.call(this,t,t,r,!0)}return(0,u.Z)(n,[{key:"defaultValue",value:function(){return"0x"}},{key:"encode",value:function(t,e){e=j(e);var n=t.writeValue(e.length);return n+=t.writeBytes(e)}},{key:"decode",value:function(t){return t.readBytes(t.readIndex(),!0)}}]),n}(mt),_e=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t){return(0,s.Z)(this,n),e.call(this,"bytes",t)}return(0,u.Z)(n,[{key:"decode",value:function(t){return V((0,c.Z)((0,l.Z)(n.prototype),"decode",this).call(this,t))}}]),n}(Ye),Xe=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;(0,s.Z)(this,n);var i="bytes"+String(t);return a=e.call(this,i,i,r,!1),(0,M.Z)((0,o.Z)(a),"size",void 0),b((0,o.Z)(a),{size:t},{size:"number"}),a}return(0,u.Z)(n,[{key:"defaultValue",value:function(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}},{key:"encode",value:function(t,e){var n=j(je.dereference(e,this.type));return n.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(n)}},{key:"decode",value:function(t){return V(t.readBytes(this.size))}}]),n}(mt),$e=new Uint8Array([]),tn=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t){return(0,s.Z)(this,n),e.call(this,"null","",t,!1)}return(0,u.Z)(n,[{key:"defaultValue",value:function(){return null}},{key:"encode",value:function(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes($e)}},{key:"decode",value:function(t){return t.readBytes(0),null}}]),n}(mt),en=BigInt(0),nn=BigInt(1),rn=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),an=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a){var i;(0,s.Z)(this,n);var u=(r?"int":"uint")+8*t;return i=e.call(this,u,u,a,!1),(0,M.Z)((0,o.Z)(i),"size",void 0),(0,M.Z)((0,o.Z)(i),"signed",void 0),b((0,o.Z)(i),{size:t,signed:r},{size:"number",signed:"boolean"}),i}return(0,u.Z)(n,[{key:"defaultValue",value:function(){return 0}},{key:"encode",value:function(t,e){var n=rt(je.dereference(e,this.type)),r=nt(rn,256);if(this.signed){var a=nt(r,8*this.size-1);(n>a||n<-(a+nn))&&this._throwError("value out-of-bounds",e),n=et(n,256)}else(n<en||n>nt(r,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(n)}},{key:"decode",value:function(t){var e=nt(t.readValue(),8*this.size);return this.signed&&(e=function(t,e){var n=at(t,"value"),r=BigInt(ut(e,"width"));return P(n>>r===X,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-$?-((~n&($<<r)-$)+$):n}(e,8*this.size)),e}}]),n}(mt);function sn(t,e,n,r,a){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){for(var i=0,s=e+1;s<n.length&&n[s]>>6===2;s++)i++;return i}return"OVERRUN"===t?n.length-e-1:0}var un=Object.freeze({error:function(t,e,n,r,a){N(!1,"invalid codepoint at offset ".concat(e,"; ").concat(t),"bytes",n)},ignore:sn,replace:function(t,e,n,r,a){return"OVERLONG"===t?(N("number"===typeof a,"invalid bad code point for replacement","badCodepoint",a),r.push(a),0):(r.push(65533),sn(t,e,n))}});function on(t,e){null==e&&(e=un.error);for(var n=H(t,"bytes"),r=[],a=0;a<n.length;){var i=n[a++];if(i>>7!==0){var s=null,u=null;if(192===(224&i))s=1,u=127;else if(224===(240&i))s=2,u=2047;else{if(240!==(248&i)){a+=e(128===(192&i)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",a-1,n,r);continue}s=3,u=65535}if(a-1+s>=n.length)a+=e("OVERRUN",a-1,n,r);else{for(var o=i&(1<<8-s-1)-1,c=0;c<s;c++){var l=n[a];if(128!=(192&l)){a+=e("MISSING_CONTINUE",a,n,r),o=null;break}o=o<<6|63&l,a++}null!==o&&(o>1114111?a+=e("OUT_OF_RANGE",a-1-s,n,r,o):o>=55296&&o<=57343?a+=e("UTF16_SURROGATE",a-1-s,n,r,o):o<=u?a+=e("OVERLONG",a-1-s,n,r,o):r.push(o))}}else r.push(i)}return r}function cn(t,e){null!=e&&(!function(t){P(B.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}(e),t=t.normalize(e));for(var n=[],r=0;r<t.length;r++){var a=t.charCodeAt(r);if(a<128)n.push(a);else if(a<2048)n.push(a>>6|192),n.push(63&a|128);else if(55296==(64512&a)){r++;var i=t.charCodeAt(r);N(r<t.length&&56320===(64512&i),"invalid surrogate pair","str",t);var s=65536+((1023&a)<<10)+(1023&i);n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(63&s|128)}else n.push(a>>12|224),n.push(a>>6&63|128),n.push(63&a|128)}return new Uint8Array(n)}function ln(t,e){return on(t,e).map((function(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t)))})).join("")}var fn=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t){return(0,s.Z)(this,n),e.call(this,"string",t)}return(0,u.Z)(n,[{key:"defaultValue",value:function(){return""}},{key:"encode",value:function(t,e){return(0,c.Z)((0,l.Z)(n.prototype),"encode",this).call(this,t,cn(je.dereference(e,"string")))}},{key:"decode",value:function(t){return ln((0,c.Z)((0,l.Z)(n.prototype),"decode",this).call(this,t))}}]),n}(Ye),hn=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;(0,s.Z)(this,n);var i=!1,u=[];t.forEach((function(t){t.dynamic&&(i=!0),u.push(t.type)}));var c="tuple("+u.join(",")+")";return a=e.call(this,"tuple",c,r,i),(0,M.Z)((0,o.Z)(a),"coders",void 0),b((0,o.Z)(a),{coders:Object.freeze(t.slice())}),a}return(0,u.Z)(n,[{key:"defaultValue",value:function(){var t=[];this.coders.forEach((function(e){t.push(e.defaultValue())}));var e=this.coders.reduce((function(t,e){var n=e.localName;return n&&(t[n]||(t[n]=0),t[n]++),t}),{});return this.coders.forEach((function(n,r){var a=n.localName;a&&1===e[a]&&("length"===a&&(a="_length"),null==t[a]&&(t[a]=t[r]))})),Object.freeze(t)}},{key:"encode",value:function(t,e){var n=je.dereference(e,"tuple");return Ve(t,this.coders,n)}},{key:"decode",value:function(t){return ze(t,this.coders)}}]),n}(mt);function pn(t){return Oe(cn(t))}function vn(t){var e=new Set;return t.forEach((function(t){return e.add(t)})),Object.freeze(e)}var dn=vn("external public payable".split(" ")),yn="constant external internal payable private public pure view",gn=vn(yn.split(" ")),wn="constructor error event fallback function receive struct",mn=vn(wn.split(" ")),kn="calldata memory storage payable indexed",bn=vn(kn.split(" ")),An=vn([wn,kn,"tuple returns",yn].join(" ").split(" ")),xn={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Zn=new RegExp("^(\\s*)"),En=new RegExp("^([0-9]+)"),Pn=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Nn=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),On=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$"),Bn=new WeakMap,In=new WeakMap,Cn=new WeakSet,Rn=function(){function t(e){(0,s.Z)(this,t),R(this,Cn),v(this,Bn,{writable:!0,value:void 0}),v(this,In,{writable:!0,value:void 0}),g(this,Bn,0),g(this,In,e.slice())}return(0,u.Z)(t,[{key:"offset",get:function(){return y(this,Bn)}},{key:"length",get:function(){return y(this,In).length-y(this,Bn)}},{key:"clone",value:function(){return new t(y(this,In))}},{key:"reset",value:function(){g(this,Bn,0)}},{key:"popKeyword",value:function(t){var e=this.peek();if("KEYWORD"!==e.type||!t.has(e.text))throw new Error("expected keyword ".concat(e.text));return this.pop().text}},{key:"popType",value:function(t){if(this.peek().type!==t)throw new Error("expected ".concat(t,"; got ").concat(JSON.stringify(this.peek())));return this.pop().text}},{key:"popParen",value:function(){var t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");var e=T(this,Cn,Tn).call(this,y(this,Bn)+1,t.match+1);return g(this,Bn,t.match+1),e}},{key:"popParams",value:function(){var t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");for(var e=[];y(this,Bn)<t.match-1;){var n=this.peek().linkNext;e.push(T(this,Cn,Tn).call(this,y(this,Bn)+1,n)),g(this,Bn,n)}return g(this,Bn,t.match+1),e}},{key:"peek",value:function(){if(y(this,Bn)>=y(this,In).length)throw new Error("out-of-bounds");return y(this,In)[y(this,Bn)]}},{key:"peekKeyword",value:function(t){var e=this.peekType("KEYWORD");return null!=e&&t.has(e)?e:null}},{key:"peekType",value:function(t){if(0===this.length)return null;var e=this.peek();return e.type===t?e.text:null}},{key:"pop",value:function(){var t,e=this.peek();return g(this,Bn,(t=y(this,Bn),t++,t)),e}},{key:"toString",value:function(){for(var t=[],e=y(this,Bn);e<y(this,In).length;e++){var n=y(this,In)[e];t.push("".concat(n.type,":").concat(n.text))}return"<TokenString ".concat(t.join(" "),">")}}]),t}();function Tn(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Rn(y(this,In).slice(t,e).map((function(e){return Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t}))})))}function Sn(t){for(var e=[],n=function(e){var n=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error("invalid token ".concat(n," at ").concat(i,": ").concat(e))},r=[],a=[],i=0;i<t.length;){var s=t.substring(i),u=s.match(Zn);u&&(i+=u[1].length,s=t.substring(i));var o={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(o);var c=xn[s[0]]||"";if(c){if(o.type=c,o.text=s[0],i++,"OPEN_PAREN"===c)r.push(e.length-1),a.push(e.length-1);else if("CLOSE_PAREN"==c)0===r.length&&n("no matching open bracket"),o.match=r.pop(),e[o.match].match=e.length-1,o.depth--,o.linkBack=a.pop(),e[o.linkBack].linkNext=e.length-1;else if("COMMA"===c)o.linkBack=a.pop(),e[o.linkBack].linkNext=e.length-1,a.push(e.length-1);else if("OPEN_BRACKET"===c)o.type="BRACKET";else if("CLOSE_BRACKET"===c){var l=e.pop().text;if(e.length>0&&"NUMBER"===e[e.length-1].type){var f=e.pop().text;l=f+l,e[e.length-1].value=ut(f)}if(0===e.length||"BRACKET"!==e[e.length-1].type)throw new Error("missing opening bracket");e[e.length-1].text+=l}}else if(u=s.match(Pn)){if(o.text=u[1],i+=o.text.length,An.has(o.text)){o.type="KEYWORD";continue}if(o.text.match(On)){o.type="TYPE";continue}o.type="ID"}else{if(!(u=s.match(En)))throw new Error("unexpected token ".concat(JSON.stringify(s[0])," at position ").concat(i));o.text=u[1],o.type="NUMBER",i+=o.text.length}}return new Rn(e.map((function(t){return Object.freeze(t)})))}function Mn(t,e){var n=[];for(var r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error("conflicting types: ".concat(n.join(", ")))}function Un(t,e){if(e.peekKeyword(mn)){var n=e.pop().text;if(n!==t)throw new Error("expected ".concat(t,", got ").concat(n))}return e.popType("ID")}function Dn(t,e){for(var n=new Set;;){var r=t.peekType("KEYWORD");if(null==r||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error("duplicate keywords: ".concat(JSON.stringify(r)));n.add(r)}return Object.freeze(n)}function Fn(t){var e=Dn(t,gn);return Mn(e,vn("constant payable nonpayable".split(" "))),Mn(e,vn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ln(t,e){return t.popParams().map((function(t){return tr.from(t,e)}))}function Gn(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return rt(t.pop().text);throw new Error("invalid gas")}return null}function Qn(t){if(t.length)throw new Error("unexpected tokens: ".concat(t.toString()))}var Hn=new RegExp(/^(.*)\[([0-9]*)\]$/);function jn(t){var e=t.match(On);if(N(e,"invalid type","type",t),"uint"===t)return"uint256";if("int"===t)return"int256";if(e[2]){var n=parseInt(e[2]);N(0!==n&&n<=32,"invalid bytes length","type",t)}else if(e[3]){var r=parseInt(e[3]);N(0!==r&&r<=256&&r%8===0,"invalid numeric width","type",t)}return t}var Wn={},Jn=Symbol.for("_ethers_internal"),Vn="_ParamTypeInternal",zn="_ErrorInternal",Kn="_EventInternal",qn="_ConstructorInternal",Yn="_FallbackInternal",_n="_FunctionInternal",Xn="_StructInternal",$n=new WeakSet,tr=function(){function t(e,n,r,a,i,u,o,c){if((0,s.Z)(this,t),R(this,$n),(0,M.Z)(this,"name",void 0),(0,M.Z)(this,"type",void 0),(0,M.Z)(this,"baseType",void 0),(0,M.Z)(this,"indexed",void 0),(0,M.Z)(this,"components",void 0),(0,M.Z)(this,"arrayLength",void 0),(0,M.Z)(this,"arrayChildren",void 0),I(e,Wn,"ParamType"),Object.defineProperty(this,Jn,{value:Vn}),u&&(u=Object.freeze(u.slice())),"array"===a){if(null==o||null==c)throw new Error("")}else if(null!=o||null!=c)throw new Error("");if("tuple"===a){if(null==u)throw new Error("")}else if(null!=u)throw new Error("");b(this,{name:n,type:r,baseType:a,indexed:i,components:u,arrayLength:o,arrayChildren:c})}return(0,u.Z)(t,[{key:"format",value:function(t){if(null==t&&(t="sighash"),"json"===t){var e=this.name||"";if(this.isArray()){var n=JSON.parse(this.arrayChildren.format("json"));return n.name=e,n.type+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]"),JSON.stringify(n)}var r={type:"tuple"===this.baseType?"tuple":this.type,name:e};return"boolean"===typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((function(e){return JSON.parse(e.format(t))}))),JSON.stringify(r)}var a="";return this.isArray()?(a+=this.arrayChildren.format(t),a+="[".concat(this.arrayLength<0?"":String(this.arrayLength),"]")):this.isTuple()?a+="("+this.components.map((function(e){return e.format(t)})).join("full"===t?", ":",")+")":a+=this.type,"sighash"!==t&&(!0===this.indexed&&(a+=" indexed"),"full"===t&&this.name&&(a+=" "+this.name)),a}},{key:"isArray",value:function(){return"array"===this.baseType}},{key:"isTuple",value:function(){return"tuple"===this.baseType}},{key:"isIndexable",value:function(){return null!=this.indexed}},{key:"walk",value:function(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");var n=this;return t.map((function(t){return n.arrayChildren.walk(t,e)}))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");var r=this;return t.map((function(t,n){return r.components[n].walk(t,e)}))}return e(this.type,t)}},{key:"walkAsync",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=[],i=[e],T(this,$n,er).call(this,r,e,n,(function(t){i[0]=t})),!r.length){t.next=6;break}return t.next=6,Promise.all(r);case 6:return t.abrupt("return",i[0]);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}],[{key:"from",value:function(e,n){if(t.isParamType(e))return e;if("string"===typeof e)try{return t.from(Sn(e),n)}catch(w){N(!1,"invalid param type","obj",e)}else if(e instanceof Rn){var r="",a="",i=null;Dn(e,vn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(a="tuple",i=e.popParams().map((function(e){return t.from(e)})),r="tuple(".concat(i.map((function(t){return t.format()})).join(","),")")):a=r=jn(e.popType("TYPE"));for(var s=null,u=null;e.length&&e.peekType("BRACKET");){var o=e.pop();s=new t(Wn,"",r,a,null,i,u,s),u=o.value,r+=o.text,a="array",i=null}var c=null;if(Dn(e,bn).has("indexed")){if(!n)throw new Error("");c=!0}var l=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new t(Wn,l,r,a,c,i,u,s)}var f=e.name;N(!f||"string"===typeof f&&f.match(Nn),"invalid name","obj.name",f);var h=e.indexed;null!=h&&(N(n,"parameter cannot be indexed","obj.indexed",e.indexed),h=!!h);var p=e.type,v=p.match(Hn);if(v){var d=parseInt(v[2]||"-1"),y=t.from({type:v[1],components:e.components});return new t(Wn,f||"",p,"array",h,null,d,y)}if("tuple"===p||p.startsWith("tuple(")||p.startsWith("(")){var g=null!=e.components?e.components.map((function(e){return t.from(e)})):null;return new t(Wn,f||"",p,"tuple",h,g,null,null)}return p=jn(e.type),new t(Wn,f||"",p,p,h,null,null,null)}},{key:"isParamType",value:function(t){return t&&t[Jn]===Vn}}]),t}();function er(t,e,n,r){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");var s=this.arrayChildren,u=e.slice();return u.forEach((function(e,r){T(s,$n,er).call(s,t,e,n,(function(t){u[r]=t}))})),void r(u)}if(this.isTuple()){var o,c=this.components;if(Array.isArray(e))o=e.slice();else{if(null==e||"object"!==typeof e)throw new Error("invalid tuple value");o=c.map((function(t){if(!t.name)throw new Error("cannot use object value with unnamed components");if(!(t.name in e))throw new Error("missing value for component ".concat(t.name));return e[t.name]}))}if(o.length!==this.components.length)throw new Error("array is wrong length");return o.forEach((function(e,r){var a;T(a=c[r],$n,er).call(a,t,e,n,(function(t){o[r]=t}))})),void r(o)}var l=n(this.type,e);l.then?t.push((0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=r,t.next=3,l;case 3:t.t1=t.sent,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})))()):r(l)}var nr=function(){function t(e,n,r){(0,s.Z)(this,t),(0,M.Z)(this,"type",void 0),(0,M.Z)(this,"inputs",void 0),I(e,Wn,"Fragment"),b(this,{type:n,inputs:r=Object.freeze(r.slice())})}return(0,u.Z)(t,null,[{key:"from",value:function(e){if("string"===typeof e){try{t.from(JSON.parse(e))}catch(n){}return t.from(Sn(e))}if(e instanceof Rn)switch(e.peekKeyword(mn)){case"constructor":return ur.from(e);case"error":return ir.from(e);case"event":return sr.from(e);case"fallback":case"receive":return or.from(e);case"function":return cr.from(e);case"struct":return lr.from(e)}else if("object"===typeof e){switch(e.type){case"constructor":return ur.from(e);case"error":return ir.from(e);case"event":return sr.from(e);case"fallback":case"receive":return or.from(e);case"function":return cr.from(e);case"struct":return lr.from(e)}P(!1,"unsupported type: ".concat(e.type),"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}N(!1,"unsupported frgament object","obj",e)}},{key:"isConstructor",value:function(t){return ur.isFragment(t)}},{key:"isError",value:function(t){return ir.isFragment(t)}},{key:"isEvent",value:function(t){return sr.isFragment(t)}},{key:"isFunction",value:function(t){return cr.isFragment(t)}},{key:"isStruct",value:function(t){return lr.isFragment(t)}}]),t}(),rr=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a,i){var u;return(0,s.Z)(this,n),u=e.call(this,t,r,i),(0,M.Z)((0,o.Z)(u),"name",void 0),N("string"===typeof a&&a.match(Nn),"invalid identifier","name",a),i=Object.freeze(i.slice()),b((0,o.Z)(u),{name:a}),u}return(0,u.Z)(n)}(nr);function ar(t,e){return"("+e.map((function(e){return e.format(t)})).join("full"===t?", ":",")+")"}var ir=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a){var i;return(0,s.Z)(this,n),i=e.call(this,t,"error",r,a),Object.defineProperty((0,o.Z)(i),Jn,{value:zn}),i}return(0,u.Z)(n,[{key:"selector",get:function(){return pn(this.format("sighash")).substring(0,10)}},{key:"format",value:function(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});var e=[];return"sighash"!==t&&e.push("error"),e.push(this.name+ar(t,this.inputs)),e.join(" ")}}],[{key:"from",value:function(t){if(n.isFragment(t))return t;if("string"===typeof t)return n.from(Sn(t));if(t instanceof Rn){var e=Un("error",t),r=Ln(t);return Qn(t),new n(Wn,e,r)}return new n(Wn,t.name,t.inputs?t.inputs.map(tr.from):[])}},{key:"isFragment",value:function(t){return t&&t[Jn]===zn}}]),n}(rr),sr=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a,i){var u;return(0,s.Z)(this,n),u=e.call(this,t,"event",r,a),(0,M.Z)((0,o.Z)(u),"anonymous",void 0),Object.defineProperty((0,o.Z)(u),Jn,{value:Kn}),b((0,o.Z)(u),{anonymous:i}),u}return(0,u.Z)(n,[{key:"topicHash",get:function(){return pn(this.format("sighash"))}},{key:"format",value:function(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});var e=[];return"sighash"!==t&&e.push("event"),e.push(this.name+ar(t,this.inputs)),"sighash"!==t&&this.anonymous&&e.push("anonymous"),e.join(" ")}}],[{key:"getTopicHash",value:function(t,e){return e=(e||[]).map((function(t){return tr.from(t)})),new n(Wn,t,e,!1).topicHash}},{key:"from",value:function(t){if(n.isFragment(t))return t;if("string"===typeof t)try{return n.from(Sn(t))}catch(i){N(!1,"invalid event fragment","obj",t)}else if(t instanceof Rn){var e=Un("event",t),r=Ln(t,!0),a=!!Dn(t,vn(["anonymous"])).has("anonymous");return Qn(t),new n(Wn,e,r,a)}return new n(Wn,t.name,t.inputs?t.inputs.map((function(t){return tr.from(t,!0)})):[],!!t.anonymous)}},{key:"isFragment",value:function(t){return t&&t[Jn]===Kn}}]),n}(rr),ur=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a,i,u){var c;return(0,s.Z)(this,n),c=e.call(this,t,r,a),(0,M.Z)((0,o.Z)(c),"payable",void 0),(0,M.Z)((0,o.Z)(c),"gas",void 0),Object.defineProperty((0,o.Z)(c),Jn,{value:qn}),b((0,o.Z)(c),{payable:i,gas:u}),c}return(0,u.Z)(n,[{key:"format",value:function(t){if(P(null!=t&&"sighash"!==t,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===t)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))}))});var e=["constructor".concat(ar(t,this.inputs))];return this.payable&&e.push("payable"),null!=this.gas&&e.push("@".concat(this.gas.toString())),e.join(" ")}}],[{key:"from",value:function(t){if(n.isFragment(t))return t;if("string"===typeof t)try{return n.from(Sn(t))}catch(i){N(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Rn){Dn(t,vn(["constructor"]));var e=Ln(t),r=!!Dn(t,dn).has("payable"),a=Gn(t);return Qn(t),new n(Wn,"constructor",e,r,a)}return new n(Wn,"constructor",t.inputs?t.inputs.map(tr.from):[],!!t.payable,null!=t.gas?t.gas:null)}},{key:"isFragment",value:function(t){return t&&t[Jn]===qn}}]),n}(nr),or=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a){var i;return(0,s.Z)(this,n),i=e.call(this,t,"fallback",r),(0,M.Z)((0,o.Z)(i),"payable",void 0),Object.defineProperty((0,o.Z)(i),Jn,{value:Yn}),b((0,o.Z)(i),{payable:a}),i}return(0,u.Z)(n,[{key:"format",value:function(t){var e=0===this.inputs.length?"receive":"fallback";if("json"===t){var n=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:n})}return"".concat(e,"()").concat(this.payable?" payable":"")}}],[{key:"from",value:function(t){if(n.isFragment(t))return t;if("string"===typeof t)try{return n.from(Sn(t))}catch(c){N(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Rn){var e=t.toString();if(N(t.peekKeyword(vn(["fallback","receive"])),"type must be fallback or receive","obj",e),"receive"===t.popKeyword(vn(["fallback","receive"]))){var r=Ln(t);return N(0===r.length,"receive cannot have arguments","obj.inputs",r),Dn(t,vn(["payable"])),Qn(t),new n(Wn,[],!0)}var a=Ln(t);a.length?N(1===a.length&&"bytes"===a[0].type,"invalid fallback inputs","obj.inputs",a.map((function(t){return t.format("minimal")})).join(", ")):a=[tr.from("bytes")];var i=Fn(t);if(N("nonpayable"===i||"payable"===i,"fallback cannot be constants","obj.stateMutability",i),Dn(t,vn(["returns"])).has("returns")){var s=Ln(t);N(1===s.length&&"bytes"===s[0].type,"invalid fallback outputs","obj.outputs",s.map((function(t){return t.format("minimal")})).join(", "))}return Qn(t),new n(Wn,a,"payable"===i)}if("receive"===t.type)return new n(Wn,[],!0);if("fallback"===t.type){var u=[tr.from("bytes")],o="payable"===t.stateMutability;return new n(Wn,u,o)}N(!1,"invalid fallback description","obj",t)}},{key:"isFragment",value:function(t){return t&&t[Jn]===Yn}}]),n}(nr),cr=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a,i,u,c){var l;(0,s.Z)(this,n),l=e.call(this,t,"function",r,i),(0,M.Z)((0,o.Z)(l),"constant",void 0),(0,M.Z)((0,o.Z)(l),"outputs",void 0),(0,M.Z)((0,o.Z)(l),"stateMutability",void 0),(0,M.Z)((0,o.Z)(l),"payable",void 0),(0,M.Z)((0,o.Z)(l),"gas",void 0),Object.defineProperty((0,o.Z)(l),Jn,{value:_n}),u=Object.freeze(u.slice());var f="view"===a||"pure"===a,h="payable"===a;return b((0,o.Z)(l),{constant:f,gas:c,outputs:u,payable:h,stateMutability:a}),l}return(0,u.Z)(n,[{key:"selector",get:function(){return pn(this.format("sighash")).substring(0,10)}},{key:"format",value:function(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((function(e){return JSON.parse(e.format(t))})),outputs:this.outputs.map((function(e){return JSON.parse(e.format(t))}))});var e=[];return"sighash"!==t&&e.push("function"),e.push(this.name+ar(t,this.inputs)),"sighash"!==t&&("nonpayable"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(ar(t,this.outputs))),null!=this.gas&&e.push("@".concat(this.gas.toString()))),e.join(" ")}}],[{key:"getSelector",value:function(t,e){return e=(e||[]).map((function(t){return tr.from(t)})),new n(Wn,t,"view",e,[],null).selector}},{key:"from",value:function(t){if(n.isFragment(t))return t;if("string"===typeof t)try{return n.from(Sn(t))}catch(o){N(!1,"invalid function fragment","obj",t)}else if(t instanceof Rn){var e=Un("function",t),r=Ln(t),a=Fn(t),i=[];Dn(t,vn(["returns"])).has("returns")&&(i=Ln(t));var s=Gn(t);return Qn(t),new n(Wn,e,a,r,i,s)}var u=t.stateMutability;return null==u&&(u="payable","boolean"===typeof t.constant?(u="view",t.constant||(u="payable","boolean"!==typeof t.payable||t.payable||(u="nonpayable"))):"boolean"!==typeof t.payable||t.payable||(u="nonpayable")),new n(Wn,t.name,u,t.inputs?t.inputs.map(tr.from):[],t.outputs?t.outputs.map(tr.from):[],null!=t.gas?t.gas:null)}},{key:"isFragment",value:function(t){return t&&t[Jn]===_n}}]),n}(rr),lr=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a){var i;return(0,s.Z)(this,n),i=e.call(this,t,"struct",r,a),Object.defineProperty((0,o.Z)(i),Jn,{value:Xn}),i}return(0,u.Z)(n,[{key:"format",value:function(){throw new Error("@TODO")}}],[{key:"from",value:function(t){if("string"===typeof t)try{return n.from(Sn(t))}catch(a){N(!1,"invalid struct fragment","obj",t)}else if(t instanceof Rn){var e=Un("struct",t),r=Ln(t);return Qn(t),new n(Wn,e,r)}return new n(Wn,t.name,t.inputs?t.inputs.map(tr.from):[])}},{key:"isFragment",value:function(t){return t&&t[Jn]===Xn}}]),n}(rr),fr=new Map;fr.set(0,"GENERIC_PANIC"),fr.set(1,"ASSERT_FALSE"),fr.set(17,"OVERFLOW"),fr.set(18,"DIVIDE_BY_ZERO"),fr.set(33,"ENUM_RANGE_ERROR"),fr.set(34,"BAD_STORAGE_DATA"),fr.set(49,"STACK_UNDERFLOW"),fr.set(50,"ARRAY_RANGE_ERROR"),fr.set(65,"OUT_OF_MEMORY"),fr.set(81,"UNINITIALIZED_FUNCTION_CALL");var hr=new RegExp(/^bytes([0-9]*)$/),pr=new RegExp(/^(u?int)([0-9]*)$/),vr=null;var dr=new WeakSet,yr=function(){function t(){(0,s.Z)(this,t),R(this,dr)}return(0,u.Z)(t,[{key:"getDefaultValue",value:function(t){var e=this,n=t.map((function(t){return T(e,dr,gr).call(e,tr.from(t))}));return new hn(n,"_").defaultValue()}},{key:"encode",value:function(t,e){var n=this;O(e.length,t.length,"types/values length mismatch");var r=t.map((function(t){return T(n,dr,gr).call(n,tr.from(t))})),a=new hn(r,"_"),i=new xt;return a.encode(i,e),i.data}},{key:"decode",value:function(t,e,n){var r=this,a=t.map((function(t){return T(r,dr,gr).call(r,tr.from(t))}));return new hn(a,"_").decode(new Ot(e,n))}}],[{key:"defaultAbiCoder",value:function(){return null==vr&&(vr=new t),vr}},{key:"getBuiltinCallException",value:function(e,n,r){return function(t,e,n,r){var a="missing revert data",i=null,s=null;if(n){a="execution reverted";var u=H(n);if(n=V(n),0===u.length)a+=" (no data present; likely require(false) occurred",i="require(false)";else if(u.length%32!==4)a+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===V(u.slice(0,4)))try{s={signature:"Error(string)",name:"Error",args:[i=r.decode(["string"],u.slice(4))[0]]},a+=": ".concat(JSON.stringify(i))}catch(l){a+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===V(u.slice(0,4)))try{var o=Number(r.decode(["uint256"],u.slice(4))[0]);s={signature:"Panic(uint256)",name:"Panic",args:[o]},i="Panic due to ".concat(fr.get(o)||"UNKNOWN","(").concat(o,")"),a+=": ".concat(i)}catch(l){a+=" (could not decode panic code)"}else a+=" (unknown custom error)"}var c={to:e.to?De(e.to):null,data:e.data||"0x"};return e.from&&(c.from=De(e.from)),E(a,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:c,invocation:null,revert:s})}(e,n,r,t.defaultAbiCoder())}}]),t}();function gr(t){var e=this;if(t.isArray())return new Ke(T(this,dr,gr).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new hn(t.components.map((function(t){return T(e,dr,gr).call(e,t)})),t.name);switch(t.baseType){case"address":return new We(t.name);case"bool":return new qe(t.name);case"string":return new fn(t.name);case"bytes":return new _e(t.name);case"":return new tn(t.name)}var n=t.type.match(pr);if(n){var r=parseInt(n[2]||"256");return N(0!==r&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",t),new an(r/8,"int"===n[1],t.name)}if(n=t.type.match(hr)){var a=parseInt(n[1]);return N(0!==a&&a<=32,"invalid bytes length","param",t),new Xe(a,t.name)}N(!1,"invalid type","type",t.type)}function wr(t){return t&&"function"===typeof t.getAddress}function mr(t,e){return kr.apply(this,arguments)}function kr(){return(kr=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:return null!=(r=t.sent)&&"0x0000000000000000000000000000000000000000"!==r||(P("string"!==typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),N(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),t.abrupt("return",De(r));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function br(t,e){return"string"===typeof t?t.match(/^0x[0-9a-f]{40}$/i)?De(t):(P(null!=e,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),mr(t,e.resolveName(t))):wr(t)?mr(t,t.getAddress()):t&&"function"===typeof t.then?mr(t,t):void N(!1,"unsupported addressable value","target",t)}var Ar=new Uint8Array(32);Ar.fill(0);var xr=BigInt(-1),Zr=BigInt(0),Er=BigInt(1),Pr=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var Nr=ot(Er,32),Or=ot(Zr,32),Br={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},Ir=["name","version","chainId","verifyingContract","salt"];function Cr(t){return function(e){return N("string"===typeof e,"invalid domain value for ".concat(JSON.stringify(t)),"domain.".concat(t),e),e}}var Rr={name:Cr("name"),version:Cr("version"),chainId:function(t){var e=rt(t,"domain.chainId");return N(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):lt(e)},verifyingContract:function(t){try{return De(t).toLowerCase()}catch(e){}N(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){var e=H(t,"domain.salt");return N(32===e.length,'invalid domain value "salt"',"domain.salt",t),V(e)}};function Tr(t){var e=t.match(/^(u?)int(\d*)$/);if(e){var n=""===e[1],r=parseInt(e[2]||"256");N(r%8===0&&0!==r&&r<=256&&(null==e[2]||e[2]===String(r)),"invalid numeric width","type",t);var a=nt(Pr,n?r-1:r),i=n?(a+Er)*xr:Zr;return function(e){var r=rt(e,"value");return N(r>=i&&r<=a,"value out-of-bounds for ".concat(t),"value",r),ot(n?et(r,256):r,32)}}var s=t.match(/^bytes(\d+)$/);if(s){var u=parseInt(s[1]);return N(0!==u&&u<=32&&s[1]===String(u),"invalid bytes width","type",t),function(e){return N(H(e).length===u,"invalid length for ".concat(t),"value",e),function(t){var e=H(t),n=e.length%32;return n?z([e,Ar.slice(n)]):V(e)}(e)}}switch(t){case"address":return function(t){return _(De(t),32)};case"bool":return function(t){return t?Nr:Or};case"bytes":return function(t){return Oe(t)};case"string":return function(t){return pn(t)}}return null}function Sr(t,e){return"".concat(t,"(").concat(e.map((function(t){var e=t.name;return t.type+" "+e})).join(","),")")}var Mr=new WeakMap,Ur=new WeakMap,Dr=new WeakMap,Fr=new WeakSet,Lr=function(){function t(e){(0,s.Z)(this,t),R(this,Fr),(0,M.Z)(this,"primaryType",void 0),v(this,Mr,{writable:!0,value:void 0}),v(this,Ur,{writable:!0,value:void 0}),v(this,Dr,{writable:!0,value:void 0}),g(this,Mr,JSON.stringify(e)),g(this,Ur,new Map),g(this,Dr,new Map);var n=new Map,r=new Map,a=new Map;for(var i in Object.keys(e).forEach((function(t){n.set(t,new Set),r.set(t,[]),a.set(t,new Set)})),e){var u,o=new Set,c=(0,C.Z)(e[i]);try{for(c.s();!(u=c.n()).done;){var l=u.value;N(!o.has(l.name),"duplicate variable name ".concat(JSON.stringify(l.name)," in ").concat(JSON.stringify(i)),"types",e),o.add(l.name);var f=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1]||null;N(f!==i,"circular type reference to ".concat(JSON.stringify(f)),"types",e),Tr(f)||(N(r.has(f),"unknown type ".concat(JSON.stringify(f)),"types",e),r.get(f).push(i),n.get(i).add(f))}}catch(x){c.e(x)}finally{c.f()}}var h=Array.from(r.keys()).filter((function(t){return 0===r.get(t).length}));N(0!==h.length,"missing primary type","types",e),N(1===h.length,"ambiguous primary types or unused types: ".concat(h.map((function(t){return JSON.stringify(t)})).join(", ")),"types",e),b(this,{primaryType:h[0]}),function t(i,s){N(!s.has(i),"circular type reference to ".concat(JSON.stringify(i)),"types",e),s.add(i);var u,o=(0,C.Z)(n.get(i));try{for(o.s();!(u=o.n()).done;){var c=u.value;if(r.has(c)){t(c,s);var l,f=(0,C.Z)(s);try{for(f.s();!(l=f.n()).done;){var h=l.value;a.get(h).add(c)}}catch(x){f.e(x)}finally{f.f()}}}}catch(x){o.e(x)}finally{o.f()}s.delete(i)}(this.primaryType,new Set);var p,d=(0,C.Z)(a);try{for(d.s();!(p=d.n()).done;){var w=(0,It.Z)(p.value,2),m=w[0],k=w[1],A=Array.from(k);A.sort(),y(this,Ur).set(m,Sr(m,e[m])+A.map((function(t){return Sr(t,e[t])})).join(""))}}catch(x){d.e(x)}finally{d.f()}}return(0,u.Z)(t,[{key:"types",get:function(){return JSON.parse(y(this,Mr))}},{key:"getEncoder",value:function(t){var e=y(this,Dr).get(t);return e||(e=T(this,Fr,Gr).call(this,t),y(this,Dr).set(t,e)),e}},{key:"encodeType",value:function(t){var e=y(this,Ur).get(t);return N(e,"unknown type: ".concat(JSON.stringify(t)),"name",t),e}},{key:"encodeData",value:function(t,e){return this.getEncoder(t)(e)}},{key:"hashStruct",value:function(t,e){return Oe(this.encodeData(t,e))}},{key:"encode",value:function(t){return this.encodeData(this.primaryType,t)}},{key:"hash",value:function(t){return this.hashStruct(this.primaryType,t)}},{key:"_visit",value:function(t,e,n){var r=this;if(Tr(t))return n(t,e);var a=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(a)return N(!a[3]||parseInt(a[3])===e.length,"array length mismatch; expected length ".concat(parseInt(a[3])),"value",e),e.map((function(t){return r._visit(a[1],t,n)}));var i=this.types[t];if(i)return i.reduce((function(t,a){var i=a.name,s=a.type;return t[i]=r._visit(s,e[i],n),t}),{});N(!1,"unknown type: ".concat(t),"type",t)}},{key:"visit",value:function(t,e){return this._visit(this.primaryType,t,e)}}],[{key:"from",value:function(e){return new t(e)}},{key:"getPrimaryType",value:function(e){return t.from(e).primaryType}},{key:"hashStruct",value:function(e,n,r){return t.from(n).hashStruct(e,r)}},{key:"hashDomain",value:function(e){var n=[];for(var r in e)if(null!=e[r]){var a=Br[r];N(a,"invalid typed-data domain key: ".concat(JSON.stringify(r)),"domain",e),n.push({name:r,type:a})}return n.sort((function(t,e){return Ir.indexOf(t.name)-Ir.indexOf(e.name)})),t.hashStruct("EIP712Domain",{EIP712Domain:n},e)}},{key:"encode",value:function(e,n,r){return z(["0x1901",t.hashDomain(e),t.from(n).hash(r)])}},{key:"hash",value:function(e,n,r){return Oe(t.encode(e,n,r))}},{key:"resolveNames",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,r,i,s){var u,o,c,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(u in n=Object.assign({},n))null==n[u]&&delete n[u];o={},n.verifyingContract&&!W(n.verifyingContract,20)&&(o[n.verifyingContract]="0x"),(c=t.from(r)).visit(i,(function(t,e){return"address"!==t||W(e,20)||(o[e]="0x"),e})),e.t0=(0,a.Z)().keys(o);case 7:if((e.t1=e.t0()).done){e.next=14;break}return l=e.t1.value,e.next=11,s(l);case 11:o[l]=e.sent,e.next=7;break;case 14:return n.verifyingContract&&o[n.verifyingContract]&&(n.verifyingContract=o[n.verifyingContract]),i=c.visit(i,(function(t,e){return"address"===t&&o[e]?o[e]:e})),e.abrupt("return",{domain:n,value:i});case 17:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"getPayload",value:function(e,n,r){t.hashDomain(e);var a={},i=[];Ir.forEach((function(t){var n=e[t];null!=n&&(a[t]=Rr[t](n),i.push({name:t,type:Br[t]}))}));var s=t.from(n),u=Object.assign({},n);return N(null==u.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",n),u.EIP712Domain=i,s.encode(r),{types:u,domain:a,primaryType:s.primaryType,message:s.visit(r,(function(t,e){if(t.match(/^bytes(\d*)/))return V(H(e));if(t.match(/^u?int/))return rt(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return N("string"===typeof e,"invalid string","value",e),e}N(!1,"unsupported type","type",t)}))}}}]),t}();function Gr(t){var e=this,n=Tr(t);if(n)return n;var r=t.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){var a=r[1],i=this.getEncoder(a);return function(t){N(!r[3]||parseInt(r[3])===t.length,"array length mismatch; expected length ".concat(parseInt(r[3])),"value",t);var n=t.map(i);return y(e,Ur).has(a)&&(n=n.map(Oe)),Oe(z(n))}}var s=this.types[t];if(s){var u=pn(y(this,Ur).get(t));return function(t){var n=s.map((function(n){var r=n.name,a=n.type,i=e.getEncoder(a)(t[r]);return y(e,Ur).has(a)?Oe(i):i}));return n.unshift(u),z(n)}}N(!1,"unknown type: ".concat(t),"type",t)}function Qr(t,e){return{address:De(t),storageKeys:e.map((function(t,e){return N(W(t,32),"invalid slot","storageKeys[".concat(e,"]"),t),t.toLowerCase()}))}}function Hr(t){if(Array.isArray(t))return t.map((function(e,n){return Array.isArray(e)?(N(2===e.length,"invalid slot set","value[".concat(n,"]"),e),Qr(e[0],e[1])):(N(null!=e&&"object"===typeof e,"invalid address-slot set","value",t),Qr(e.address,e.storageKeys))}));N(null!=t&&"object"===typeof t,"invalid access list","value",t);var e=Object.keys(t).map((function(e){var n=t[e].reduce((function(t,e){return t[e]=!0,t}),{});return Qr(e,Object.keys(n).sort())}));return e.sort((function(t,e){return t.address.localeCompare(e.address)})),e}var jr,Wr,Jr="0x0000000000000000000000000000000000000000",Vr=(0,u.Z)((function t(e,n,r){(0,s.Z)(this,t),(0,M.Z)(this,"fragment",void 0),(0,M.Z)(this,"name",void 0),(0,M.Z)(this,"signature",void 0),(0,M.Z)(this,"topic",void 0),(0,M.Z)(this,"args",void 0);var a=e.name,i=e.format();b(this,{fragment:e,name:a,signature:i,topic:n,args:r})})),zr=(0,u.Z)((function t(e,n,r,a){(0,s.Z)(this,t),(0,M.Z)(this,"fragment",void 0),(0,M.Z)(this,"name",void 0),(0,M.Z)(this,"args",void 0),(0,M.Z)(this,"signature",void 0),(0,M.Z)(this,"selector",void 0),(0,M.Z)(this,"value",void 0);var i=e.name,u=e.format();b(this,{fragment:e,name:i,args:r,signature:u,selector:n,value:a})})),Kr=(0,u.Z)((function t(e,n,r){(0,s.Z)(this,t),(0,M.Z)(this,"fragment",void 0),(0,M.Z)(this,"name",void 0),(0,M.Z)(this,"args",void 0),(0,M.Z)(this,"signature",void 0),(0,M.Z)(this,"selector",void 0);var a=e.name,i=e.format();b(this,{fragment:e,name:a,args:r,signature:i,selector:n})})),qr=function(){function t(e){(0,s.Z)(this,t),(0,M.Z)(this,"hash",void 0),(0,M.Z)(this,"_isIndexed",void 0),b(this,{hash:e,_isIndexed:!0})}return(0,u.Z)(t,null,[{key:"isIndexed",value:function(t){return!(!t||!t._isIndexed)}}]),t}(),Yr={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},_r={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:function(t){return"reverted with reason string ".concat(JSON.stringify(t))}},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:function(t){var e="unknown panic code";return t>=0&&t<=255&&Yr[t.toString()]&&(e=Yr[t.toString()]),"reverted with panic code 0x".concat(t.toString(16)," (").concat(e,")")}}},Xr=new WeakMap,$r=new WeakMap,ta=new WeakMap,ea=new WeakMap,na=new WeakSet,ra=new WeakSet,aa=function(){function t(e){var n=this;(0,s.Z)(this,t),R(this,ra),R(this,na),(0,M.Z)(this,"fragments",void 0),(0,M.Z)(this,"deploy",void 0),(0,M.Z)(this,"fallback",void 0),(0,M.Z)(this,"receive",void 0),v(this,Xr,{writable:!0,value:void 0}),v(this,$r,{writable:!0,value:void 0}),v(this,ta,{writable:!0,value:void 0}),v(this,ea,{writable:!0,value:void 0});var r=[];r="string"===typeof e?JSON.parse(e):e,g(this,ta,new Map),g(this,Xr,new Map),g(this,$r,new Map);var a,i=[],u=(0,C.Z)(r);try{for(u.s();!(a=u.n()).done;){var o=a.value;try{i.push(nr.from(o))}catch(f){console.log("EE",f)}}}catch(h){u.e(h)}finally{u.f()}b(this,{fragments:Object.freeze(i)});var c=null,l=!1;g(this,ea,this.getAbiCoder()),this.fragments.forEach((function(t,e){var r;switch(t.type){case"constructor":return n.deploy?void console.log("duplicate definition - constructor"):void b(n,{deploy:t});case"fallback":return void(0===t.inputs.length?l=!0:(N(!c||t.payable!==c.payable,"conflicting fallback fragments","fragments[".concat(e,"]"),t),l=(c=t).payable));case"function":r=y(n,ta);break;case"event":r=y(n,$r);break;case"error":r=y(n,Xr);break;default:return}var a=t.format();r.has(a)||r.set(a,t)})),this.deploy||b(this,{deploy:ur.from("constructor()")}),b(this,{fallback:c,receive:l})}return(0,u.Z)(t,[{key:"format",value:function(t){var e=t?"minimal":"full";return this.fragments.map((function(t){return t.format(e)}))}},{key:"formatJson",value:function(){var t=this.fragments.map((function(t){return t.format("json")}));return JSON.stringify(t.map((function(t){return JSON.parse(t)})))}},{key:"getAbiCoder",value:function(){return yr.defaultAbiCoder()}},{key:"getFunctionName",value:function(t){var e=T(this,na,ia).call(this,t,null,!1);return N(e,"no matching function","key",t),e.name}},{key:"hasFunction",value:function(t){return!!T(this,na,ia).call(this,t,null,!1)}},{key:"getFunction",value:function(t,e){return T(this,na,ia).call(this,t,e||null,!0)}},{key:"forEachFunction",value:function(t){var e=Array.from(y(this,ta).keys());e.sort((function(t,e){return t.localeCompare(e)}));for(var n=0;n<e.length;n++){var r=e[n];t(y(this,ta).get(r),n)}}},{key:"getEventName",value:function(t){var e=T(this,ra,sa).call(this,t,null,!1);return N(e,"no matching event","key",t),e.name}},{key:"hasEvent",value:function(t){return!!T(this,ra,sa).call(this,t,null,!1)}},{key:"getEvent",value:function(t,e){return T(this,ra,sa).call(this,t,e||null,!0)}},{key:"forEachEvent",value:function(t){var e=Array.from(y(this,$r).keys());e.sort((function(t,e){return t.localeCompare(e)}));for(var n=0;n<e.length;n++){var r=e[n];t(y(this,$r).get(r),n)}}},{key:"getError",value:function(t,e){if(W(t)){var n=t.toLowerCase();if(_r[n])return ir.from(_r[n].signature);var r,a=(0,C.Z)(y(this,Xr).values());try{for(a.s();!(r=a.n()).done;){var i=r.value;if(n===i.selector)return i}}catch(v){a.e(v)}finally{a.f()}return null}if(-1===t.indexOf("(")){var s,u=[],o=(0,C.Z)(y(this,Xr));try{for(o.s();!(s=o.n()).done;){var c=(0,It.Z)(s.value,2),l=c[0],f=c[1];l.split("(")[0]===t&&u.push(f)}}catch(v){o.e(v)}finally{o.f()}if(0===u.length)return"Error"===t?ir.from("error Error(string)"):"Panic"===t?ir.from("error Panic(uint256)"):null;if(u.length>1){var h=u.map((function(t){return JSON.stringify(t.format())})).join(", ");N(!1,"ambiguous error description (i.e. ".concat(h,")"),"name",t)}return u[0]}if("Error(string)"===(t=ir.from(t).format()))return ir.from("error Error(string)");if("Panic(uint256)"===t)return ir.from("error Panic(uint256)");var p=y(this,Xr).get(t);return p||null}},{key:"forEachError",value:function(t){var e=Array.from(y(this,Xr).keys());e.sort((function(t,e){return t.localeCompare(e)}));for(var n=0;n<e.length;n++){var r=e[n];t(y(this,Xr).get(r),n)}}},{key:"_decodeParams",value:function(t,e){return y(this,ea).decode(t,e)}},{key:"_encodeParams",value:function(t,e){return y(this,ea).encode(t,e)}},{key:"encodeDeploy",value:function(t){return this._encodeParams(this.deploy.inputs,t||[])}},{key:"decodeErrorResult",value:function(t,e){if("string"===typeof t){var n=this.getError(t);N(n,"unknown error","fragment",t),t=n}return N(q(e,0,4)===t.selector,"data signature does not match error ".concat(t.name,"."),"data",e),this._decodeParams(t.inputs,q(e,4))}},{key:"encodeErrorResult",value:function(t,e){if("string"===typeof t){var n=this.getError(t);N(n,"unknown error","fragment",t),t=n}return z([t.selector,this._encodeParams(t.inputs,e||[])])}},{key:"decodeFunctionData",value:function(t,e){if("string"===typeof t){var n=this.getFunction(t);N(n,"unknown function","fragment",t),t=n}return N(q(e,0,4)===t.selector,"data signature does not match function ".concat(t.name,"."),"data",e),this._decodeParams(t.inputs,q(e,4))}},{key:"encodeFunctionData",value:function(t,e){if("string"===typeof t){var n=this.getFunction(t);N(n,"unknown function","fragment",t),t=n}return z([t.selector,this._encodeParams(t.inputs,e||[])])}},{key:"decodeFunctionResult",value:function(t,e){if("string"===typeof t){var n=this.getFunction(t);N(n,"unknown function","fragment",t),t=n}var r="invalid length for result data",a=j(e);if(a.length%32===0)try{return y(this,ea).decode(t.outputs,a)}catch(i){r="could not decode result data"}P(!1,r,"BAD_DATA",{value:V(a),info:{method:t.name,signature:t.format()}})}},{key:"makeError",value:function(t,e){var n=H(t,"data"),r=yr.getBuiltinCallException("call",e,n);if(r.message.startsWith("execution reverted (unknown custom error)")){var a=V(n.slice(0,4)),i=this.getError(a);if(i)try{var s=y(this,ea).decode(i.inputs,n.slice(4));r.revert={name:i.name,signature:i.format(),args:s},r.reason=r.revert.signature,r.message="execution reverted: ".concat(r.reason)}catch(o){r.message="execution reverted (coult not decode custom error)"}}var u=this.parseTransaction(e);return u&&(r.invocation={method:u.name,signature:u.signature,args:u.args}),r}},{key:"encodeFunctionResult",value:function(t,e){if("string"===typeof t){var n=this.getFunction(t);N(n,"unknown function","fragment",t),t=n}return V(y(this,ea).encode(t.outputs,e||[]))}},{key:"encodeFilterTopics",value:function(t,e){var n=this;if("string"===typeof t){var r=this.getEvent(t);N(r,"unknown event","eventFragment",t),t=r}P(e.length<=t.inputs.length,"too many arguments for ".concat(t.format()),"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});var a=[];t.anonymous||a.push(t.topicHash);var i=function(t,e){return"string"===t.type?pn(e):"bytes"===t.type?Oe(V(e)):("bool"===t.type&&"boolean"===typeof e?e=e?"0x01":"0x00":t.type.match(/^u?int/)?e=ot(e):t.type.match(/^bytes/)?e=Y(e,32,!1):"address"===t.type&&y(n,ea).encode(["address"],[e]),_(V(e),32))};for(e.forEach((function(e,n){var r=t.inputs[n];r.indexed?null==e?a.push(null):"array"===r.baseType||"tuple"===r.baseType?N(!1,"filtering with tuples or arrays not supported","contract."+r.name,e):Array.isArray(e)?a.push(e.map((function(t){return i(r,t)}))):a.push(i(r,e)):N(null==e,"cannot filter non-indexed parameters; must be null","contract."+r.name,e)}));a.length&&null===a[a.length-1];)a.pop();return a}},{key:"encodeEventLog",value:function(t,e){var n=this;if("string"===typeof t){var r=this.getEvent(t);N(r,"unknown event","eventFragment",t),t=r}var a=[],i=[],s=[];return t.anonymous||a.push(t.topicHash),N(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach((function(t,r){var u=e[r];if(t.indexed)if("string"===t.type)a.push(pn(u));else if("bytes"===t.type)a.push(Oe(u));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");a.push(y(n,ea).encode([t.type],[u]))}else i.push(t),s.push(u)})),{data:y(this,ea).encode(i,s),topics:a}}},{key:"decodeEventLog",value:function(t,e,n){if("string"===typeof t){var r=this.getEvent(t);N(r,"unknown event","eventFragment",t),t=r}if(null!=n&&!t.anonymous){var a=t.topicHash;N(W(n[0],32)&&n[0].toLowerCase()===a,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}var i=[],s=[],u=[];t.inputs.forEach((function(t,e){t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(i.push(tr.from({type:"bytes32",name:t.name})),u.push(!0)):(i.push(t),u.push(!1)):(s.push(t),u.push(!1))}));var o=null!=n?y(this,ea).decode(i,z(n)):null,c=y(this,ea).decode(s,e,!0),l=[],f=[],h=0,p=0;return t.inputs.forEach((function(t,e){var n=null;if(t.indexed)if(null==o)n=new qr(null);else if(u[e])n=new qr(o[p++]);else try{n=o[p++]}catch(r){n=r}else try{n=c[h++]}catch(r){n=r}l.push(n),f.push(t.name||null)})),gt.fromItems(l,f)}},{key:"parseTransaction",value:function(t){var e=H(t.data,"tx.data"),n=rt(null!=t.value?t.value:0,"tx.value"),r=this.getFunction(V(e.slice(0,4)));if(!r)return null;var a=y(this,ea).decode(r.inputs,e.slice(4));return new zr(r,r.selector,a,n)}},{key:"parseCallResult",value:function(t){throw new Error("@TODO")}},{key:"parseLog",value:function(t){var e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new Vr(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}},{key:"parseError",value:function(t){var e=V(t),n=this.getError(q(e,0,4));if(!n)return null;var r=y(this,ea).decode(n.inputs,q(e,4));return new Kr(n,n.selector,r)}}],[{key:"from",value:function(e){return e instanceof t?e:"string"===typeof e?new t(JSON.parse(e)):"function"===typeof e.format?new t(e.format("json")):new t(e)}}]),t}();function ia(t,e,n){if(W(t)){var r,a=t.toLowerCase(),i=(0,C.Z)(y(this,ta).values());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(a===s.selector)return s}}catch(E){i.e(E)}finally{i.f()}return null}if(-1===t.indexOf("(")){var u,o=[],c=(0,C.Z)(y(this,ta));try{for(c.s();!(u=c.n()).done;){var l=(0,It.Z)(u.value,2),f=l[0],h=l[1];f.split("(")[0]===t&&o.push(h)}}catch(E){c.e(E)}finally{c.f()}if(e){var p=e.length>0?e[e.length-1]:null,v=e.length,d=!0;je.isTyped(p)&&"overrides"===p.type&&(d=!1,v--);for(var g=o.length-1;g>=0;g--){var w=o[g].inputs.length;w===v||d&&w===v-1||o.splice(g,1)}for(var m=o.length-1;m>=0;m--)for(var k=o[m].inputs,b=0;b<e.length;b++)if(je.isTyped(e[b])){if(b>=k.length){if("overrides"===e[b].type)continue;o.splice(m,1);break}if(e[b].type!==k[b].baseType){o.splice(m,1);break}}}if(1===o.length&&e&&e.length!==o[0].inputs.length){var A=e[e.length-1];(null==A||Array.isArray(A)||"object"!==typeof A)&&o.splice(0,1)}if(0===o.length)return null;if(o.length>1&&n){var x=o.map((function(t){return JSON.stringify(t.format())})).join(", ");N(!1,"ambiguous function description (i.e. matches ".concat(x,")"),"key",t)}return o[0]}var Z=y(this,ta).get(cr.from(t).format());return Z||null}function sa(t,e,n){if(W(t)){var r,a=t.toLowerCase(),i=(0,C.Z)(y(this,$r).values());try{for(i.s();!(r=i.n()).done;){var s=r.value;if(a===s.topicHash)return s}}catch(k){i.e(k)}finally{i.f()}return null}if(-1===t.indexOf("(")){var u,o=[],c=(0,C.Z)(y(this,$r));try{for(c.s();!(u=c.n()).done;){var l=(0,It.Z)(u.value,2),f=l[0],h=l[1];f.split("(")[0]===t&&o.push(h)}}catch(k){c.e(k)}finally{c.f()}if(e){for(var p=o.length-1;p>=0;p--)o[p].inputs.length<e.length&&o.splice(p,1);for(var v=o.length-1;v>=0;v--)for(var d=o[v].inputs,g=0;g<e.length;g++)if(je.isTyped(e[g])&&e[g].type!==d[g].baseType){o.splice(v,1);break}}if(0===o.length)return null;if(o.length>1&&n){var w=o.map((function(t){return JSON.stringify(t.format())})).join(", ");N(!1,"ambiguous event description (i.e. matches ".concat(w,")"),"key",t)}return o[0]}var m=y(this,$r).get(sr.from(t).format());return m||null}var ua=BigInt(0);function oa(t){return null==t?null:t}function ca(t){return null==t?null:t.toString()}var la=function(){function t(e,n,r){(0,s.Z)(this,t),(0,M.Z)(this,"gasPrice",void 0),(0,M.Z)(this,"maxFeePerGas",void 0),(0,M.Z)(this,"maxPriorityFeePerGas",void 0),b(this,{gasPrice:oa(e),maxFeePerGas:oa(n),maxPriorityFeePerGas:oa(r)})}return(0,u.Z)(t,[{key:"toJSON",value:function(){var t=this.gasPrice,e=this.maxFeePerGas,n=this.maxPriorityFeePerGas;return{_type:"FeeData",gasPrice:ca(t),maxFeePerGas:ca(e),maxPriorityFeePerGas:ca(n)}}}]),t}();function fa(t){var e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=V(t.data));var n,r="chainId,gasLimit,gasPrice,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/),a=(0,C.Z)(r);try{for(a.s();!(n=a.n()).done;){var i=n.value;i in t&&null!=t[i]&&(e[i]=rt(t[i],"request.".concat(i)))}}catch(l){a.e(l)}finally{a.f()}var s,u="type,nonce".split(/,/),o=(0,C.Z)(u);try{for(o.s();!(s=o.n()).done;){var c=s.value;c in t&&null!=t[c]&&(e[c]=ut(t[c],"request.".concat(c)))}}catch(l){o.e(l)}finally{o.f()}return t.accessList&&(e.accessList=Hr(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),e}var ha=new WeakMap;jr=Symbol.iterator;var pa=function(){function t(e,n){(0,s.Z)(this,t),(0,M.Z)(this,"provider",void 0),(0,M.Z)(this,"number",void 0),(0,M.Z)(this,"hash",void 0),(0,M.Z)(this,"timestamp",void 0),(0,M.Z)(this,"parentHash",void 0),(0,M.Z)(this,"nonce",void 0),(0,M.Z)(this,"difficulty",void 0),(0,M.Z)(this,"gasLimit",void 0),(0,M.Z)(this,"gasUsed",void 0),(0,M.Z)(this,"miner",void 0),(0,M.Z)(this,"extraData",void 0),(0,M.Z)(this,"baseFeePerGas",void 0),v(this,ha,{writable:!0,value:void 0}),g(this,ha,e.transactions.map((function(t){return"string"!==typeof t?new wa(t,n):t}))),b(this,{provider:n,hash:oa(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,miner:e.miner,extraData:e.extraData,baseFeePerGas:oa(e.baseFeePerGas)})}return(0,u.Z)(t,[{key:"transactions",get:function(){return y(this,ha).map((function(t){return"string"===typeof t?t:t.hash}))}},{key:"prefetchedTransactions",get:function(){var t=y(this,ha).slice();return 0===t.length?[]:(P("object"===typeof t[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}},{key:"toJSON",value:function(){var t=this.baseFeePerGas,e=this.difficulty,n=this.extraData,r=this.gasLimit,a=this.gasUsed,i=this.hash,s=this.miner,u=this.nonce,o=this.number,c=this.parentHash,l=this.timestamp,f=this.transactions;return{_type:"Block",baseFeePerGas:ca(t),difficulty:ca(e),extraData:n,gasLimit:ca(r),gasUsed:ca(a),hash:i,miner:s,nonce:u,number:o,parentHash:c,timestamp:l,transactions:f}}},{key:jr,value:function(){var t=this,e=0,n=this.transactions;return{next:function(){return e<t.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}}},{key:"length",get:function(){return y(this,ha).length}},{key:"date",get:function(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}},{key:"getTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=void 0,"number"!==typeof e){t.next=5;break}n=y(this,ha)[e],t.next=32;break;case 5:r=e.toLowerCase(),i=(0,C.Z)(y(this,ha)),t.prev=7,i.s();case 9:if((s=i.n()).done){t.next=24;break}if("string"!==typeof(u=s.value)){t.next=18;break}if(u===r){t.next=14;break}return t.abrupt("continue",22);case 14:return n=u,t.abrupt("break",24);case 18:if(u.hash!==r){t.next=20;break}return t.abrupt("continue",22);case 20:return n=u,t.abrupt("break",24);case 22:t.next=9;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(7),i.e(t.t0);case 29:return t.prev=29,i.f(),t.finish(29);case 32:if(null!=n){t.next=34;break}throw new Error("no such tx");case 34:if("string"!==typeof n){t.next=40;break}return t.next=37,this.provider.getTransaction(n);case 37:return t.abrupt("return",t.sent);case 40:return t.abrupt("return",n);case 41:case"end":return t.stop()}}),t,this,[[7,26,29,32]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getPrefetchedTransaction",value:function(t){var e=this.prefetchedTransactions;if("number"===typeof t)return e[t];t=t.toLowerCase();var n,r=(0,C.Z)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.hash===t)return a}}catch(i){r.e(i)}finally{r.f()}N(!1,"no matching transaction","indexOrHash",t)}},{key:"isMined",value:function(){return!!this.hash}},{key:"isLondon",value:function(){return!!this.baseFeePerGas}},{key:"orphanedEvent",value:function(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(t=this).hash,number:t.number};var t}}]),t}(),va=function(){function t(e,n){(0,s.Z)(this,t),(0,M.Z)(this,"provider",void 0),(0,M.Z)(this,"transactionHash",void 0),(0,M.Z)(this,"blockHash",void 0),(0,M.Z)(this,"blockNumber",void 0),(0,M.Z)(this,"removed",void 0),(0,M.Z)(this,"address",void 0),(0,M.Z)(this,"data",void 0),(0,M.Z)(this,"topics",void 0),(0,M.Z)(this,"index",void 0),(0,M.Z)(this,"transactionIndex",void 0),this.provider=n;var r=Object.freeze(e.topics.slice());b(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}return(0,u.Z)(t,[{key:"toJSON",value:function(){return{_type:"log",address:this.address,blockHash:this.blockHash,blockNumber:this.blockNumber,data:this.data,index:this.index,removed:this.removed,topics:this.topics,transactionHash:this.transactionHash,transactionIndex:this.transactionIndex}}},{key:"getBlock",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.getBlock(this.blockHash);case 2:return P(!!(e=t.sent),"failed to find transaction","UNKNOWN_ERROR",{}),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.getTransaction(this.transactionHash);case 2:return P(!!(e=t.sent),"failed to find transaction","UNKNOWN_ERROR",{}),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.getTransactionReceipt(this.transactionHash);case 2:return P(!!(e=t.sent),"failed to find transaction receipt","UNKNOWN_ERROR",{}),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"removedEvent",value:function(){return{orphan:"drop-log",log:{transactionHash:(t=this).transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}};var t}}]),t}(),da=new WeakMap;Wr=Symbol.iterator;var ya=function(){function t(e,n){(0,s.Z)(this,t),(0,M.Z)(this,"provider",void 0),(0,M.Z)(this,"to",void 0),(0,M.Z)(this,"from",void 0),(0,M.Z)(this,"contractAddress",void 0),(0,M.Z)(this,"hash",void 0),(0,M.Z)(this,"index",void 0),(0,M.Z)(this,"blockHash",void 0),(0,M.Z)(this,"blockNumber",void 0),(0,M.Z)(this,"logsBloom",void 0),(0,M.Z)(this,"gasUsed",void 0),(0,M.Z)(this,"cumulativeGasUsed",void 0),(0,M.Z)(this,"gasPrice",void 0),(0,M.Z)(this,"type",void 0),(0,M.Z)(this,"status",void 0),(0,M.Z)(this,"root",void 0),v(this,da,{writable:!0,value:void 0}),g(this,da,Object.freeze(e.logs.map((function(t){return new va(t,n)}))));var r=ua;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),b(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,gasPrice:r,type:e.type,status:e.status,root:e.root})}return(0,u.Z)(t,[{key:"logs",get:function(){return y(this,da)}},{key:"toJSON",value:function(){var t=this.to,e=this.from,n=this.contractAddress,r=this.hash,a=this.index,i=this.blockHash,s=this.blockNumber,u=this.logsBloom,o=this.logs,c=this.status,l=this.root;return{_type:"TransactionReceipt",blockHash:i,blockNumber:s,contractAddress:n,cumulativeGasUsed:ca(this.cumulativeGasUsed),from:e,gasPrice:ca(this.gasPrice),gasUsed:ca(this.gasUsed),hash:r,index:a,logs:o,logsBloom:u,root:l,status:c,to:t}}},{key:"length",get:function(){return this.logs.length}},{key:Wr,value:function(){var t=this,e=0;return{next:function(){return e<t.length?{value:t.logs[e++],done:!1}:{value:void 0,done:!0}}}}},{key:"fee",get:function(){return this.gasUsed*this.gasPrice}},{key:"getBlock",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.getBlock(this.blockHash);case 2:if(null!=(e=t.sent)){t.next=5;break}throw new Error("TODO");case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.getTransaction(this.hash);case 2:if(null!=(e=t.sent)){t.next=5;break}throw new Error("TODO");case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getResult",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.getTransactionResult(this.hash);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"confirmations",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.getBlockNumber();case 2:return t.t0=t.sent,t.t1=this.blockNumber,t.t2=t.t0-t.t1,t.abrupt("return",t.t2+1);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"removedEvent",value:function(){return ka(this)}},{key:"reorderedEvent",value:function(t){return P(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),ma(this,t)}}]),t}(),ga=new WeakMap,wa=function(){function t(e,n){(0,s.Z)(this,t),(0,M.Z)(this,"provider",void 0),(0,M.Z)(this,"blockNumber",void 0),(0,M.Z)(this,"blockHash",void 0),(0,M.Z)(this,"index",void 0),(0,M.Z)(this,"hash",void 0),(0,M.Z)(this,"type",void 0),(0,M.Z)(this,"to",void 0),(0,M.Z)(this,"from",void 0),(0,M.Z)(this,"nonce",void 0),(0,M.Z)(this,"gasLimit",void 0),(0,M.Z)(this,"gasPrice",void 0),(0,M.Z)(this,"maxPriorityFeePerGas",void 0),(0,M.Z)(this,"maxFeePerGas",void 0),(0,M.Z)(this,"data",void 0),(0,M.Z)(this,"value",void 0),(0,M.Z)(this,"chainId",void 0),(0,M.Z)(this,"signature",void 0),(0,M.Z)(this,"accessList",void 0),v(this,ga,{writable:!0,value:void 0}),this.provider=n,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,g(this,ga,-1)}return(0,u.Z)(t,[{key:"toJSON",value:function(){var t=this.blockNumber,e=this.blockHash,n=this.index,r=this.hash,a=this.type,i=this.to,s=this.from,u=this.nonce,o=this.data,c=this.signature;return{_type:"TransactionReceipt",accessList:this.accessList,blockNumber:t,blockHash:e,chainId:ca(this.chainId),data:o,from:s,gasLimit:ca(this.gasLimit),gasPrice:ca(this.gasPrice),hash:r,maxFeePerGas:ca(this.maxFeePerGas),maxPriorityFeePerGas:ca(this.maxPriorityFeePerGas),nonce:u,signature:c,to:i,index:n,type:a,value:ca(this.value)}}},{key:"getBlock",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(e=this.blockNumber)){t.next=6;break}return t.next=4,this.getTransaction();case 4:(n=t.sent)&&(e=n.blockNumber);case 6:if(null!=e){t.next=8;break}return t.abrupt("return",null);case 8:if(null!=(r=this.provider.getBlock(e))){t.next=11;break}throw new Error("TODO");case 11:return t.abrupt("return",r);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.provider.getTransaction(this.hash));case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"confirmations",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n,r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=this.blockNumber){t.next=9;break}return t.next=3,m({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});case 3:if(e=t.sent,n=e.tx,r=e.blockNumber,null!=n&&null!=n.blockNumber){t.next=8;break}return t.abrupt("return",0);case 8:return t.abrupt("return",r-n.blockNumber+1);case 9:return t.next=11,this.provider.getBlockNumber();case 11:return i=t.sent,t.abrupt("return",i-this.blockNumber+1);case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"wait",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,s,u,o,c,l,f,h,p,v=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=null==e?1:e,s=null==n?0:n,u=y(this,ga),o=-1,c=-1===u,l=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n,i,s,l,f,h,p,d,g;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c){t.next=2;break}return t.abrupt("return",null);case 2:return t.next=4,m({blockNumber:v.provider.getBlockNumber(),nonce:v.provider.getTransactionCount(v.from)});case 4:if(e=t.sent,n=e.blockNumber,!(e.nonce<v.nonce)){t.next=10;break}return u=n,t.abrupt("return");case 10:if(!c){t.next=12;break}return t.abrupt("return",null);case 12:return t.next=14,v.getTransaction();case 14:if(!(i=t.sent)||null==i.blockNumber){t.next=17;break}return t.abrupt("return");case 17:-1===o&&(o=u-3)<y(v,ga)&&(o=y(v,ga));case 18:if(!(o<=n)){t.next=67;break}if(!c){t.next=21;break}return t.abrupt("return",null);case 21:return t.next=23,v.provider.getBlock(o,!0);case 23:if(null!=(s=t.sent)){t.next=26;break}return t.abrupt("return");case 26:l=(0,C.Z)(s),t.prev=27,l.s();case 29:if((f=l.n()).done){t.next=35;break}if(f.value!==v.hash){t.next=33;break}return t.abrupt("return");case 33:t.next=29;break;case 35:t.next=40;break;case 37:t.prev=37,t.t0=t.catch(27),l.e(t.t0);case 40:return t.prev=40,l.f(),t.finish(40);case 43:h=0;case 44:if(!(h<s.length)){t.next=64;break}return t.next=47,s.getTransaction(h);case 47:if((p=t.sent).from!==v.from||p.nonce!==v.nonce){t.next=61;break}if(!c){t.next=51;break}return t.abrupt("return",null);case 51:return t.next=53,v.provider.getTransactionReceipt(p.hash);case 53:if(null!=(d=t.sent)){t.next=56;break}return t.abrupt("return");case 56:if(!(n-d.blockNumber+1<r)){t.next=58;break}return t.abrupt("return");case 58:g="replaced",p.data===v.data&&p.to===v.to&&p.value===v.value?g="repriced":"0x"===p.data&&p.from===p.to&&p.value===ua&&(g="cancelled"),P(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===g||"cancelled"===g,reason:g,replacement:p.replaceableTransaction(u),hash:p.hash,receipt:d});case 61:h++,t.next=44;break;case 64:o++,t.next=18;break;case 67:return t.abrupt("return");case 68:case"end":return t.stop()}}),t,null,[[27,37,40,43]])})));return function(){return t.apply(this,arguments)}}(),f=function(t){if(null==t||0!==t.status)return t;P(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:t.to,from:t.from,data:""},receipt:t})},t.next=9,this.provider.getTransactionReceipt(this.hash);case 9:if(h=t.sent,0!==r){t.next=12;break}return t.abrupt("return",f(h));case 12:if(!h){t.next=21;break}return t.next=15,h.confirmations();case 15:if(t.t0=t.sent,t.t1=r,!(t.t0>=t.t1)){t.next=19;break}return t.abrupt("return",f(h));case 19:t.next=25;break;case 21:return t.next=23,l();case 23:if(0!==r){t.next=25;break}return t.abrupt("return",null);case 25:return p=new Promise((function(t,e){var n=[],o=function(){n.forEach((function(t){return t()}))};if(n.push((function(){c=!0})),s>0){var h=setTimeout((function(){o(),e(E("wait for transaction timeout","TIMEOUT"))}),s);n.push((function(){clearTimeout(h)}))}var p=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(i){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.confirmations();case 2:if(n.t0=n.sent,n.t1=r,!(n.t0>=n.t1)){n.next=7;break}o();try{t(f(i))}catch(a){e(a)}case 7:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();if(n.push((function(){v.provider.off(v.hash,p)})),v.provider.on(v.hash,p),u>=0){var d=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,l();case 3:t.next=11;break;case 5:if(t.prev=5,t.t0=t.catch(0),!x(t.t0,"TRANSACTION_REPLACED")){t.next=11;break}return o(),e(t.t0),t.abrupt("return");case 11:c||v.provider.once("block",d);case 12:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();n.push((function(){v.provider.off("block",d)})),v.provider.once("block",d)}})),t.next=28,p;case 28:return t.abrupt("return",t.sent);case 29:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"isMined",value:function(){return null!=this.blockHash}},{key:"isLegacy",value:function(){return 0===this.type}},{key:"isBerlin",value:function(){return 1===this.type}},{key:"isLondon",value:function(){return 2===this.type}},{key:"removedEvent",value:function(){return P(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ka(this)}},{key:"reorderedEvent",value:function(t){return P(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),P(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ma(this,t)}},{key:"replaceableTransaction",value:function(e){N(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);var n=new t(this,this.provider);return g(n,ga,e),n}}]),t}();function ma(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function ka(t){return{orphan:"drop-transaction",tx:t}}var ba=new WeakMap,Aa=function(){function t(e,n,r){(0,s.Z)(this,t),(0,M.Z)(this,"filter",void 0),(0,M.Z)(this,"emitter",void 0),v(this,ba,{writable:!0,value:void 0}),g(this,ba,n),b(this,{emitter:e,filter:r})}return(0,u.Z)(t,[{key:"removeListener",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=y(this,ba)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,this.emitter.off(this.filter,y(this,ba));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}(),xa=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a){var i;(0,s.Z)(this,n),i=e.call(this,t,t.provider),(0,M.Z)((0,o.Z)(i),"interface",void 0),(0,M.Z)((0,o.Z)(i),"fragment",void 0),(0,M.Z)((0,o.Z)(i),"args",void 0);var u=r.decodeEventLog(a,t.data,t.topics);return b((0,o.Z)(i),{args:u,fragment:a,interface:r}),i}return(0,u.Z)(n,[{key:"eventName",get:function(){return this.fragment.name}},{key:"eventSignature",get:function(){return this.fragment.format()}}]),n}(va),Za=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;return(0,s.Z)(this,n),a=e.call(this,t,t.provider),(0,M.Z)((0,o.Z)(a),"error",void 0),b((0,o.Z)(a),{error:r}),a}return(0,u.Z)(n)}(va),Ea=new WeakMap,Pa=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a){var i;return(0,s.Z)(this,n),i=e.call(this,a,r),v((0,o.Z)(i),Ea,{writable:!0,value:void 0}),g((0,o.Z)(i),Ea,t),i}return(0,u.Z)(n,[{key:"logs",get:function(){var t=this;return(0,c.Z)((0,l.Z)(n.prototype),"logs",this).map((function(e){var n=e.topics.length?y(t,Ea).getEvent(e.topics[0]):null;if(n)try{return new xa(e,y(t,Ea),n)}catch(r){return new Za(e,r)}return e}))}}]),n}(ya),Na=new WeakMap,Oa=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a){var i;return(0,s.Z)(this,n),i=e.call(this,a,r),v((0,o.Z)(i),Na,{writable:!0,value:void 0}),g((0,o.Z)(i),Na,t),i}return(0,u.Z)(n,[{key:"wait",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,c.Z)((0,l.Z)(n.prototype),"wait",this).call(this,e);case 2:if(null!=(r=t.sent)){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",new Pa(y(this,Na),this.provider,r));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(wa),Ba=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a,i){var u;return(0,s.Z)(this,n),u=e.call(this,t,r,a),(0,M.Z)((0,o.Z)(u),"log",void 0),b((0,o.Z)(u),{log:i}),u}return(0,u.Z)(n,[{key:"getBlock",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.log.getBlock();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.log.getTransaction();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.log.getTransactionReceipt();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),n}(Aa),Ia=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a,i,u){var c;(0,s.Z)(this,n),c=e.call(this,t,r,a,new xa(u,t.interface,i));var l=t.interface.decodeEventLog(i,c.log.data,c.log.topics);return b((0,o.Z)(c),{args:l,fragment:i}),c}return(0,u.Z)(n,[{key:"eventName",get:function(){return this.fragment.name}},{key:"eventSignature",get:function(){return this.fragment.format()}}]),n}(Ba),Ca=BigInt(0);function Ra(t){return t&&"function"===typeof t.call}function Ta(t){return t&&"function"===typeof t.estimateGas}function Sa(t){return t&&"function"===typeof t.resolveName}function Ma(t){return t&&"function"===typeof t.sendTransaction}function Ua(t){if(null!=t){if(Sa(t))return t;if(t.provider)return t.provider}}var Da=new WeakMap,Fa=function(){function t(e,n,r){if((0,s.Z)(this,t),v(this,Da,{writable:!0,value:void 0}),(0,M.Z)(this,"fragment",void 0),b(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");var u=La(e.runner,"resolveName"),o=Sa(u)?u:null;g(this,Da,(0,i.Z)((0,a.Z)().mark((function t(){var i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n.inputs.map((function(t,e){return null==r[e]?null:t.walkAsync(r[e],(function(t,e){return"address"===t?Array.isArray(e)?Promise.all(e.map((function(t){return br(t,o)}))):br(e,o):e}))})));case 2:return i=t.sent,t.abrupt("return",e.interface.encodeFilterTopics(n,i));case 4:case"end":return t.stop()}}),t)})))())}return(0,u.Z)(t,[{key:"getTopicFilter",value:function(){return y(this,Da)}}]),t}();function La(t,e){return null==t?null:"function"===typeof t[e]?t:t.provider&&"function"===typeof t.provider[e]?t.provider:null}function Ga(t){return null==t?null:t.provider||null}function Qa(t,e){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N("object"===typeof(r=je.dereference(e,"overrides")),"invalid overrides parameter","overrides",e),N(null==(i=fa(r)).to||(n||[]).indexOf("to")>=0,"cannot override to","overrides.to",i.to),N(null==i.data||(n||[]).indexOf("data")>=0,"cannot override data","overrides.data",i.data),i.from&&(i.from=i.from),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ja(t,e,n){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=La(e,"resolveName"),s=Sa(i)?i:null,t.next=4,Promise.all(n.map((function(t,e){return t.walkAsync(r[e],(function(t,e){return e=je.dereference(e,t),"address"===t?br(e,s):e}))})));case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ja(t){var e=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n){var r,i,s,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qa(n,["data"]);case 2:return r=e.sent,e.next=5,t.getAddress();case 5:if(r.to=e.sent,!r.from){e.next=10;break}return e.next=9,br(r.from,Ua(t.runner));case 9:r.from=e.sent;case 10:return i=t.interface,s=rt(r.value||Ca,"overrides.value")===Ca,u="0x"===(r.data||"0x"),!i.fallback||i.fallback.payable||!i.receive||u||s||N(!1,"cannot send data to receive or send value to non-payable fallback","overrides",n),N(i.fallback||u,"cannot send data to receive-only contract","overrides.data",r.data),N(i.receive||i.fallback&&i.fallback.payable||s,"cannot send value to non-payable fallback","overrides.value",r.value),N(i.fallback||u,"cannot send data to receive-only contract","overrides.data",r.data),e.abrupt("return",r);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(r){var i,s;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return P(Ra(i=La(t.runner,"call")),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"}),n.next=4,e(r);case 4:return s=n.sent,n.prev=5,n.next=8,i.call(s);case 8:return n.abrupt("return",n.sent);case 11:if(n.prev=11,n.t0=n.catch(5),!Z(n.t0)||!n.t0.data){n.next=15;break}throw t.interface.makeError(n.t0.data,s);case 15:throw n.t0;case 16:case"end":return n.stop()}}),n,null,[[5,11]])})));return function(t){return n.apply(this,arguments)}}(),r=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(r){var i,s,u;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return P(Ma(i=t.runner),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"}),n.t0=i,n.next=5,e(r);case 5:return n.t1=n.sent,n.next=8,n.t0.sendTransaction.call(n.t0,n.t1);case 8:return s=n.sent,u=Ga(t.runner),n.abrupt("return",new Oa(t.interface,u,s));case 11:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),s=function(){var n=(0,i.Z)((0,a.Z)().mark((function n(r){var i;return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return P(Ta(i=La(t.runner,"estimateGas")),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),n.t0=i,n.next=5,e(r);case 5:return n.t1=n.sent,n.next=8,n.t0.estimateGas.call(n.t0,n.t1);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),u=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return b(u,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),u}var Va=Symbol.for("_ethersInternal_contract"),za=new WeakMap;function Ka(t){return za.get(t[Va])}function qa(t){return t&&"object"===typeof t&&"getTopicFilter"in t&&"function"===typeof t.getTopicFilter&&t.fragment}function Ya(t,e){return _a.apply(this,arguments)}function _a(){return _a=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i,s,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=null,!Array.isArray(n)){t.next=6;break}s=function(t){if(W(t,32))return t;var n=e.interface.getEvent(t);return N(n,"unknown fragment","name",t),n.topicHash},r=n.map((function(t){return null==t?null:Array.isArray(t)?t.map(s):s(t)})),t.next=21;break;case 6:if("*"!==n){t.next=10;break}r=[null],t.next=21;break;case 10:if("string"!==typeof n){t.next=14;break}W(n,32)?r=[n]:(N(i=e.interface.getEvent(n),"unknown fragment","event",n),r=[i.topicHash]),t.next=21;break;case 14:if(!qa(n)){t.next=20;break}return t.next=17,n.getTopicFilter();case 17:r=t.sent,t.next=21;break;case 20:"fragment"in n?(i=n.fragment,r=[i.topicHash]):N(!1,"unknown event name","event",n);case 21:return r=r.map((function(t){if(null==t)return null;if(Array.isArray(t)){var e=Array.from(new Set(t.map((function(t){return t.toLowerCase()}))).values());return 1===e.length?e[0]:(e.sort(),e)}return t.toLowerCase()})),u=r.map((function(t){return null==t?"null":Array.isArray(t)?t.join("|"):t})).join("&"),t.abrupt("return",{fragment:i,tag:u,topics:r});case 24:case"end":return t.stop()}}),t)}))),_a.apply(this,arguments)}function Xa(t,e){return $a.apply(this,arguments)}function $a(){return($a=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Ka(e),i=r.subs,t.t1=i,t.next=4,Ya(e,n);case 4:if(t.t2=t.sent.tag,t.t0=t.t1.get.call(t.t1,t.t2),t.t0){t.next=8;break}t.t0=null;case 8:return t.abrupt("return",t.t0);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ti(t,e,n){return ei.apply(this,arguments)}function ei(){return ei=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var s,u,o,c,l,f,h,p,v,d,y,g,w,m;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(s=Ga(e.runner),"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:n}),t.next=4,Ya(e,r);case 4:return u=t.sent,o=u.fragment,c=u.tag,l=u.topics,f=Ka(e),h=f.addr,p=f.subs,(v=p.get(c))||(d={address:h||e,topics:l},y=function(t){var n=o;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(s){}if(n){var a=n,i=o?e.interface.decodeEventLog(o,t.data,t.topics):[];ii(e,r,i,(function(n){return new Ia(e,n,r,a,t)}))}else ii(e,r,[],(function(n){return new Ba(e,n,r,t)}))},g=[],w=function(){g.length||g.push(s.on(d,y))},m=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!=g.length){t.next=2;break}return t.abrupt("return");case 2:return e=g,g=[],t.next=6,Promise.all(e);case 6:s.off(d,y);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v={tag:c,listeners:[],start:w,stop:m},p.set(c,v)),t.abrupt("return",v);case 12:case"end":return t.stop()}}),t)}))),ei.apply(this,arguments)}var ni=Promise.resolve();function ri(t,e,n,r){return ai.apply(this,arguments)}function ai(){return(ai=(0,i.Z)((0,a.Z)().mark((function t(e,n,r,i){var s,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ni;case 2:return t.next=4,Xa(e,n);case 4:if(s=t.sent){t.next=7;break}return t.abrupt("return",!1);case 7:return u=s.listeners.length,s.listeners=s.listeners.filter((function(t){var n=t.listener,a=t.once,s=Array.from(r);i&&s.push(i(a?null:n));try{n.call.apply(n,[e].concat(s))}catch(u){}return!a})),0===s.listeners.length&&(s.stop(),Ka(e).subs.delete(s.tag)),t.abrupt("return",u>0);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ii(t,e,n,r){return si.apply(this,arguments)}function si(){return(si=(0,i.Z)((0,a.Z)().mark((function t(e,n,r,i){var s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ni;case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:return s=ri(e,n,r,i),ni=s,t.next=11,s;case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,null,[[0,5]])})))).apply(this,arguments)}var ui=["then"],oi=function(){function t(e,n,r,a){var i=this;(0,s.Z)(this,t),(0,M.Z)(this,"target",void 0),(0,M.Z)(this,"interface",void 0),(0,M.Z)(this,"runner",void 0),(0,M.Z)(this,"filters",void 0),(0,M.Z)(this,Va,void 0),(0,M.Z)(this,"fallback",void 0),N("string"===typeof e||wr(e),"invalid value for Contract target","target",e),null==r&&(r=null);var u,o=aa.from(n);b(this,{target:e,runner:r,interface:o}),Object.defineProperty(this,Va,{value:{}});var c=null,l=null;if(a){var f=Ga(r);l=new Oa(this.interface,f,a)}var h,p,v=new Map;if("string"===typeof e)if(W(e))c=e,u=Promise.resolve(e);else{var d=La(r,"resolveName");if(!Sa(d))throw E("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});u=d.resolveName(e).then((function(t){if(null==t)throw E("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ka(i).addr=t,t}))}else u=e.getAddress().then((function(t){if(null==t)throw new Error("TODO");return Ka(i).addr=t,t}));h=this,p={addrPromise:u,addr:c,deployTx:l,subs:v},za.set(h[Va],p);var y=new Proxy({},{get:function(t,e,n){if("symbol"===typeof e||ui.indexOf(e)>=0)return Reflect.get(t,e,n);try{return i.getEvent(e)}catch(r){if(!x(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:function(t,e){return ui.indexOf(e)>=0?Reflect.has(t,e):Reflect.has(t,e)||i.interface.hasEvent(String(e))}});return b(this,{filters:y}),b(this,{fallback:o.receive||o.fallback?Ja(this):null}),new Proxy(this,{get:function(t,e,n){if("symbol"===typeof e||e in t||ui.indexOf(e)>=0)return Reflect.get(t,e,n);try{return t.getFunction(e)}catch(r){if(!x(r,"INVALID_ARGUMENT")||"key"!==r.argument)throw r}},has:function(t,e){return"symbol"===typeof e||e in t||ui.indexOf(e)>=0?Reflect.has(t,e):t.interface.hasFunction(e)}})}return(0,u.Z)(t,[{key:"connect",value:function(e){return new t(this.target,this.interface,e)}},{key:"attach",value:function(e){return new t(e,this.interface,this.runner)}},{key:"getAddress",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ka(this).addrPromise;case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getDeployedCode",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(e=Ga(this.runner),"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"}),t.t0=e,t.next=5,this.getAddress();case 5:return t.t1=t.sent,t.next=8,t.t0.getCode.call(t.t0,t.t1);case 8:if("0x"!==(n=t.sent)){t.next=11;break}return t.abrupt("return",null);case 11:return t.abrupt("return",n);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"waitForDeployment",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n,r=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.deploymentTransaction())){t.next=5;break}return t.next=4,e.wait();case 4:return t.abrupt("return",this);case 5:return t.next=7,this.getDeployedCode();case 7:if(null==t.sent){t.next=10;break}return t.abrupt("return",this);case 10:return P(null!=(n=Ga(this.runner)),"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),t.abrupt("return",new Promise((function(t,e){var s=function(){var u=(0,i.Z)((0,a.Z)().mark((function i(){return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,r.getDeployedCode();case 3:if(null==a.sent){a.next=6;break}return a.abrupt("return",t(r));case 6:n.once("block",s),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),e(a.t0);case 12:case"end":return a.stop()}}),i,null,[[0,9]])})));return function(){return u.apply(this,arguments)}}();s()})));case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"deploymentTransaction",value:function(){return Ka(this).deployTx}},{key:"getFunction",value:function(t){"string"!==typeof t&&(t=t.format());var e=function(t,e){var n=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=t.interface.getFunction(e,r);return P(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),i},r=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var r,i,s,u,o,c,l=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=l.length,i=new Array(r),s=0;s<r;s++)i[s]=l[s];if(u=n.apply(void 0,i),o={},u.inputs.length+1!==i.length){e.next=11;break}return e.next=6,Qa(i.pop());case 6:if(!(o=e.sent).from){e.next=11;break}return e.next=10,br(o.from,Ua(t.runner));case 10:o.from=e.sent;case 11:if(u.inputs.length===i.length){e.next=13;break}throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");case 13:return e.next=15,ja(t.runner,u.inputs,i);case 15:return c=e.sent,e.t0=Object,e.t1={},e.t2=o,e.next=21,m({to:t.getAddress(),data:t.interface.encodeFunctionData(u,c)});case 21:return e.t3=e.sent,e.abrupt("return",e.t0.assign.call(e.t0,e.t1,e.t2,e.t3));case 23:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n=arguments;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.apply(void 0,n);case 2:if(1!==(e=t.sent).length){t.next=5;break}return t.abrupt("return",e[0]);case 5:return t.abrupt("return",e);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n,i,s,u=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(Ma(n=t.runner),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"}),e.t0=n,e.next=5,r.apply(void 0,u);case 5:return e.t1=e.sent,e.next=8,e.t0.sendTransaction.call(e.t0,e.t1);case 8:return i=e.sent,s=Ga(t.runner),e.abrupt("return",new Oa(t.interface,s,i));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),o=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var n,i=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(Ta(n=La(t.runner,"estimateGas")),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),e.t0=n,e.next=5,r.apply(void 0,i);case 5:return e.t1=e.sent,e.next=8,e.t0.estimateGas.call(e.t0,e.t1);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var i,s,u,o,c=arguments;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(Ra(i=La(t.runner,"call")),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"}),e.next=4,r.apply(void 0,c);case 4:return s=e.sent,u="0x",e.prev=6,e.next=9,i.call(s);case 9:u=e.sent,e.next=17;break;case 12:if(e.prev=12,e.t0=e.catch(6),!Z(e.t0)||!e.t0.data){e.next=16;break}throw t.interface.makeError(e.t0.data,s);case 16:throw e.t0;case 17:return o=n.apply(void 0,c),e.abrupt("return",t.interface.decodeFunctionResult(o,u));case 19:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e=arguments;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.apply(void 0,e).constant){t.next=5;break}return t.next=4,s.apply(void 0,e);case 4:case 7:return t.abrupt("return",t.sent);case 5:return t.next=7,u.apply(void 0,e);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return b(l,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:u,staticCall:s,staticCallResult:c}),Object.defineProperty(l,"fragment",{configurable:!1,enumerable:!0,get:function(){var n=t.interface.getFunction(e);return P(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),n}}),l}(this,t);return e}},{key:"getEvent",value:function(t){return"string"!==typeof t&&(t=t.format()),function(t,e){var n=function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=t.interface.getEvent(e,r);return P(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),i},r=function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return new Fa(t,n.apply(void 0,r),r)};return b(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:function(){var n=t.interface.getEvent(e);return P(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),n}}),r}(this,t)}},{key:"queryTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("@TODO");case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"queryFilter",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var i,s,u,o,c,l,f,h,p,v=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==n&&(n=0),null==r&&(r="latest"),i=Ka(this),s=i.addr,u=i.addrPromise,!s){t.next=7;break}t.t0=s,t.next=10;break;case 7:return t.next=9,u;case 9:t.t0=t.sent;case 10:return o=t.t0,t.next=13,Ya(this,e);case 13:return c=t.sent,l=c.fragment,f=c.topics,h={address:o,topics:f,fromBlock:n,toBlock:r},P(p=Ga(this.runner),"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),t.next=21,p.getLogs(h);case 21:return t.abrupt("return",t.sent.map((function(t){var e=l;if(null==e)try{e=v.interface.getEvent(t.topics[0])}catch(n){}if(e)try{return new xa(t,v.interface,e)}catch(n){return new Za(t,n)}return new va(t,p)})));case 22:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"on",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ti(this,"on",e);case 2:return(r=t.sent).listeners.push({listener:n,once:!1}),r.start(),t.abrupt("return",this);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"once",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ti(this,"once",e);case 2:return(r=t.sent).listeners.push({listener:n,once:!0}),r.start(),t.abrupt("return",this);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"emit",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s=arguments;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=s.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=s[i];return t.next=3,ii(this,e,r,null);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"listenerCount",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=3,Xa(this,e);case 3:if(n=t.sent){t.next=6;break}return t.abrupt("return",0);case 6:return t.abrupt("return",n.listeners.length);case 7:r=Ka(this),i=r.subs,s=0,u=(0,C.Z)(i.values());try{for(u.s();!(o=u.n()).done;)c=o.value.listeners,s+=c.length}catch(a){u.e(a)}finally{u.f()}return t.abrupt("return",s);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"listeners",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=3,Xa(this,e);case 3:if(n=t.sent){t.next=6;break}return t.abrupt("return",[]);case 6:return t.abrupt("return",n.listeners.map((function(t){return t.listener})));case 7:r=Ka(this),i=r.subs,s=[],u=(0,C.Z)(i.values());try{for(u.s();!(o=u.n()).done;)c=o.value.listeners,s=s.concat(c.map((function(t){return t.listener})))}catch(a){u.e(a)}finally{u.f()}return t.abrupt("return",s);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"off",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xa(this,e);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",this);case 5:return n&&(i=r.listeners.map((function(t){return t.listener})).indexOf(n))>=0&&r.listeners.splice(i,1),null!=n&&0!==r.listeners.length||(r.stop(),Ka(this).subs.delete(r.tag)),t.abrupt("return",this);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"removeAllListeners",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=10;break}return t.next=3,Xa(this,e);case 3:if(n=t.sent){t.next=6;break}return t.abrupt("return",this);case 6:n.stop(),Ka(this).subs.delete(n.tag),t.next=13;break;case 10:r=Ka(this),i=r.subs,s=(0,C.Z)(i.values());try{for(s.s();!(u=s.n()).done;)o=u.value,c=o.tag,(0,o.stop)(),i.delete(c)}catch(a){s.e(a)}finally{s.f()}case 13:return t.abrupt("return",this);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addListener",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.on(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"removeListener",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.off(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}],[{key:"buildClass",value:function(e){var n=function(t){(0,f.Z)(r,t);var n=(0,h.Z)(r);function r(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,s.Z)(this,r),n.call(this,t,e,a)}return(0,u.Z)(r)}(t);return n}},{key:"from",value:function(t,e,n){return null==n&&(n=null),new this(t,e,n)}}]),t}();var ci=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n)}(oi),li=n(3878),fi=n(9199),hi=n(181),pi=n(5267);var vi=n(3433),di=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function yi(t){return function(t){var e=0;return function(){return t[e++]}}(function(t){var e=0;function n(){return t[e++]<<8|t[e++]}for(var r=n(),a=1,i=[0,1],s=1;s<r;s++)i.push(a+=n());var u=n(),o=e;e+=u;var c=0,l=0;function f(){return 0==c&&(l=l<<8|t[e++],c=8),l>>--c&1}for(var h=Math.pow(2,31),p=h>>>1,v=p>>1,d=h-1,y=0,g=0;g<31;g++)y=y<<1|f();for(var w=[],m=0,k=h;;){for(var b=Math.floor(((y-m+1)*a-1)/k),A=0,x=r;x-A>1;){var Z=A+x>>>1;b<i[Z]?x=Z:A=Z}if(0==A)break;w.push(A);for(var E=m+Math.floor(k*i[A]/a),P=m+Math.floor(k*i[A+1]/a)-1;0==((E^P)&p);)y=y<<1&d|f(),E=E<<1&d,P=P<<1&d|1;for(;E&~P&v;)y=y&p|y<<1&d>>>1|f(),E=E<<1^p,P=(P^p)<<1|p|1;m=E,k=1+P-E}var N=r-4;return w.map((function(e){switch(e-N){case 3:return N+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return N+256+(t[o++]<<8|t[o++]);case 1:return N+t[o++];default:return e-1}}))}(function(t){var e=[];(0,vi.Z)("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/").forEach((function(t,n){return e[t.charCodeAt(0)]=n}));for(var n=t.length,r=new Uint8Array(6*n>>3),a=0,i=0,s=0,u=0;a<n;a++)u=u<<6|e[t.charCodeAt(a)],(s+=6)>=8&&(r[i++]=u>>(s-=8));return r}(t)))}function gi(t){return 1&t?~t>>1:t>>1}function wi(t,e){for(var n=Array(t),r=0,a=0;r<t;r++)n[r]=a+=gi(e());return n}function mi(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];;){var r=t(),a=t();if(!a)break;e+=r;for(var i=0;i<a;i++)n.push(e+i);e+=a+1}return n}function ki(t){return Ai((function(){var e=mi(t);if(e.length)return e}))}function bi(t){for(var e=[];;){var n=t();if(0==n)break;e.push(Zi(n,t))}for(;;){var r=t()-1;if(r<0)break;e.push(Ei(r,t))}return e.flat()}function Ai(t){for(var e=[];;){var n=t(e.length);if(!n)break;e.push(n)}return e}function xi(t,e,n){for(var r=Array(t).fill().map((function(){return[]})),a=0;a<e;a++)wi(t,n).forEach((function(t,e){return r[e].push(t)}));return r}function Zi(t,e){var n=1+e(),r=e(),a=Ai(e);return xi(a.length,1+t,e).flatMap((function(t,e){var i,s=(i=t,(0,li.Z)(i)||(0,fi.Z)(i)||(0,hi.Z)(i)||(0,pi.Z)()),u=s[0],o=s.slice(1);return Array(a[e]).fill().map((function(t,e){var a=e*r;return[u+e*n,o.map((function(t){return t+a}))]}))}))}function Ei(t,e){return xi(1+e(),1+t,e).map((function(t){return[t[0],t.slice(1)]}))}function Pi(t){return"{".concat(function(t){return t.toString(16).toUpperCase().padStart(2,"0")}(t),"}")}function Ni(t){for(var e=[],n=0,r=t.length;n<r;){var a=t.codePointAt(n);n+=a<65536?1:2,e.push(a)}return e}function Oi(t){var e=t.length;if(e<4096)return String.fromCodePoint.apply(String,(0,vi.Z)(t));for(var n=[],r=0;r<e;)n.push(String.fromCodePoint.apply(String,(0,vi.Z)(t.slice(r,r+=4096))));return n.join("")}function Bi(t,e){for(var n=t.length,r=n-e.length,a=0;0==r&&a<n;a++)r=t[a]-e[a];return r}var Ii,Ci,Ri,Ti,Si=44032,Mi=4352,Ui=4449,Di=4519,Fi=28,Li=588;function Gi(t){return t>>24&255}function Qi(t){return 16777215&t}function Hi(t){return t>=Si&&t<55204}function ji(t,e){if(t>=Mi&&t<4371&&e>=Ui&&e<4470)return Si+(t-Mi)*Li+(e-Ui)*Fi;if(Hi(t)&&e>Di&&e<4547&&(t-Si)%Fi==0)return t+(e-Di);var n=Ti.get(t);return n&&(n=n.get(e))?n:-1}function Wi(t){Ii||function(){var t=yi("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");Ii=new Map(ki(t).flatMap((function(t,e){return t.map((function(t){return[t,e+1<<24]}))}))),Ci=new Set(mi(t)),Ri=new Map,Ti=new Map;var e,n=(0,C.Z)(bi(t));try{for(n.s();!(e=n.n()).done;){var r=(0,It.Z)(e.value,2),a=r[0],i=r[1];if(!Ci.has(a)&&2==i.length){var s=(0,It.Z)(i,2),u=s[0],o=s[1],c=Ti.get(u);c||(c=new Map,Ti.set(u,c)),c.set(o,a)}Ri.set(a,i.reverse())}}catch(l){n.e(l)}finally{n.f()}}();var e=[],n=[],r=!1;function a(t){var n=Ii.get(t);n&&(r=!0,t|=n),e.push(t)}var i,s=(0,C.Z)(t);try{for(s.s();!(i=s.n()).done;)for(var u=i.value;;){if(u<128)e.push(u);else if(Hi(u)){var o=u-Si,c=o%Li/Fi|0,l=o%Fi;a(Mi+(o/Li|0)),a(Ui+c),l>0&&a(Di+l)}else{var f=Ri.get(u);f?n.push.apply(n,(0,vi.Z)(f)):a(u)}if(!n.length)break;u=n.pop()}}catch(g){s.e(g)}finally{s.f()}if(r&&e.length>1)for(var h=Gi(e[0]),p=1;p<e.length;p++){var v=Gi(e[p]);if(0==v||h<=v)h=v;else{for(var d=p-1;;){var y=e[d+1];if(e[d+1]=e[d],e[d]=y,!d)break;if((h=Gi(e[--d]))<=v)break}h=Gi(e[p])}}return e}function Ji(t){return Wi(t).map(Qi)}function Vi(t){return function(t){var e,n=[],r=[],a=-1,i=0,s=(0,C.Z)(t);try{for(s.s();!(e=s.n()).done;){var u=e.value,o=Gi(u),c=Qi(u);if(-1==a)0==o?a=c:n.push(c);else if(i>0&&i>=o)0==o?(n.push.apply(n,[a].concat(r)),r.length=0,a=c):r.push(c),i=o;else{var l=ji(a,c);l>=0?a=l:0==i&&0==o?(n.push(a),a=c):(r.push(c),i=o)}}}catch(f){s.e(f)}finally{s.f()}return a>=0&&n.push.apply(n,[a].concat(r)),n}(Wi(t))}var zi=".",Ki=function(t){return Array.from(t)};function qi(t,e){return t.P.has(e)||t.Q.has(e)}var Yi,_i,Xi,$i,ts,es,ns,rs,as,is,ss,us=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"is_emoji",get:function(){return!0}}]),n}(G(Array));function os(){if(!Yi){var t=yi("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"),e=function(){return mi(t)},n=function(){return new Set(e())};Yi=new Map(bi(t)),_i=n(),Xi=e(),$i=new Set(e().map((function(t){return Xi[t]}))),Xi=new Set(Xi),ts=n(),n();var r=ki(t),a=t(),i=function(){return new Set(e().flatMap((function(t){return r[t]})).concat(e()))};es=Ai((function(e){var n=Ai(t).map((function(t){return t+96}));if(n.length){var r=e>=a;return n[0]-=32,n=Oi(n),r&&(n="Restricted[".concat(n,"]")),{N:n,P:i(),Q:i(),M:!t(),R:r}}})),ns=n(),rs=new Map;var s=e().concat(Ki(ns)).sort((function(t,e){return t-e}));s.forEach((function(e,n){var r=t(),a=s[n]=r?s[n-r]:{V:[],M:new Map};a.V.push(e),ns.has(e)||rs.set(e,a)}));var u,o=(0,C.Z)(new Set(rs.values()));try{for(o.s();!(u=o.n()).done;){var c,l=u.value,f=l.V,h=l.M,p=[],v=(0,C.Z)(f);try{var d=function(){var t=c.value,e=es.filter((function(e){return qi(e,t)})),n=p.find((function(t){var n=t.G;return e.some((function(t){return n.has(t)}))}));n||(n={G:new Set,V:[]},p.push(n)),n.V.push(t),e.forEach((function(t){return n.G.add(t)}))};for(v.s();!(c=v.n()).done;)d()}catch(j){v.e(j)}finally{v.f()}for(var y=p.flatMap((function(t){return Ki(t.G)})),g=function(){var t,e=m[w],n=e.G,r=e.V,a=new Set(y.filter((function(t){return!n.has(t)}))),i=(0,C.Z)(r);try{for(i.s();!(t=i.n()).done;){var s=t.value;h.set(s,a)}}catch(j){i.e(j)}finally{i.f()}},w=0,m=p;w<m.length;w++)g()}}catch(j){o.e(j)}finally{o.f()}var k,b=new Set,A=new Set,x=function(t){return b.has(t)?A.add(t):b.add(t)},Z=(0,C.Z)(es);try{for(Z.s();!(k=Z.n()).done;){var E,P=k.value,N=(0,C.Z)(P.P);try{for(N.s();!(E=N.n()).done;){x(E.value)}}catch(j){N.e(j)}finally{N.f()}var O,B=(0,C.Z)(P.Q);try{for(B.s();!(O=B.n()).done;){x(O.value)}}catch(j){B.e(j)}finally{B.f()}}}catch(j){Z.e(j)}finally{Z.f()}var I,R=(0,C.Z)(b);try{for(R.s();!(I=R.n()).done;){var T=I.value;rs.has(T)||A.has(T)||rs.set(T,1)}}catch(j){R.e(j)}finally{R.f()}as=new Set(Ki(b).concat(Ki(Ji(b)))),is=function(t){var e=[],n=mi(t);return function t(n,r,a){var i=n.S,s=n.B;if(!(4&i&&a===r[r.length-1])){2&i&&(a=r[r.length-1]),1&i&&e.push(r);var u,o=(0,C.Z)(s);try{for(o.s();!(u=o.n()).done;){var c,l=u.value,f=(0,C.Z)(l.Q);try{for(f.s();!(c=f.n()).done;){var h=c.value;t(l,[].concat((0,vi.Z)(r),[h]),a)}}catch(j){f.e(j)}finally{f.f()}}}catch(j){o.e(j)}finally{o.f()}}}(function e(r){var a=t(),i=Ai((function(){var r=mi(t).map((function(t){return n[t]}));if(r.length)return e(r)}));return{S:a,B:i,Q:r}}([]),[]),e}(t).map((function(t){return us.from(t)})).sort(Bi),ss=new Map;var S,M=(0,C.Z)(is);try{for(M.s();!(S=M.n()).done;){var U,D=S.value,F=[ss],L=(0,C.Z)(D);try{var G=function(){var t,e=U.value,n=F.map((function(t){var n=t.get(e);return n||(n=new Map,t.set(e,n)),n}));65039===e?(t=F).push.apply(t,(0,vi.Z)(n)):F=n};for(L.s();!(U=L.n()).done;)G()}catch(j){L.e(j)}finally{L.f()}var Q,H=(0,C.Z)(F);try{for(H.s();!(Q=H.n()).done;){Q.value.V=D}}catch(j){H.e(j)}finally{H.f()}}}catch(j){M.e(j)}finally{M.f()}}}function cs(t){return(ps(t)?"":"".concat(ls(fs([t]))," "))+Pi(t)}function ls(t){return'"'.concat(t,'"\u200e')}function fs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pi,n=[];hs(t[0])&&n.push("\u25cc");for(var r=0,a=t.length,i=0;i<a;i++){var s=t[i];ps(s)&&(n.push(Oi(t.slice(r,i))),n.push(e(s)),r=i+1)}return n.push(Oi(t.slice(r,a))),n.join("")}function hs(t){return os(),Xi.has(t)}function ps(t){return os(),ts.has(t)}function vs(t,e,n){if(!t)return[];os();var r=0;return t.split(zi).map((function(t){var a=Ni(t),i={input:a,offset:r};r+=a.length+1;try{var s,u=i.tokens=ms(a,e,n),o=u.length;if(!o)throw new Error("empty label");var c=i.output=u.flat();if(function(t){for(var e=t.lastIndexOf(95);e>0;)if(95!==t[--e])throw new Error("underscore allowed only at start")}(c),!(i.emoji=o>1||u[0].is_emoji)&&c.every((function(t){return t<128})))!function(t){if(t.length>=4&&45==t[2]&&45==t[3])throw new Error('invalid label extension: "'.concat(Oi(t.slice(0,4)),'"'))}(c),s="ASCII";else{var l=u.flatMap((function(t){return t.is_emoji?[]:t}));if(l.length){if(Xi.has(c[0]))throw ws("leading combining mark");for(var f=1;f<o;f++){var h=u[f];if(!h.is_emoji&&Xi.has(h[0]))throw ws('emoji + combining mark: "'.concat(Oi(u[f-1])," + ").concat(fs([h[0]]),'"'))}!function(t){var e=t[0],n=di.get(e);if(n)throw ws("leading ".concat(n));for(var r=t.length,a=-1,i=1;i<r;i++){e=t[i];var s=di.get(e);if(s){if(a==i)throw ws("".concat(n," + ").concat(s));a=i+1,n=s}}if(a==r)throw ws("trailing ".concat(n))}(c);var p=Ki(new Set(l)),v=function(t){var e,n=es,r=(0,C.Z)(t);try{var a=function(){var t=e.value,r=n.filter((function(e){return qi(e,t)}));if(!r.length)throw es.some((function(e){return qi(e,t)}))?gs(n[0],t):ys(t);if(n=r,1==r.length)return"break"};for(r.s();!(e=r.n()).done;){if("break"===a())break}}catch(i){r.e(i)}finally{r.f()}return n}(p),d=(0,It.Z)(v,1)[0];!function(t,e){var n,r=(0,C.Z)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!qi(t,a))throw gs(t,a)}}catch(f){r.e(f)}finally{r.f()}if(t.M)for(var i=Ji(e),s=1,u=i.length;s<u;s++)if($i.has(i[s])){for(var o,c=s+1;c<u&&$i.has(o=i[c]);c++)for(var l=s;l<c;l++)if(i[l]==o)throw new Error("duplicate non-spacing marks: ".concat(cs(o)));if(c-s>4)throw new Error("excessive non-spacing marks: ".concat(ls(fs(i.slice(s-1,c)))," (").concat(c-s,"/").concat(4,")"));s=c}}(d,l),function(t,e){var n,r,a=[],i=(0,C.Z)(e);try{var s=function(){var t=r.value,e=rs.get(t);if(1===e)return{v:void 0};if(e){var i=e.M.get(t);if(n=n?n.filter((function(t){return i.has(t)})):Ki(i),!n.length)return{v:void 0}}else a.push(t)};for(i.s();!(r=i.n()).done;){var u=s();if("object"===typeof u)return u.v}}catch(f){i.e(f)}finally{i.f()}if(n){var o,c=(0,C.Z)(n);try{var l=function(){var e=o.value;if(a.every((function(t){return qi(e,t)})))throw new Error("whole-script confusable: ".concat(t.N,"/").concat(e.N))};for(c.s();!(o=c.n()).done;)l()}catch(f){c.e(f)}finally{c.f()}}}(d,p),s=d.N}else s="Emoji"}i.type=s}catch(y){i.error=y}return i}))}function ds(t){return t.map((function(e){var n=e.input,r=e.error,a=e.output;if(r){var i=r.message;throw new Error(1==t.length?i:"Invalid label ".concat(ls(fs(n)),": ").concat(i))}return Oi(a)})).join(zi)}function ys(t){return new Error("disallowed character: ".concat(cs(t)))}function gs(t,e){var n=cs(e),r=es.find((function(t){return t.P.has(e)}));return r&&(n="".concat(r.N," ").concat(n)),new Error("illegal mixture: ".concat(t.N," + ").concat(n))}function ws(t){return new Error("illegal placement: ".concat(t))}function ms(t,e,n){var r=[],a=[];for(t=t.slice().reverse();t.length;){var i=bs(t);if(i)a.length&&(r.push(e(a)),a=[]),r.push(n(i));else{var s=t.pop();if(as.has(s))a.push(s);else{var u,o=Yi.get(s);if(o)(u=a).push.apply(u,(0,vi.Z)(o));else if(!_i.has(s))throw ys(s)}}}return a.length&&r.push(e(a)),r}function ks(t){return t.filter((function(t){return 65039!=t}))}function bs(t,e){for(var n,r=ss,a=t.length;a&&(r=r.get(t[--a]));){var i=r.V;i&&(n=i,e&&e.push.apply(e,(0,vi.Z)(t.slice(a).reverse())),t.length=a)}return n}var As=new Uint8Array(32);function xs(t){return N(0!==t.length,"invalid ENS name; empty component","comp",t),t}function Zs(t){var e=cn(function(t){try{if(0===t.length)throw new Error("empty label");return function(t){return ds(vs(t,Vi,ks))}(t)}catch(e){N(!1,"invalid ENS name (".concat(e.message,")"),"name",t)}}(t)),n=[];if(0===t.length)return n;for(var r=0,a=0;a<e.length;a++){46===e[a]&&(n.push(xs(e.slice(r,a))),r=a+1)}return N(r<e.length,"invalid ENS name; empty component","name",t),n.push(xs(e.slice(r))),n}function Es(t){N("string"===typeof t,"invalid ENS name; not a string","name",t),N(t.length,"invalid ENS name (empty label)","name",t);for(var e=As,n=Zs(t);n.length;)e=Oe(z([e,Oe(n.pop())]));return V(e)}function Ps(t){return V(z(Zs(t).map((function(t){if(t.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");var e=new Uint8Array(t.length+1);return e.set(t,1),e[0]=e.length-1,e}))))+"00"}As.fill(0);var Ns,Os="0x0000000000000000000000000000000000000000000000000000000000000000",Bs=BigInt(0),Is=BigInt(1),Cs=BigInt(2),Rs=BigInt(27),Ts=BigInt(28),Ss=BigInt(35),Ms={};function Us(t){return _(ct(t),32)}var Ds=new WeakMap,Fs=new WeakMap,Ls=new WeakMap,Gs=new WeakMap;Ns=Symbol.for("nodejs.util.inspect.custom");var Qs=function(){function t(e,n,r,a){(0,s.Z)(this,t),v(this,Ds,{writable:!0,value:void 0}),v(this,Fs,{writable:!0,value:void 0}),v(this,Ls,{writable:!0,value:void 0}),v(this,Gs,{writable:!0,value:void 0}),I(e,Ms,"Signature"),g(this,Ds,n),g(this,Fs,r),g(this,Ls,a),g(this,Gs,null)}return(0,u.Z)(t,[{key:"r",get:function(){return y(this,Ds)},set:function(t){N(32===K(t),"invalid r","value",t),g(this,Ds,V(t))}},{key:"s",get:function(){return y(this,Fs)},set:function(t){N(32===K(t),"invalid s","value",t);var e=V(t);N(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),g(this,Fs,e)}},{key:"v",get:function(){return y(this,Ls)},set:function(t){var e=ut(t,"value");N(27===e||28===e,"invalid v","v",t),g(this,Ls,e)}},{key:"networkV",get:function(){return y(this,Gs)}},{key:"legacyChainId",get:function(){var e=this.networkV;return null==e?null:t.getChainId(e)}},{key:"yParity",get:function(){return 27===this.v?0:1}},{key:"yParityAndS",get:function(){var t=H(this.s);return this.yParity&&(t[0]|=128),V(t)}},{key:"compactSerialized",get:function(){return z([this.r,this.yParityAndS])}},{key:"serialized",get:function(){return z([this.r,this.s,this.yParity?"0x1c":"0x1b"])}},{key:Ns,value:function(){return'Signature { r: "'.concat(this.r,'", s: "').concat(this.s,'", yParity: ').concat(this.yParity,", networkV: ").concat(this.networkV," }")}},{key:"clone",value:function(){var e=new t(Ms,this.r,this.s,this.v);return this.networkV&&g(e,Gs,this.networkV),e}},{key:"toJSON",value:function(){var t=this.networkV;return{_type:"signature",networkV:null!=t?t.toString():null,r:this.r,s:this.s,v:this.v}}}],[{key:"getChainId",value:function(t){var e=rt(t,"v");return e==Rs||e==Ts?Bs:(N(e>=Ss,"invalid EIP-155 v","v",t),(e-Ss)/Cs)}},{key:"getChainIdV",value:function(t,e){return rt(t)*Cs+BigInt(35+e-27)}},{key:"getNormalizedV",value:function(t){var e=rt(t);return e===Bs||e===Rs?27:e===Is||e===Ts?28:(N(e>=Ss,"invalid v","v",t),e&Is?27:28)}},{key:"from",value:function(e){function n(t,n){N(t,n,"signature",e)}if(null==e)return new t(Ms,Os,Os,27);if("string"===typeof e){var r=H(e,"signature");if(64===r.length){var a=V(r.slice(0,32)),i=r.slice(32,64),s=128&i[0]?28:27;return i[0]&=127,new t(Ms,a,V(i),s)}if(65===r.length){var u=V(r.slice(0,32)),o=r.slice(32,64);n(0===(128&o[0]),"non-canonical s");var c=t.getNormalizedV(r[64]);return new t(Ms,u,V(o),c)}n(!1,"invalid raw signature length")}if(e instanceof t)return e.clone();var l=e.r;n(null!=l,"missing r");var f=Us(l),h=function(t,e){if(null!=t)return Us(t);if(null!=e){n(W(e,32),"invalid yParityAndS");var r=H(e);return r[0]&=127,V(r)}n(!1,"missing s")}(e.s,e.yParityAndS);n(0==(128&H(h)[0]),"non-canonical s");var p=function(e,r,a){if(null!=e){var i=rt(e);return{networkV:i>=Ss?i:void 0,v:t.getNormalizedV(i)}}if(null!=r)return n(W(r,32),"invalid yParityAndS"),{v:128&H(r)[0]?28:27};if(null!=a){switch(ut(a,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),v=p.networkV,d=p.v,y=new t(Ms,f,h,d);return v&&g(y,Gs,v),n(null==e.yParity||ut(e.yParity,"sig.yParity")===y.yParity,"yParity mismatch"),n(null==e.yParityAndS||e.yParityAndS===y.yParityAndS,"yParityAndS mismatch"),y}}]),t}();var Hs=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r,a,i){var u;return(0,s.Z)(this,n),(u=e.call(this)).blockLen=t,u.outputLen=r,u.padOffset=a,u.isLE=i,u.finished=!1,u.length=0,u.pos=0,u.destroyed=!1,u.buffer=new Uint8Array(t),u.view=zt(u.buffer),u}return(0,u.Z)(n,[{key:"update",value:function(t){St(this);for(var e=this.view,n=this.buffer,r=this.blockLen,a=(t=qt(t)).length,i=0;i<a;){var s=Math.min(r-this.pos,a-i);if(s!==r)n.set(t.subarray(i,i+s),this.pos),this.pos+=s,i+=s,this.pos===r&&(this.process(e,0),this.pos=0);else for(var u=zt(t);r<=a-i;i+=r)this.process(u,i)}return this.length+=t.length,this.roundClean(),this}},{key:"digestInto",value:function(t){St(this),Mt(t,this),this.finished=!0;var e=this.buffer,n=this.view,r=this.blockLen,a=this.isLE,i=this.pos;e[i++]=128,this.buffer.subarray(i).fill(0),this.padOffset>r-i&&(this.process(n,0),i=0);for(var s=i;s<r;s++)e[s]=0;!function(t,e,n,r){if("function"===typeof t.setBigUint64)return t.setBigUint64(e,n,r);var a=BigInt(32),i=BigInt(4294967295),s=Number(n>>a&i),u=Number(n&i),o=r?4:0,c=r?0:4;t.setUint32(e+o,s,r),t.setUint32(e+c,u,r)}(n,r-8,BigInt(8*this.length),a),this.process(n,0);var u=zt(t),o=this.outputLen;if(o%4)throw new Error("_sha2: outputLen should be aligned to 32bit");var c=o/4,l=this.get();if(c>l.length)throw new Error("_sha2: outputLen bigger than state");for(var f=0;f<c;f++)u.setUint32(4*f,l[f],a)}},{key:"digest",value:function(){var t=this.buffer,e=this.outputLen;this.digestInto(t);var n=t.slice(0,e);return this.destroy(),n}},{key:"_cloneInto",value:function(t){var e;t||(t=new this.constructor),(e=t).set.apply(e,(0,vi.Z)(this.get()));var n=this.blockLen,r=this.buffer,a=this.length,i=this.finished,s=this.destroyed,u=this.pos;return t.length=a,t.pos=u,t.finished=i,t.destroyed=s,a%n&&t.buffer.set(r),t}}]),n}(_t),js=function(t,e,n){return t&e^~t&n},Ws=function(t,e,n){return t&e^t&n^e&n},Js=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),zs=new Uint32Array(64),Ks=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(){var t;return(0,s.Z)(this,n),(t=e.call(this,64,32,8,!1)).A=0|Vs[0],t.B=0|Vs[1],t.C=0|Vs[2],t.D=0|Vs[3],t.E=0|Vs[4],t.F=0|Vs[5],t.G=0|Vs[6],t.H=0|Vs[7],t}return(0,u.Z)(n,[{key:"get",value:function(){return[this.A,this.B,this.C,this.D,this.E,this.F,this.G,this.H]}},{key:"set",value:function(t,e,n,r,a,i,s,u){this.A=0|t,this.B=0|e,this.C=0|n,this.D=0|r,this.E=0|a,this.F=0|i,this.G=0|s,this.H=0|u}},{key:"process",value:function(t,e){for(var n=0;n<16;n++,e+=4)zs[n]=t.getUint32(e,!1);for(var r=16;r<64;r++){var a=zs[r-15],i=zs[r-2],s=Kt(a,7)^Kt(a,18)^a>>>3,u=Kt(i,17)^Kt(i,19)^i>>>10;zs[r]=u+zs[r-7]+s+zs[r-16]|0}for(var o=this.A,c=this.B,l=this.C,f=this.D,h=this.E,p=this.F,v=this.G,d=this.H,y=0;y<64;y++){var g=d+(Kt(h,6)^Kt(h,11)^Kt(h,25))+js(h,p,v)+Js[y]+zs[y]|0,w=(Kt(o,2)^Kt(o,13)^Kt(o,22))+Ws(o,c,l)|0;d=v,v=p,p=h,h=f+g|0,f=l,l=c,c=o,o=g+w|0}o=o+this.A|0,c=c+this.B|0,l=l+this.C|0,f=f+this.D|0,h=h+this.E|0,p=p+this.F|0,v=v+this.G|0,d=d+this.H|0,this.set(o,c,l,f,h,p,v,d)}},{key:"roundClean",value:function(){zs.fill(0)}},{key:"destroy",value:function(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}]),n}(Hs),qs=Xt((function(){return new Ks})),Ys=BigInt(0),_s=BigInt(1),Xs=BigInt(2),$s=function(t){return t instanceof Uint8Array},tu=Array.from({length:256},(function(t,e){return e.toString(16).padStart(2,"0")}));function eu(t){if(!$s(t))throw new Error("Uint8Array expected");for(var e="",n=0;n<t.length;n++)e+=tu[t[n]];return e}function nu(t){var e=t.toString(16);return 1&e.length?"0".concat(e):e}function ru(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":"0x".concat(t))}function au(t){if("string"!==typeof t)throw new Error("hex string expected, got "+typeof t);var e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);for(var n=new Uint8Array(e/2),r=0;r<n.length;r++){var a=2*r,i=t.slice(a,a+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");n[r]=s}return n}function iu(t){return ru(eu(t))}function su(t){if(!$s(t))throw new Error("Uint8Array expected");return ru(eu(Uint8Array.from(t).reverse()))}function uu(t,e){return au(t.toString(16).padStart(2*e,"0"))}function ou(t,e){return uu(t,e).reverse()}function cu(t){return au(nu(t))}function lu(t,e,n){var r;if("string"===typeof e)try{r=au(e)}catch(i){throw new Error("".concat(t,' must be valid hex string, got "').concat(e,'". Cause: ').concat(i))}else{if(!$s(e))throw new Error("".concat(t," must be hex string or Uint8Array"));r=Uint8Array.from(e)}var a=r.length;if("number"===typeof n&&a!==n)throw new Error("".concat(t," expected ").concat(n," bytes, got ").concat(a));return r}function fu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=new Uint8Array(e.reduce((function(t,e){return t+e.length}),0)),a=0;return e.forEach((function(t){if(!$s(t))throw new Error("Uint8Array expected");r.set(t,a),a+=t.length})),r}function hu(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function pu(t){if("string"!==typeof t)throw new Error("utf8ToBytes expected string, got ".concat(typeof t));return new Uint8Array((new TextEncoder).encode(t))}function vu(t){var e;for(e=0;t>Ys;t>>=_s,e+=1);return e}function du(t,e){return t>>BigInt(e)&_s}var yu=function(t,e,n){return t|(n?_s:Ys)<<BigInt(e)},gu=function(t){return(Xs<<BigInt(t-1))-_s},wu=function(t){return new Uint8Array(t)},mu=function(t){return Uint8Array.from(t)};function ku(t,e,n){if("number"!==typeof t||t<2)throw new Error("hashLen must be a number");if("number"!==typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!==typeof n)throw new Error("hmacFn must be a function");var r=wu(t),a=wu(t),i=0,s=function(){r.fill(1),a.fill(0),i=0},u=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return n.apply(void 0,[a,r].concat(e))},o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wu();a=u(mu([0]),t),r=u(),0!==t.length&&(a=u(mu([1]),t),r=u())},c=function(){if(i++>=1e3)throw new Error("drbg: tried 1000 values");for(var t=0,n=[];t<e;){var a=(r=u()).slice();n.push(a),t+=r.length}return fu.apply(void 0,n)};return function(t,e){s(),o(t);for(var n=void 0;!(n=e(c()));)o();return s(),n}}var bu={bigint:function(t){return"bigint"===typeof t},function:function(t){return"function"===typeof t},boolean:function(t){return"boolean"===typeof t},string:function(t){return"string"===typeof t},stringOrUint8Array:function(t){return"string"===typeof t||t instanceof Uint8Array},isSafeInteger:function(t){return Number.isSafeInteger(t)},array:function(t){return Array.isArray(t)},field:function(t,e){return e.Fp.isValid(t)},hash:function(t){return"function"===typeof t&&Number.isSafeInteger(t.outputLen)}};function Au(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=function(e,n,r){var a=bu[n];if("function"!==typeof a)throw new Error('Invalid validator "'.concat(n,'", expected function'));var i=t[e];if((!r||void 0!==i)&&!a(i,t))throw new Error("Invalid param ".concat(String(e),"=").concat(i," (").concat(typeof i,"), expected ").concat(n))},a=0,i=Object.entries(e);a<i.length;a++){var s=(0,It.Z)(i[a],2),u=s[0],o=s[1];r(u,o,!1)}for(var c=0,l=Object.entries(n);c<l.length;c++){var f=(0,It.Z)(l[c],2),h=f[0],p=f[1];r(h,p,!0)}return t}var xu=BigInt(0),Zu=BigInt(1),Eu=BigInt(2),Pu=BigInt(3),Nu=BigInt(4),Ou=BigInt(5),Bu=BigInt(8);BigInt(9),BigInt(16);function Iu(t,e){var n=t%e;return n>=xu?n:e+n}function Cu(t,e,n){if(n<=xu||e<xu)throw new Error("Expected power/modulo > 0");if(n===Zu)return xu;for(var r=Zu;e>xu;)e&Zu&&(r=r*t%n),t=t*t%n,e>>=Zu;return r}function Ru(t,e,n){for(var r=t;e-- >xu;)r*=r,r%=n;return r}function Tu(t,e){if(t===xu||e<=xu)throw new Error("invert: expected positive integers, got n=".concat(t," mod=").concat(e));for(var n=Iu(t,e),r=e,a=xu,i=Zu,s=Zu,u=xu;n!==xu;){var o=r/n,c=r%n,l=a-s*o,f=i-u*o;r=n,n=c,a=s,i=u,s=l,u=f}if(r!==Zu)throw new Error("invert: does not exist");return Iu(a,e)}function Su(t){if(t%Nu===Pu){var e=(t+Zu)/Nu;return function(t,n){var r=t.pow(n,e);if(!t.eql(t.sqr(r),n))throw new Error("Cannot find square root");return r}}if(t%Bu===Ou){var n=(t-Ou)/Bu;return function(t,e){var r=t.mul(e,Eu),a=t.pow(r,n),i=t.mul(e,a),s=t.mul(t.mul(i,Eu),a),u=t.mul(i,t.sub(s,t.ONE));if(!t.eql(t.sqr(u),e))throw new Error("Cannot find square root");return u}}return function(t){var e,n,r,a=(t-Zu)/Eu;for(e=t-Zu,n=0;e%Eu===xu;e/=Eu,n++);for(r=Eu;r<t&&Cu(r,a,t)!==t-Zu;r++);if(1===n){var i=(t+Zu)/Nu;return function(t,e){var n=t.pow(e,i);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}}var s=(e+Zu)/Eu;return function(t,i){if(t.pow(i,a)===t.neg(t.ONE))throw new Error("Cannot find square root");for(var u=n,o=t.pow(t.mul(t.ONE,r),e),c=t.pow(i,s),l=t.pow(i,e);!t.eql(l,t.ONE);){if(t.eql(l,t.ZERO))return t.ZERO;for(var f=1,h=t.sqr(l);f<u&&!t.eql(h,t.ONE);f++)h=t.sqr(h);var p=t.pow(o,Zu<<BigInt(u-f-1));o=t.sqr(p),c=t.mul(c,p),l=t.mul(l,o),u=f}return c}}(t)}var Mu=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Uu(t,e,n){if(n<xu)throw new Error("Expected power > 0");if(n===xu)return t.ONE;if(n===Zu)return e;for(var r=t.ONE,a=e;n>xu;)n&Zu&&(r=t.mul(r,a)),a=t.sqr(a),n>>=Zu;return r}function Du(t,e){var n=new Array(e.length),r=e.reduce((function(e,r,a){return t.is0(r)?e:(n[a]=e,t.mul(e,r))}),t.ONE),a=t.inv(r);return e.reduceRight((function(e,r,a){return t.is0(r)?e:(n[a]=t.mul(e,n[a]),t.mul(e,r))}),a),n}function Fu(t,e){var n=void 0!==e?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function Lu(t){if("bigint"!==typeof t)throw new Error("field order must be bigint");var e=t.toString(2).length;return Math.ceil(e/8)}function Gu(t){var e=Lu(t);return e+Math.ceil(e/2)}var Qu=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;(0,s.Z)(this,n),(a=e.call(this)).finished=!1,a.destroyed=!1,Tt(t);var i=qt(r);if(a.iHash=t.create(),"function"!==typeof a.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");a.blockLen=a.iHash.blockLen,a.outputLen=a.iHash.outputLen;var u=a.blockLen,o=new Uint8Array(u);o.set(i.length>u?t.create().update(i).digest():i);for(var c=0;c<o.length;c++)o[c]^=54;a.iHash.update(o),a.oHash=t.create();for(var l=0;l<o.length;l++)o[l]^=106;return a.oHash.update(o),o.fill(0),a}return(0,u.Z)(n,[{key:"update",value:function(t){return St(this),this.iHash.update(t),this}},{key:"digestInto",value:function(t){St(this),Rt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}},{key:"digest",value:function(){var t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}},{key:"_cloneInto",value:function(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));var e=this.oHash,n=this.iHash,r=this.finished,a=this.destroyed,i=this.blockLen,s=this.outputLen;return t.finished=r,t.destroyed=a,t.blockLen=i,t.outputLen=s,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}},{key:"destroy",value:function(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}]),n}(_t),Hu=function(t,e,n){return new Qu(t,e).update(n).digest()};Hu.create=function(t,e){return new Qu(t,e)};var ju=BigInt(0),Wu=BigInt(1);function Ju(t){return Au(t.Fp,Mu.reduce((function(t,e){return t[e]="function",t}),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),Au(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze((0,S.Z)((0,S.Z)((0,S.Z)({},Fu(t.n,t.nBitLength)),t),{p:t.Fp.ORDER}))}var Vu=iu,zu=au,Ku={Err:function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,s.Z)(this,n),e.call(this,t)}return(0,u.Z)(n)}(G(Error)),_parseInt:function(t){var e=Ku.Err;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");var n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(128&r[0])throw new e("Invalid signature integer: negative");if(0===r[0]&&!(128&r[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Vu(r),l:t.subarray(n+2)}},toSig:function(t){var e=Ku.Err,n="string"===typeof t?zu(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");var r=n.length;if(r<2||48!=n[0])throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");var a=Ku._parseInt(n.subarray(2)),i=a.d,s=a.l,u=Ku._parseInt(s),o=u.d;if(u.l.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig:function(t){var e=function(t){return 8&Number.parseInt(t[0],16)?"00"+t:t},n=function(t){var e=t.toString(16);return 1&e.length?"0".concat(e):e},r=e(n(t.s)),a=e(n(t.r)),i=r.length/2,s=a.length/2,u=n(i),o=n(s);return"30".concat(n(s+i+4),"02").concat(o).concat(a,"02").concat(u).concat(r)}},qu=BigInt(0),Yu=BigInt(1),_u=(BigInt(2),BigInt(3));BigInt(4);function Xu(t){var e=function(t){var e=Ju(t);Au(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});var n=e.endo,r=e.Fp,a=e.a;if(n){if(!r.eql(a,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!==typeof n||"bigint"!==typeof n.beta||"function"!==typeof n.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze((0,S.Z)({},e))}(t),n=e.Fp,r=e.toBytes||function(t,e,r){var a=e.toAffine();return fu(Uint8Array.from([4]),n.toBytes(a.x),n.toBytes(a.y))},a=e.fromBytes||function(t){var e=t.subarray(1);return{x:n.fromBytes(e.subarray(0,n.BYTES)),y:n.fromBytes(e.subarray(n.BYTES,2*n.BYTES))}};function i(t){var r=e.a,a=e.b,i=n.sqr(t),s=n.mul(i,t);return n.add(n.add(s,n.mul(t,r)),a)}if(!n.eql(n.sqr(e.Gy),i(e.Gx)))throw new Error("bad generator point: equation left != right");function o(t){return"bigint"===typeof t&&qu<t&&t<e.n}function c(t){if(!o(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function l(t){var n,r=e.allowedPrivateKeyLengths,a=e.nByteLength,i=e.wrapPrivateKey,s=e.n;if(r&&"bigint"!==typeof t){if(t instanceof Uint8Array&&(t=eu(t)),"string"!==typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*a,"0")}try{n="bigint"===typeof t?t:iu(lu("private key",t,a))}catch(u){throw new Error("private key must be ".concat(a," bytes, hex or bigint, not ").concat(typeof t))}return i&&(n=Iu(n,s)),c(n),n}var f=new Map;function h(t){if(!(t instanceof p))throw new Error("ProjectivePoint expected")}var p=function(){function t(e,r,a){if((0,s.Z)(this,t),this.px=e,this.py=r,this.pz=a,null==e||!n.isValid(e))throw new Error("x required");if(null==r||!n.isValid(r))throw new Error("y required");if(null==a||!n.isValid(a))throw new Error("z required")}return(0,u.Z)(t,[{key:"x",get:function(){return this.toAffine().x}},{key:"y",get:function(){return this.toAffine().y}},{key:"_setWindowSize",value:function(t){this._WINDOW_SIZE=t,f.delete(this)}},{key:"assertValidity",value:function(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}var t=this.toAffine(),r=t.x,a=t.y;if(!n.isValid(r)||!n.isValid(a))throw new Error("bad point: x or y not FE");var s=n.sqr(a),u=i(r);if(!n.eql(s,u))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}},{key:"hasEvenY",value:function(){var t=this.toAffine().y;if(n.isOdd)return!n.isOdd(t);throw new Error("Field doesn't support isOdd")}},{key:"equals",value:function(t){h(t);var e=this.px,r=this.py,a=this.pz,i=t.px,s=t.py,u=t.pz,o=n.eql(n.mul(e,u),n.mul(i,a)),c=n.eql(n.mul(r,u),n.mul(s,a));return o&&c}},{key:"negate",value:function(){return new t(this.px,n.neg(this.py),this.pz)}},{key:"double",value:function(){var r=e.a,a=e.b,i=n.mul(a,_u),s=this.px,u=this.py,o=this.pz,c=n.ZERO,l=n.ZERO,f=n.ZERO,h=n.mul(s,s),p=n.mul(u,u),v=n.mul(o,o),d=n.mul(s,u);return d=n.add(d,d),f=n.mul(s,o),f=n.add(f,f),c=n.mul(r,f),l=n.mul(i,v),l=n.add(c,l),c=n.sub(p,l),l=n.add(p,l),l=n.mul(c,l),c=n.mul(d,c),f=n.mul(i,f),v=n.mul(r,v),d=n.sub(h,v),d=n.mul(r,d),d=n.add(d,f),f=n.add(h,h),h=n.add(f,h),h=n.add(h,v),h=n.mul(h,d),l=n.add(l,h),v=n.mul(u,o),v=n.add(v,v),h=n.mul(v,d),c=n.sub(c,h),f=n.mul(v,p),f=n.add(f,f),new t(c,l,f=n.add(f,f))}},{key:"add",value:function(r){h(r);var a=this.px,i=this.py,s=this.pz,u=r.px,o=r.py,c=r.pz,l=n.ZERO,f=n.ZERO,p=n.ZERO,v=e.a,d=n.mul(e.b,_u),y=n.mul(a,u),g=n.mul(i,o),w=n.mul(s,c),m=n.add(a,i),k=n.add(u,o);m=n.mul(m,k),k=n.add(y,g),m=n.sub(m,k),k=n.add(a,s);var b=n.add(u,c);return k=n.mul(k,b),b=n.add(y,w),k=n.sub(k,b),b=n.add(i,s),l=n.add(o,c),b=n.mul(b,l),l=n.add(g,w),b=n.sub(b,l),p=n.mul(v,k),l=n.mul(d,w),p=n.add(l,p),l=n.sub(g,p),p=n.add(g,p),f=n.mul(l,p),g=n.add(y,y),g=n.add(g,y),w=n.mul(v,w),k=n.mul(d,k),g=n.add(g,w),w=n.sub(y,w),w=n.mul(v,w),k=n.add(k,w),y=n.mul(g,k),f=n.add(f,y),y=n.mul(b,k),l=n.mul(m,l),l=n.sub(l,y),y=n.mul(m,g),p=n.mul(b,p),new t(l,f,p=n.add(p,y))}},{key:"subtract",value:function(t){return this.add(t.negate())}},{key:"is0",value:function(){return this.equals(t.ZERO)}},{key:"wNAF",value:function(e){return d.wNAFCached(this,f,e,(function(e){var r=n.invertBatch(e.map((function(t){return t.pz})));return e.map((function(t,e){return t.toAffine(r[e])})).map(t.fromAffine)}))}},{key:"multiplyUnsafe",value:function(r){var a=t.ZERO;if(r===qu)return a;if(c(r),r===Yu)return this;var i=e.endo;if(!i)return d.unsafeLadder(this,r);for(var s=i.splitScalar(r),u=s.k1neg,o=s.k1,l=s.k2neg,f=s.k2,h=a,p=a,v=this;o>qu||f>qu;)o&Yu&&(h=h.add(v)),f&Yu&&(p=p.add(v)),v=v.double(),o>>=Yu,f>>=Yu;return u&&(h=h.negate()),l&&(p=p.negate()),p=new t(n.mul(p.px,i.beta),p.py,p.pz),h.add(p)}},{key:"multiply",value:function(r){c(r);var a,i,s=r,u=e.endo;if(u){var o=u.splitScalar(s),l=o.k1neg,f=o.k1,h=o.k2neg,p=o.k2,v=this.wNAF(f),y=v.p,g=v.f,w=this.wNAF(p),m=w.p,k=w.f;y=d.constTimeNegate(l,y),m=d.constTimeNegate(h,m),m=new t(n.mul(m.px,u.beta),m.py,m.pz),a=y.add(m),i=g.add(k)}else{var b=this.wNAF(s);a=b.p,i=b.f}return t.normalizeZ([a,i])[0]}},{key:"multiplyAndAddUnsafe",value:function(e,n,r){var a=t.BASE,i=function(t,e){return e!==qu&&e!==Yu&&t.equals(a)?t.multiply(e):t.multiplyUnsafe(e)},s=i(this,n).add(i(e,r));return s.is0()?void 0:s}},{key:"toAffine",value:function(t){var e=this.px,r=this.py,a=this.pz,i=this.is0();null==t&&(t=i?n.ONE:n.inv(a));var s=n.mul(e,t),u=n.mul(r,t),o=n.mul(a,t);if(i)return{x:n.ZERO,y:n.ZERO};if(!n.eql(o,n.ONE))throw new Error("invZ was invalid");return{x:s,y:u}}},{key:"isTorsionFree",value:function(){var n=e.h,r=e.isTorsionFree;if(n===Yu)return!0;if(r)return r(t,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}},{key:"clearCofactor",value:function(){var n=e.h,r=e.clearCofactor;return n===Yu?this:r?r(t,this):this.multiplyUnsafe(e.h)}},{key:"toRawBytes",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.assertValidity(),r(t,this,e)}},{key:"toHex",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return eu(this.toRawBytes(t))}}],[{key:"fromAffine",value:function(e){var r=e||{},a=r.x,i=r.y;if(!e||!n.isValid(a)||!n.isValid(i))throw new Error("invalid affine point");if(e instanceof t)throw new Error("projective point not allowed");var s=function(t){return n.eql(t,n.ZERO)};return s(a)&&s(i)?t.ZERO:new t(a,i,n.ONE)}},{key:"normalizeZ",value:function(e){var r=n.invertBatch(e.map((function(t){return t.pz})));return e.map((function(t,e){return t.toAffine(r[e])})).map(t.fromAffine)}},{key:"fromHex",value:function(e){var n=t.fromAffine(a(lu("pointHex",e)));return n.assertValidity(),n}},{key:"fromPrivateKey",value:function(e){return t.BASE.multiply(l(e))}}]),t}();p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);var v=e.nBitLength,d=function(t,e){var n=function(t,e){var n=e.negate();return t?n:e},r=function(t){return{windows:Math.ceil(e/t)+1,windowSize:Math.pow(2,t-1)}};return{constTimeNegate:n,unsafeLadder:function(e,n){for(var r=t.ZERO,a=e;n>ju;)n&Wu&&(r=r.add(a)),a=a.double(),n>>=Wu;return r},precomputeWindow:function(t,e){for(var n=r(e),a=n.windows,i=n.windowSize,s=[],u=t,o=u,c=0;c<a;c++){o=u,s.push(o);for(var l=1;l<i;l++)o=o.add(u),s.push(o);u=o.double()}return s},wNAF:function(e,a,i){for(var s=r(e),u=s.windows,o=s.windowSize,c=t.ZERO,l=t.BASE,f=BigInt(Math.pow(2,e)-1),h=Math.pow(2,e),p=BigInt(e),v=0;v<u;v++){var d=v*o,y=Number(i&f);i>>=p,y>o&&(y-=h,i+=Wu);var g=d,w=d+Math.abs(y)-1,m=v%2!==0,k=y<0;0===y?l=l.add(n(m,a[g])):c=c.add(n(k,a[w]))}return{p:c,f:l}},wNAFCached:function(t,e,n,r){var a=t._WINDOW_SIZE||1,i=e.get(t);return i||(i=this.precomputeWindow(t,a),1!==a&&e.set(t,r(i))),this.wNAF(a,i,n)}}}(p,e.endo?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:l,weierstrassEquation:i,isWithinCurveOrder:o}}function $u(t){var e=function(t){var e=Ju(t);return Au(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze((0,S.Z)({lowS:!0},e))}(t),n=e.Fp,a=e.n,i=n.BYTES+1,o=2*n.BYTES+1;function c(t){return Iu(t,a)}function l(t){return Tu(t,a)}var f=Xu((0,S.Z)((0,S.Z)({},e),{},{toBytes:function(t,e,r){var a=e.toAffine(),i=n.toBytes(a.x),s=fu;return r?s(Uint8Array.from([e.hasEvenY()?2:3]),i):s(Uint8Array.from([4]),i,n.toBytes(a.y))},fromBytes:function(t){var e=t.length,r=t[0],a=t.subarray(1);if(e!==i||2!==r&&3!==r){if(e===o&&4===r)return{x:n.fromBytes(a.subarray(0,n.BYTES)),y:n.fromBytes(a.subarray(n.BYTES,2*n.BYTES))};throw new Error("Point of length ".concat(e," was invalid. Expected ").concat(i," compressed bytes or ").concat(o," uncompressed bytes"))}var s=iu(a);if(!(qu<(u=s)&&u<n.ORDER))throw new Error("Point is not on curve");var u,c=v(s),l=n.sqrt(c);return 1===(1&r)!==((l&Yu)===Yu)&&(l=n.neg(l)),{x:s,y:l}}})),h=f.ProjectivePoint,p=f.normPrivateKeyToScalar,v=f.weierstrassEquation,d=f.isWithinCurveOrder,y=function(t){return eu(uu(t,e.nByteLength))};function g(t){return t>a>>Yu}function w(t){return g(t)?c(-t):t}var m=function(t,e,n){return iu(t.slice(e,n))},k=function(){function t(e,n,r){(0,s.Z)(this,t),this.r=e,this.s=n,this.recovery=r,this.assertValidity()}return(0,u.Z)(t,[{key:"assertValidity",value:function(){if(!d(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!d(this.s))throw new Error("s must be 0 < s < CURVE.n")}},{key:"addRecoveryBit",value:function(e){return new t(this.r,this.s,e)}},{key:"recoverPublicKey",value:function(t){var r=this.r,a=this.s,i=this.recovery,s=Z(lu("msgHash",t));if(null==i||![0,1,2,3].includes(i))throw new Error("recovery id invalid");var u=2===i||3===i?r+e.n:r;if(u>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");var o=0===(1&i)?"02":"03",f=h.fromHex(o+y(u)),p=l(u),v=c(-s*p),d=c(a*p),g=h.BASE.multiplyAndAddUnsafe(f,v,d);if(!g)throw new Error("point at infinify");return g.assertValidity(),g}},{key:"hasHighS",value:function(){return g(this.s)}},{key:"normalizeS",value:function(){return this.hasHighS()?new t(this.r,c(-this.s),this.recovery):this}},{key:"toDERRawBytes",value:function(){return au(this.toDERHex())}},{key:"toDERHex",value:function(){return Ku.hexFromSig({r:this.r,s:this.s})}},{key:"toCompactRawBytes",value:function(){return au(this.toCompactHex())}},{key:"toCompactHex",value:function(){return y(this.r)+y(this.s)}}],[{key:"fromCompact",value:function(n){var r=e.nByteLength;return n=lu("compactSignature",n,2*r),new t(m(n,0,r),m(n,r,2*r))}},{key:"fromDER",value:function(e){var n=Ku.toSig(lu("DER",e));return new t(n.r,n.s)}}]),t}(),b={isValidPrivateKey:function(t){try{return p(t),!0}catch(e){return!1}},normPrivateKeyToScalar:p,randomPrivateKey:function(){var t=Gu(e.n);return function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.length,a=Lu(e),i=Gu(e);if(r<16||r<i||r>1024)throw new Error("expected ".concat(i,"-1024 bytes of input, got ").concat(r));var s=n?iu(t):su(t),u=Iu(s,e-Zu)+Zu;return n?ou(u,a):uu(u,a)}(e.randomBytes(t),e.n)},precompute:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h.BASE;return e._setWindowSize(t),e.multiply(BigInt(3)),e}};function A(t){var e=t instanceof Uint8Array,n="string"===typeof t,r=(e||n)&&t.length;return e?r===i||r===o:n?r===2*i||r===2*o:t instanceof h}var x=e.bits2int||function(t){var n=iu(t),r=8*t.length-e.nBitLength;return r>0?n>>BigInt(r):n},Z=e.bits2int_modN||function(t){return c(x(t))},E=gu(e.nBitLength);function P(t){if("bigint"!==typeof t)throw new Error("bigint expected");if(!(qu<=t&&t<E))throw new Error("bigint expected < 2^".concat(e.nBitLength));return uu(t,e.nByteLength)}function N(t,a){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O;if(["recovered","canonical"].some((function(t){return t in i})))throw new Error("sign() legacy options not supported");var s=e.hash,u=e.randomBytes,o=i.lowS,f=i.prehash,v=i.extraEntropy;null==o&&(o=!0),t=lu("msgHash",t),f&&(t=lu("prehashed msgHash",s(t)));var y=Z(t),m=p(a),b=[P(m),P(y)];if(null!=v){var A=!0===v?u(n.BYTES):v;b.push(lu("extraEntropy",A))}var E=fu.apply(r,b),N=y;function B(t){var e=x(t);if(d(e)){var n=l(e),r=h.BASE.multiply(e).toAffine(),a=c(r.x);if(a!==qu){var i=c(n*c(N+a*m));if(i!==qu){var s=(r.x===a?0:2)|Number(r.y&Yu),u=i;return o&&g(i)&&(u=w(i),s^=1),new k(a,u,s)}}}}return{seed:E,k2sig:B}}var O={lowS:e.lowS,prehash:!1},B={lowS:e.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return h.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(A(t))throw new Error("first arg must be private key");if(!A(e))throw new Error("second arg must be public key");var r=h.fromHex(e);return r.multiply(p(t)).toRawBytes(n)},sign:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:O,a=N(t,n,r),i=a.seed,s=a.k2sig,u=e,o=ku(u.hash.outputLen,u.nByteLength,u.hmac);return o(i,s)},verify:function(t,n,r){var a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:B,s=t;if(n=lu("msgHash",n),r=lu("publicKey",r),"strict"in i)throw new Error("options.strict was renamed to lowS");var u,o=i.lowS,f=i.prehash,p=void 0;try{if("string"===typeof s||s instanceof Uint8Array)try{p=k.fromDER(s)}catch(N){if(!(N instanceof Ku.Err))throw N;p=k.fromCompact(s)}else{if("object"!==typeof s||"bigint"!==typeof s.r||"bigint"!==typeof s.s)throw new Error("PARSE");var v=s.r,d=s.s;p=new k(v,d)}u=h.fromHex(r)}catch(O){if("PARSE"===O.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(o&&p.hasHighS())return!1;f&&(n=e.hash(n));var y=p,g=y.r,w=y.s,m=Z(n),b=l(w),A=c(m*b),x=c(g*b),E=null===(a=h.BASE.multiplyAndAddUnsafe(u,A,x))||void 0===a?void 0:a.toAffine();if(!E)return!1;var P=c(E.x);return P===g},ProjectivePoint:h,Signature:k,utils:b}}var to=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eo=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),no=BigInt(1),ro=BigInt(2),ao=function(t,e){return(t+e/ro)/e};function io(t){var e=to,n=BigInt(3),r=BigInt(6),a=BigInt(11),i=BigInt(22),s=BigInt(23),u=BigInt(44),o=BigInt(88),c=t*t*t%e,l=c*c*t%e,f=Ru(l,n,e)*l%e,h=Ru(f,n,e)*l%e,p=Ru(h,ro,e)*c%e,v=Ru(p,a,e)*p%e,d=Ru(v,i,e)*v%e,y=Ru(d,u,e)*d%e,g=Ru(y,o,e)*y%e,w=Ru(g,u,e)*d%e,m=Ru(w,n,e)*l%e,k=Ru(m,s,e)*v%e,b=Ru(k,r,e)*c%e,A=Ru(b,ro,e);if(!so.eql(so.sqr(A),t))throw new Error("Cannot find square root");return A}var so=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t<=xu)throw new Error("Expected Field ORDER > 0, got ".concat(t));var a=Fu(t,e),i=a.nBitLength,s=a.nByteLength;if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");var u=Su(t),o=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:gu(i),ZERO:xu,ONE:Zu,create:function(e){return Iu(e,t)},isValid:function(e){if("bigint"!==typeof e)throw new Error("Invalid field element: expected bigint, got ".concat(typeof e));return xu<=e&&e<t},is0:function(t){return t===xu},isOdd:function(t){return(t&Zu)===Zu},neg:function(e){return Iu(-e,t)},eql:function(t,e){return t===e},sqr:function(e){return Iu(e*e,t)},add:function(e,n){return Iu(e+n,t)},sub:function(e,n){return Iu(e-n,t)},mul:function(e,n){return Iu(e*n,t)},pow:function(t,e){return Uu(o,t,e)},div:function(e,n){return Iu(e*Tu(n,t),t)},sqrN:function(t){return t*t},addN:function(t,e){return t+e},subN:function(t,e){return t-e},mulN:function(t,e){return t*e},inv:function(e){return Tu(e,t)},sqrt:r.sqrt||function(t){return u(o,t)},invertBatch:function(t){return Du(o,t)},cmov:function(t,e,n){return n?e:t},toBytes:function(t){return n?ou(t,s):uu(t,s)},fromBytes:function(t){if(t.length!==s)throw new Error("Fp.fromBytes: expected ".concat(s,", got ").concat(t.length));return n?su(t):iu(t)}});return Object.freeze(o)}(to,void 0,void 0,{sqrt:io}),uo=function(t,e){var n=function(e){return $u((0,S.Z)((0,S.Z)({},t),function(t){return{hash:t,hmac:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return Hu(t,e,Yt.apply(void 0,r))},randomBytes:$t}}(e)))};return Object.freeze((0,S.Z)((0,S.Z)({},n(e)),{},{create:n}))}({a:BigInt(0),b:BigInt(7),Fp:so,n:eo,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:function(t){var e=eo,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-no*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),a=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,s=BigInt("0x100000000000000000000000000000000"),u=ao(i*t,e),o=ao(-r*t,e),c=Iu(t-u*n-o*a,e),l=Iu(-u*r-o*i,e),f=c>s,h=l>s;if(f&&(c=e-c),h&&(l=e-l),c>s||l>s)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:c,k2neg:h,k2:l}}}},qs);BigInt(0);uo.ProjectivePoint;var oo=new WeakMap,co=function(){function t(e){(0,s.Z)(this,t),v(this,oo,{writable:!0,value:void 0}),N(32===K(e),"invalid private key","privateKey","[REDACTED]"),g(this,oo,V(e))}return(0,u.Z)(t,[{key:"privateKey",get:function(){return y(this,oo)}},{key:"publicKey",get:function(){return t.computePublicKey(y(this,oo))}},{key:"compressedPublicKey",get:function(){return t.computePublicKey(y(this,oo),!0)}},{key:"sign",value:function(t){N(32===K(t),"invalid digest length","digest",t);var e=uo.sign(j(t),j(y(this,oo)),{lowS:!0});return Qs.from({r:ot(e.r,32),s:ot(e.s,32),v:e.recovery?28:27})}},{key:"computeSharedSecret",value:function(e){var n=t.computePublicKey(e);return V(uo.getSharedSecret(j(y(this,oo)),H(n),!1))}}],[{key:"computePublicKey",value:function(t,e){var n=H(t,"key");if(32===n.length)return V(uo.getPublicKey(n,!!e));if(64===n.length){var r=new Uint8Array(65);r[0]=4,r.set(n,1),n=r}return V(uo.ProjectivePoint.fromHex(n).toRawBytes(e))}},{key:"recoverPublicKey",value:function(t,e){N(32===K(t),"invalid digest length","digest",t);var n=Qs.from(e),r=uo.Signature.fromCompact(j(z([n.r,n.s]))),a=(r=r.addRecoveryBit(n.yParity)).recoverPublicKey(j(t));return N(null!=a,"invalid signautre for digest","signature",e),"0x"+a.toHex(!1)}},{key:"addPoints",value:function(e,n,r){var a=uo.ProjectivePoint.fromHex(t.computePublicKey(e).substring(2)),i=uo.ProjectivePoint.fromHex(t.computePublicKey(n).substring(2));return"0x"+a.add(i).toHex(!!r)}}]),t}();function lo(t){for(var e=t.toString(16);e.length<2;)e="0"+e;return"0x"+e}function fo(t,e,n){for(var r=0,a=0;a<n;a++)r=256*r+t[e+a];return r}function ho(t,e,n,r){for(var a=[];n<e+1+r;){var i=po(t,n);a.push(i.result),P((n+=i.consumed)<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:a}}function po(t,e){P(0!==t.length,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});var n=function(e){P(e<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:e})};if(t[e]>=248){var r=t[e]-247;n(e+1+r);var a=fo(t,e+1,r);return n(e+1+r+a),ho(t,e,e+1+r,r+a)}if(t[e]>=192){var i=t[e]-192;return n(e+1+i),ho(t,e,e+1,i)}if(t[e]>=184){var s=t[e]-183;n(e+1+s);var u=fo(t,e+1,s);return n(e+1+s+u),{consumed:1+s+u,result:V(t.slice(e+1+s,e+1+s+u))}}if(t[e]>=128){var o=t[e]-128;return n(e+1+o),{consumed:1+o,result:V(t.slice(e+1,e+1+o))}}return{consumed:1,result:lo(t[e])}}function vo(t){var e=H(t,"data"),n=po(e,0);return N(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function yo(t){for(var e=[];t;)e.unshift(255&t),t>>=8;return e}function go(t){if(Array.isArray(t)){var e=[];if(t.forEach((function(t){e=e.concat(go(t))})),e.length<=55)return e.unshift(192+e.length),e;var n=yo(e.length);return n.unshift(247+n.length),n.concat(e)}var r=Array.prototype.slice.call(H(t,"object"));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;var a=yo(r.length);return a.unshift(183+a.length),a.concat(r)}var wo="0123456789abcdef";function mo(t){var e,n="0x",r=(0,C.Z)(go(t));try{for(r.s();!(e=r.n()).done;){var a=e.value;n+=wo[a>>4],n+=wo[15&a]}}catch(i){r.e(i)}finally{r.f()}return n}function ko(t,e){return De(Oe("0x"+("string"===typeof(n=co.recoverPublicKey(t,e))?co.computePublicKey(n,!1):n.publicKey).substring(4)).substring(26));var n}var bo=BigInt(0),Ao=BigInt(2),xo=BigInt(27),Zo=BigInt(28),Eo=BigInt(35),Po=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function No(t){return"0x"===t?null:De(t)}function Oo(t,e){try{return Hr(t)}catch(n){N(!1,n.message,e,t)}}function Bo(t,e){return"0x"===t?0:ut(t,e)}function Io(t,e){if("0x"===t)return bo;var n=rt(t,e);return N(n<=Po,"value exceeds uint size",e,n),n}function Co(t,e){var n=rt(t,"value"),r=ct(n);return N(r.length<=32,"value too large","tx.".concat(e),n),r}function Ro(t){return Hr(t).map((function(t){return[t.address,t.storageKeys]}))}function To(t,e){var n=[Co(t.nonce||0,"nonce"),Co(t.gasPrice||0,"gasPrice"),Co(t.gasLimit||0,"gasLimit"),null!=t.to?De(t.to):"0x",Co(t.value||0,"value"),t.data||"0x"],r=bo;if(t.chainId!=bo)r=rt(t.chainId,"tx.chainId"),N(!e||null==e.networkV||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){var a=t.signature.legacyChainId;null!=a&&(r=a)}if(!e)return r!==bo&&(n.push(ct(r)),n.push("0x"),n.push("0x")),mo(n);var i=BigInt(27+e.yParity);return r!==bo?i=Qs.getChainIdV(r,e.v):BigInt(e.v)!==i&&N(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(ct(i)),n.push(ct(e.r)),n.push(ct(e.s)),mo(n)}function So(t,e){var n;try{if(0!==(n=Bo(e[0],"yParity"))&&1!==n)throw new Error("bad yParity")}catch(s){N(!1,"invalid yParity","yParity",e[0])}var r=_(e[1],32),a=_(e[2],32),i=Qs.from({r:r,s:a,yParity:n});t.signature=i}function Mo(t,e){var n=[Co(t.chainId||0,"chainId"),Co(t.nonce||0,"nonce"),Co(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Co(t.maxFeePerGas||0,"maxFeePerGas"),Co(t.gasLimit||0,"gasLimit"),null!=t.to?De(t.to):"0x",Co(t.value||0,"value"),t.data||"0x",Ro(t.accessList||[])];return e&&(n.push(Co(e.yParity,"yParity")),n.push(ct(e.r)),n.push(ct(e.s))),z(["0x02",mo(n)])}function Uo(t,e){var n=[Co(t.chainId||0,"chainId"),Co(t.nonce||0,"nonce"),Co(t.gasPrice||0,"gasPrice"),Co(t.gasLimit||0,"gasLimit"),null!=t.to?De(t.to):"0x",Co(t.value||0,"value"),t.data||"0x",Ro(t.accessList||[])];return e&&(n.push(Co(e.yParity,"recoveryParam")),n.push(ct(e.r)),n.push(ct(e.s))),z(["0x01",mo(n)])}var Do=new WeakMap,Fo=new WeakMap,Lo=new WeakMap,Go=new WeakMap,Qo=new WeakMap,Ho=new WeakMap,jo=new WeakMap,Wo=new WeakMap,Jo=new WeakMap,Vo=new WeakMap,zo=new WeakMap,Ko=new WeakMap,qo=function(){function t(){(0,s.Z)(this,t),v(this,Do,{writable:!0,value:void 0}),v(this,Fo,{writable:!0,value:void 0}),v(this,Lo,{writable:!0,value:void 0}),v(this,Go,{writable:!0,value:void 0}),v(this,Qo,{writable:!0,value:void 0}),v(this,Ho,{writable:!0,value:void 0}),v(this,jo,{writable:!0,value:void 0}),v(this,Wo,{writable:!0,value:void 0}),v(this,Jo,{writable:!0,value:void 0}),v(this,Vo,{writable:!0,value:void 0}),v(this,zo,{writable:!0,value:void 0}),v(this,Ko,{writable:!0,value:void 0}),g(this,Do,null),g(this,Fo,null),g(this,Go,0),g(this,Qo,BigInt(0)),g(this,Ho,null),g(this,jo,null),g(this,Wo,null),g(this,Lo,"0x"),g(this,Jo,BigInt(0)),g(this,Vo,BigInt(0)),g(this,zo,null),g(this,Ko,null)}return(0,u.Z)(t,[{key:"type",get:function(){return y(this,Do)},set:function(t){switch(t){case null:g(this,Do,null);break;case 0:case"legacy":g(this,Do,0);break;case 1:case"berlin":case"eip-2930":g(this,Do,1);break;case 2:case"london":case"eip-1559":g(this,Do,2);break;default:N(!1,"unsupported transaction type","type",t)}}},{key:"typeName",get:function(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559"}return null}},{key:"to",get:function(){return y(this,Fo)},set:function(t){g(this,Fo,null==t?null:De(t))}},{key:"nonce",get:function(){return y(this,Go)},set:function(t){g(this,Go,ut(t,"value"))}},{key:"gasLimit",get:function(){return y(this,Qo)},set:function(t){g(this,Qo,rt(t))}},{key:"gasPrice",get:function(){var t=y(this,Ho);return null!=t||0!==this.type&&1!==this.type?t:bo},set:function(t){g(this,Ho,null==t?null:rt(t,"gasPrice"))}},{key:"maxPriorityFeePerGas",get:function(){var t=y(this,jo);return null==t?2===this.type?bo:null:t},set:function(t){g(this,jo,null==t?null:rt(t,"maxPriorityFeePerGas"))}},{key:"maxFeePerGas",get:function(){var t=y(this,Wo);return null==t?2===this.type?bo:null:t},set:function(t){g(this,Wo,null==t?null:rt(t,"maxFeePerGas"))}},{key:"data",get:function(){return y(this,Lo)},set:function(t){g(this,Lo,V(t))}},{key:"value",get:function(){return y(this,Jo)},set:function(t){g(this,Jo,rt(t,"value"))}},{key:"chainId",get:function(){return y(this,Vo)},set:function(t){g(this,Vo,rt(t))}},{key:"signature",get:function(){return y(this,zo)||null},set:function(t){g(this,zo,null==t?null:Qs.from(t))}},{key:"accessList",get:function(){var t=y(this,Ko)||null;return null==t?1===this.type||2===this.type?[]:null:t},set:function(t){g(this,Ko,null==t?null:Hr(t))}},{key:"hash",get:function(){return null==this.signature?null:Oe(this.serialized)}},{key:"unsignedHash",get:function(){return Oe(this.unsignedSerialized)}},{key:"from",get:function(){return null==this.signature?null:ko(this.unsignedHash,this.signature)}},{key:"fromPublicKey",get:function(){return null==this.signature?null:co.recoverPublicKey(this.unsignedHash,this.signature)}},{key:"isSigned",value:function(){return null!=this.signature}},{key:"serialized",get:function(){switch(P(null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"}),this.inferType()){case 0:return To(this,this.signature);case 1:return Uo(this,this.signature);case 2:return Mo(this,this.signature)}P(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}},{key:"unsignedSerialized",get:function(){switch(this.inferType()){case 0:return To(this);case 1:return Uo(this);case 2:return Mo(this)}P(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".unsignedSerialized"})}},{key:"inferType",value:function(){return this.inferTypes().pop()}},{key:"inferTypes",value:function(){var t=null!=this.gasPrice,e=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,n=null!=this.accessList;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&P(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),P(!e||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),P(0!==this.type||!n,"legacy transaction cannot have accessList","BAD_DATA",{value:this});var r=[];return null!=this.type?r.push(this.type):e?r.push(2):t?(r.push(1),n||r.push(0)):n?(r.push(1),r.push(2)):(r.push(0),r.push(1),r.push(2)),r.sort(),r}},{key:"isLegacy",value:function(){return 0===this.type}},{key:"isBerlin",value:function(){return 1===this.type}},{key:"isLondon",value:function(){return 2===this.type}},{key:"clone",value:function(){return t.from(this)}},{key:"toJSON",value:function(){var t=function(t){return null==t?null:t.toString()};return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}}],[{key:"from",value:function(e){if(null==e)return new t;if("string"===typeof e){var n=H(e);if(n[0]>=127)return t.from(function(t){var e=vo(t);N(Array.isArray(e)&&(9===e.length||6===e.length),"invalid field count for legacy transaction","data",t);var n={type:0,nonce:Bo(e[0],"nonce"),gasPrice:Io(e[1],"gasPrice"),gasLimit:Io(e[2],"gasLimit"),to:No(e[3]),value:Io(e[4],"value"),data:V(e[5]),chainId:bo};if(6===e.length)return n;var r=Io(e[6],"v"),a=Io(e[7],"r"),i=Io(e[8],"s");if(a===bo&&i===bo)n.chainId=r;else{var s=(r-Eo)/Ao;s<bo&&(s=bo),n.chainId=s,N(s!==bo||r===xo||r===Zo,"non-canonical legacy v","v",e[6]),n.signature=Qs.from({r:_(e[7],32),s:_(e[8],32),v:r}),n.hash=Oe(t)}return n}(n));switch(n[0]){case 1:return t.from(function(t){var e=vo(H(t).slice(1));N(Array.isArray(e)&&(8===e.length||11===e.length),"invalid field count for transaction type: 1","data",V(t));var n={type:1,chainId:Io(e[0],"chainId"),nonce:Bo(e[1],"nonce"),gasPrice:Io(e[2],"gasPrice"),gasLimit:Io(e[3],"gasLimit"),to:No(e[4]),value:Io(e[5],"value"),data:V(e[6]),accessList:Oo(e[7],"accessList")};return 8===e.length||(n.hash=Oe(t),So(n,e.slice(8))),n}(n));case 2:return t.from(function(t){var e=vo(H(t).slice(1));N(Array.isArray(e)&&(9===e.length||12===e.length),"invalid field count for transaction type: 2","data",V(t));var n=Io(e[2],"maxPriorityFeePerGas"),r=Io(e[3],"maxFeePerGas"),a={type:2,chainId:Io(e[0],"chainId"),nonce:Bo(e[1],"nonce"),maxPriorityFeePerGas:n,maxFeePerGas:r,gasPrice:null,gasLimit:Io(e[4],"gasLimit"),to:No(e[5]),value:Io(e[6],"value"),data:V(e[7]),accessList:Oo(e[8],"accessList")};return 9===e.length||(a.hash=Oe(t),So(a,e.slice(9))),a}(n))}P(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}var r=new t;return null!=e.type&&(r.type=e.type),null!=e.to&&(r.to=e.to),null!=e.nonce&&(r.nonce=e.nonce),null!=e.gasLimit&&(r.gasLimit=e.gasLimit),null!=e.gasPrice&&(r.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null!=e.data&&(r.data=e.data),null!=e.value&&(r.value=e.value),null!=e.chainId&&(r.chainId=e.chainId),null!=e.signature&&(r.signature=Qs.from(e.signature)),null!=e.accessList&&(r.accessList=e.accessList),null!=e.hash&&(N(r.isSigned(),"unsigned transaction cannot define hash","tx",e),N(r.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(N(r.isSigned(),"unsigned transaction cannot define from","tx",e),N(r.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),r}}]),t}();function Yo(t){t=atob(t);for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return H(e)}function _o(t){function e(){return e=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i,s,u,o,c,l,f;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P("http"===(r=e.url.split(":")[0].toLowerCase())||"https"===r,"unsupported protocol ".concat(r),"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),P("https"===r||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"}),i=void 0,n&&(s=new AbortController,i=s.signal,n.addListener((function(){s.abort()}))),u={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:i},t.next=8,fetch(e.url,u);case 8:return o=t.sent,c={},o.headers.forEach((function(t,e){c[e.toLowerCase()]=t})),t.next=13,o.arrayBuffer();case 13:return l=t.sent,f=null==l?null:new Uint8Array(l),t.abrupt("return",{statusCode:o.status,statusMessage:o.statusText,headers:c,body:f});case 16:case"end":return t.stop()}}),t)}))),e.apply(this,arguments)}return function(t,n){return e.apply(this,arguments)}}var Xo,$o;_o();var tc=_o(),ec=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),nc=new RegExp("^ipfs://(ipfs/)?(.*)$","i"),rc=!1;function ac(t,e){return ic.apply(this,arguments)}function ic(){return(ic=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=e.match(ec)){t.next=4;break}throw new Error("invalid data");case 4:return t.abrupt("return",new Fc(200,"OK",{"content-type":r[1]||"text/plain"},r[2]?Yo(r[3]):Gc(r[3])));case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",new Fc(599,"BAD REQUEST (invalid data: URI)",{},null,new Bc(e)));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function sc(t){function e(){return(e=(0,i.Z)((0,a.Z)().mark((function e(n,r){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,i=n.match(nc)){e.next=4;break}throw new Error("invalid link");case 4:return e.abrupt("return",new Bc("".concat(t).concat(i[2])));case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",new Fc(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Bc(n)));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return function(t,n){return e.apply(this,arguments)}}var uc={data:ac,ipfs:sc("https://gateway.ipfs.io/ipfs/")},oc=new WeakMap,cc=new WeakMap,lc=new WeakMap,fc=function(){function t(e){var n=this;(0,s.Z)(this,t),v(this,cc,{writable:!0,value:void 0}),v(this,lc,{writable:!0,value:void 0}),g(this,cc,[]),g(this,lc,!1),oc.set(e,(function(){if(!y(n,lc)){g(n,lc,!0);var t,e=(0,C.Z)(y(n,cc));try{var r=function(){var e=t.value;setTimeout((function(){e()}),0)};for(e.s();!(t=e.n()).done;)r()}catch(a){e.e(a)}finally{e.f()}g(n,cc,[])}}))}return(0,u.Z)(t,[{key:"addListener",value:function(t){P(!y(this,lc),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),y(this,cc).push(t)}},{key:"cancelled",get:function(){return y(this,lc)}},{key:"checkSignal",value:function(){P(!this.cancelled,"cancelled","CANCELLED",{})}}]),t}();function hc(t){if(null==t)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var pc=new WeakMap,vc=new WeakMap,dc=new WeakMap,yc=new WeakMap,gc=new WeakMap,wc=new WeakMap,mc=new WeakMap,kc=new WeakMap,bc=new WeakMap,Ac=new WeakMap,xc=new WeakMap,Zc=new WeakMap,Ec=new WeakMap,Pc=new WeakMap,Nc=new WeakMap,Oc=new WeakSet;Xo=Symbol.iterator;var Bc=function(){function t(e){(0,s.Z)(this,t),R(this,Oc),v(this,pc,{writable:!0,value:void 0}),v(this,vc,{writable:!0,value:void 0}),v(this,dc,{writable:!0,value:void 0}),v(this,yc,{writable:!0,value:void 0}),v(this,gc,{writable:!0,value:void 0}),v(this,wc,{writable:!0,value:void 0}),v(this,mc,{writable:!0,value:void 0}),v(this,kc,{writable:!0,value:void 0}),v(this,bc,{writable:!0,value:void 0}),v(this,Ac,{writable:!0,value:void 0}),v(this,xc,{writable:!0,value:void 0}),v(this,Zc,{writable:!0,value:void 0}),v(this,Ec,{writable:!0,value:void 0}),v(this,Pc,{writable:!0,value:void 0}),v(this,Nc,{writable:!0,value:void 0}),g(this,wc,String(e)),g(this,pc,!1),g(this,vc,!0),g(this,dc,{}),g(this,yc,""),g(this,gc,3e5),g(this,Pc,{slotInterval:250,maxAttempts:12}),g(this,Nc,null)}return(0,u.Z)(t,[{key:"url",get:function(){return y(this,wc)},set:function(t){g(this,wc,String(t))}},{key:"body",get:function(){return null==y(this,mc)?null:new Uint8Array(y(this,mc))},set:function(t){if(null==t)g(this,mc,void 0),g(this,kc,void 0);else if("string"===typeof t)g(this,mc,cn(t)),g(this,kc,"text/plain");else if(t instanceof Uint8Array)g(this,mc,t),g(this,kc,"application/octet-stream");else{if("object"!==typeof t)throw new Error("invalid body");g(this,mc,cn(JSON.stringify(t))),g(this,kc,"application/json")}}},{key:"hasBody",value:function(){return null!=y(this,mc)}},{key:"method",get:function(){return y(this,yc)?y(this,yc):this.hasBody()?"POST":"GET"},set:function(t){null==t&&(t=""),g(this,yc,String(t).toUpperCase())}},{key:"headers",get:function(){var t=Object.assign({},y(this,dc));return y(this,bc)&&(t.authorization="Basic ".concat(function(t){for(var e=H(t),n="",r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}(cn(y(this,bc))))),this.allowGzip&&(t["accept-encoding"]="gzip"),null==t["content-type"]&&y(this,kc)&&(t["content-type"]=y(this,kc)),this.body&&(t["content-length"]=String(this.body.length)),t}},{key:"getHeader",value:function(t){return this.headers[t.toLowerCase()]}},{key:"setHeader",value:function(t,e){y(this,dc)[String(t).toLowerCase()]=String(e)}},{key:"clearHeaders",value:function(){g(this,dc,{})}},{key:Xo,value:function(){var t=this.headers,e=Object.keys(t),n=0;return{next:function(){if(n<e.length){var r=e[n++];return{value:[r,t[r]],done:!1}}return{value:void 0,done:!0}}}}},{key:"credentials",get:function(){return y(this,bc)||null}},{key:"setCredentials",value:function(t,e){N(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),g(this,bc,"".concat(t,":").concat(e))}},{key:"allowGzip",get:function(){return y(this,vc)}},{key:"allowGzip",set:function(t){g(this,vc,!!t)}},{key:"allowInsecureAuthentication",get:function(){return!!y(this,pc)}},{key:"allowInsecureAuthentication",set:function(t){g(this,pc,!!t)}},{key:"timeout",get:function(){return y(this,gc)}},{key:"timeout",set:function(t){N(t>=0,"timeout must be non-zero","timeout",t),g(this,gc,t)}},{key:"preflightFunc",get:function(){return y(this,Ac)||null}},{key:"preflightFunc",set:function(t){g(this,Ac,t)}},{key:"processFunc",get:function(){return y(this,xc)||null}},{key:"processFunc",set:function(t){g(this,xc,t)}},{key:"retryFunc",get:function(){return y(this,Zc)||null}},{key:"retryFunc",set:function(t){g(this,Zc,t)}},{key:"getUrlFunc",get:function(){return y(this,Nc)||tc}},{key:"getUrlFunc",set:function(t){g(this,Nc,t)}},{key:"toString",value:function(){return"<FetchRequest method=".concat(JSON.stringify(this.method)," url=").concat(JSON.stringify(this.url)," headers=").concat(JSON.stringify(this.headers)," body=").concat(y(this,mc)?V(y(this,mc)):"null",">")}},{key:"setThrottleParams",value:function(t){null!=t.slotInterval&&(y(this,Pc).slotInterval=t.slotInterval),null!=t.maxAttempts&&(y(this,Pc).maxAttempts=t.maxAttempts)}},{key:"send",value:function(){return P(null==y(this,Ec),"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),g(this,Ec,new fc(this)),T(this,Oc,Ic).call(this,0,Lc()+this.timeout,0,this,new Fc(0,"",{},null,this))}},{key:"cancel",value:function(){P(null!=y(this,Ec),"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});var t=oc.get(this);if(!t)throw new Error("missing signal; should not happen");t()}},{key:"redirect",value:function(e){var n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();P("GET"===this.method&&("https"!==n||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:"redirect(".concat(this.method," ").concat(JSON.stringify(this.url)," => ").concat(JSON.stringify(e),")")});var a=new t(e);return a.method="GET",a.allowGzip=this.allowGzip,a.timeout=this.timeout,g(a,dc,Object.assign({},y(this,dc))),y(this,mc)&&g(a,mc,new Uint8Array(y(this,mc))),g(a,kc,y(this,kc)),a}},{key:"clone",value:function(){var e=new t(this.url);return g(e,yc,y(this,yc)),y(this,mc)&&g(e,mc,y(this,mc)),g(e,kc,y(this,kc)),g(e,dc,Object.assign({},y(this,dc))),g(e,bc,y(this,bc)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),g(e,Ac,y(this,Ac)),g(e,xc,y(this,xc)),g(e,Zc,y(this,Zc)),g(e,Nc,y(this,Nc)),e}}],[{key:"lockConfig",value:function(){rc=!0}},{key:"getGateway",value:function(t){return uc[t.toLowerCase()]||null}},{key:"registerGateway",value:function(t,e){if("http"===(t=t.toLowerCase())||"https"===t)throw new Error("cannot intercept ".concat(t,"; use registerGetUrl"));if(rc)throw new Error("gateways locked");uc[t]=e}},{key:"registerGetUrl",value:function(t){if(rc)throw new Error("gateways locked");tc=t}},{key:"createGetUrlFunc",value:function(t){return _o()}},{key:"createDataGateway",value:function(){return ac}},{key:"createIpfsGatewayFunc",value:function(t){return sc(t)}}]),t}();function Ic(t,e,n,r,a){return Cc.apply(this,arguments)}function Cc(){return Cc=(0,i.Z)((0,a.Z)().mark((function t(e,n,r,i,s){var u,o,c,l,f,h,p,v,d,g,w,m,k;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e>=y(this,Pc).maxAttempts)){t.next=2;break}return t.abrupt("return",s.makeServerError("exceeded maximum retry limit"));case 2:if(P(Lc()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),!(r>0)){t.next=6;break}return t.next=6,Qc(r);case 6:if(u=this.clone(),!((o=(u.url.split(":")[0]||"").toLowerCase())in uc)){t.next=27;break}return t.next=11,uc[o](u.url,hc(y(i,Ec)));case 11:if(!((c=t.sent)instanceof Fc)){t.next=26;break}if(l=c,!this.processFunc){t.next=25;break}return hc(y(i,Ec)),t.prev=16,t.next=19,this.processFunc(u,l);case 19:l=t.sent,t.next=25;break;case 22:t.prev=22,t.t0=t.catch(16),null!=t.t0.throttle&&"number"===typeof t.t0.stall||l.makeServerError("error in post-processing function",t.t0).assertOk();case 25:return t.abrupt("return",l);case 26:u=c;case 27:if(!this.preflightFunc){t.next=31;break}return t.next=30,this.preflightFunc(u);case 30:u=t.sent;case 31:return t.next=33,this.getUrlFunc(u,hc(y(i,Ec)));case 33:if(f=t.sent,301!==(h=new Fc(f.statusCode,f.statusMessage,f.headers,f.body,i)).statusCode&&302!==h.statusCode){t.next=46;break}return t.prev=36,v=h.headers.location||"",t.abrupt("return",T(p=u.redirect(v),Oc,Ic).call(p,e+1,n,0,i,h));case 41:t.prev=41,t.t1=t.catch(36);case 43:return t.abrupt("return",h);case 46:if(429!==h.statusCode){t.next=57;break}if(t.t2=null==this.retryFunc,t.t2){t.next=52;break}return t.next=51,this.retryFunc(u,h,e);case 51:t.t2=t.sent;case 52:if(!t.t2){t.next=57;break}return g=h.headers["retry-after"],w=y(this,Pc).slotInterval*Math.trunc(Math.random()*Math.pow(2,e)),"string"===typeof g&&g.match(/^[1-9][0-9]*$/)&&(w=parseInt(g)),t.abrupt("return",T(d=u.clone(),Oc,Ic).call(d,e+1,n,w,i,h));case 57:if(!this.processFunc){t.next=72;break}return hc(y(i,Ec)),t.prev=59,t.next=62,this.processFunc(u,h);case 62:h=t.sent,t.next=72;break;case 65:return t.prev=65,t.t3=t.catch(59),null!=t.t3.throttle&&"number"===typeof t.t3.stall||h.makeServerError("error in post-processing function",t.t3).assertOk(),k=y(this,Pc).slotInterval*Math.trunc(Math.random()*Math.pow(2,e)),t.t3.stall>=0&&(k=t.t3.stall),t.abrupt("return",T(m=u.clone(),Oc,Ic).call(m,e+1,n,k,i,h));case 72:return t.abrupt("return",h);case 73:case"end":return t.stop()}}),t,this,[[16,22],[36,41],[59,65]])}))),Cc.apply(this,arguments)}var Rc=new WeakMap,Tc=new WeakMap,Sc=new WeakMap,Mc=new WeakMap,Uc=new WeakMap,Dc=new WeakMap;$o=Symbol.iterator;var Fc=function(){function t(e,n,r,a,i){(0,s.Z)(this,t),v(this,Rc,{writable:!0,value:void 0}),v(this,Tc,{writable:!0,value:void 0}),v(this,Sc,{writable:!0,value:void 0}),v(this,Mc,{writable:!0,value:void 0}),v(this,Uc,{writable:!0,value:void 0}),v(this,Dc,{writable:!0,value:void 0}),g(this,Rc,e),g(this,Tc,n),g(this,Sc,Object.keys(r).reduce((function(t,e){return t[e.toLowerCase()]=String(r[e]),t}),{})),g(this,Mc,null==a?null:new Uint8Array(a)),g(this,Uc,i||null),g(this,Dc,{message:""})}return(0,u.Z)(t,[{key:"toString",value:function(){return"<FetchResponse status=".concat(this.statusCode," body=").concat(y(this,Mc)?V(y(this,Mc)):"null",">")}},{key:"statusCode",get:function(){return y(this,Rc)}},{key:"statusMessage",get:function(){return y(this,Tc)}},{key:"headers",get:function(){return Object.assign({},y(this,Sc))}},{key:"body",get:function(){return null==y(this,Mc)?null:new Uint8Array(y(this,Mc))}},{key:"bodyText",get:function(){try{return null==y(this,Mc)?"":ln(y(this,Mc))}catch(t){P(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}},{key:"bodyJson",get:function(){try{return JSON.parse(this.bodyText)}catch(t){P(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}},{key:$o,value:function(){var t=this.headers,e=Object.keys(t),n=0;return{next:function(){if(n<e.length){var r=e[n++];return{value:[r,t[r]],done:!1}}return{value:void 0,done:!0}}}}},{key:"makeServerError",value:function(e,n){var r;e?r="CLIENT ESCALATED SERVER ERROR (".concat(this.statusCode," ").concat(this.statusMessage,"; ").concat(e,")"):(e="".concat(this.statusCode," ").concat(this.statusMessage),r="CLIENT ESCALATED SERVER ERROR (".concat(e,")"));var a=new t(599,r,this.headers,this.body,y(this,Uc)||void 0);return g(a,Dc,{message:e,error:n}),a}},{key:"throwThrottleError",value:function(t,e){null==e?e=-1:N(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);var n=new Error(t||"throttling requests");throw b(n,{stall:e,throttle:!0}),n}},{key:"getHeader",value:function(t){return this.headers[t.toLowerCase()]}},{key:"hasBody",value:function(){return null!=y(this,Mc)}},{key:"request",get:function(){return y(this,Uc)}},{key:"ok",value:function(){return""===y(this,Dc).message&&this.statusCode>=200&&this.statusCode<300}},{key:"assertOk",value:function(){if(!this.ok()){var t=y(this,Dc),e=t.message,n=t.error;""===e&&(e="server response ".concat(this.statusCode," ").concat(this.statusMessage)),P(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n})}}}]),t}();function Lc(){return(new Date).getTime()}function Gc(t){return cn(t.replace(/%([0-9a-f][0-9a-f])/gi,(function(t,e){return String.fromCharCode(parseInt(e,16))})))}function Qc(t){return new Promise((function(e){return setTimeout(e,t)}))}function Hc(t,e,n){return function(t,e){if(t!==e)throw new TypeError("Private static access of wrong provenance")}(t,e),n}var jc="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);var Wc=BigInt(58);function Jc(t){for(var e=st(H(t)),n="";e;)n=jc[Number(e%Wc)]+n,e/=Wc;return n}function Vc(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):N(!1,"unsupported IPFS format","link",t),"https://gateway.ipfs.io/ipfs/".concat(t)}var zc=function(){function t(e){(0,s.Z)(this,t),(0,M.Z)(this,"name",void 0),b(this,{name:e})}return(0,u.Z)(t,[{key:"connect",value:function(t){return this}},{key:"supportsCoinType",value:function(t){return!1}},{key:"encodeAddress",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("unsupported coin");case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"decodeAddress",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("unsupported coin");case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),t}(),Kc=new RegExp("^(ipfs)://(.*)$","i"),qc=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),Kc,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")],Yc=new WeakMap,_c=new WeakMap,Xc=new WeakSet,$c=function(){function t(e,n,r){(0,s.Z)(this,t),R(this,Xc),(0,M.Z)(this,"provider",void 0),(0,M.Z)(this,"address",void 0),(0,M.Z)(this,"name",void 0),v(this,Yc,{writable:!0,value:void 0}),v(this,_c,{writable:!0,value:void 0}),b(this,{provider:e,address:n,name:r}),g(this,Yc,null),g(this,_c,new ci(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}return(0,u.Z)(t,[{key:"supportsWildcard",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==y(this,Yc)&&g(this,Yc,(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e,_c).supportsInterface("0x9061b923");case 3:return t.abrupt("return",t.sent);case 6:if(t.prev=6,t.t0=t.catch(0),!x(t.t0,"CALL_EXCEPTION")){t.next=10;break}return t.abrupt("return",!1);case 10:throw g(e,Yc,null),t.t0;case 12:case"end":return t.stop()}}),t,null,[[0,6]])})))()),t.next=3,y(this,Yc);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAddress",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o,c,l,f;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e&&(e=60),60!==e){t.next=16;break}return t.prev=2,t.next=5,T(this,Xc,tl).call(this,"addr(bytes32)");case 5:if(null!=(n=t.sent)&&n!==Jr){t.next=8;break}return t.abrupt("return",null);case 8:return t.abrupt("return",n);case 11:if(t.prev=11,t.t0=t.catch(2),!x(t.t0,"CALL_EXCEPTION")){t.next=15;break}return t.abrupt("return",null);case 15:throw t.t0;case 16:if(!(e>=0&&e<2147483648)){t.next=23;break}return r=e+2147483648,t.next=20,T(this,Xc,tl).call(this,"addr(bytes32,uint)",[r]);case 20:if(!W(i=t.sent,20)){t.next=23;break}return t.abrupt("return",De(i));case 23:s=null,u=(0,C.Z)(this.provider.plugins),t.prev=25,u.s();case 27:if((o=u.n()).done){t.next=36;break}if((c=o.value)instanceof zc){t.next=31;break}return t.abrupt("continue",34);case 31:if(!c.supportsCoinType(e)){t.next=34;break}return s=c,t.abrupt("break",36);case 34:t.next=27;break;case 36:t.next=41;break;case 38:t.prev=38,t.t1=t.catch(25),u.e(t.t1);case 41:return t.prev=41,u.f(),t.finish(41);case 44:if(null!=s){t.next=46;break}return t.abrupt("return",null);case 46:return t.next=48,T(this,Xc,tl).call(this,"addr(bytes32,uint)",[e]);case 48:if(null!=(l=t.sent)&&"0x"!==l){t.next=51;break}return t.abrupt("return",null);case 51:return t.next=53,s.decodeAddress(e,l);case 53:if(null==(f=t.sent)){t.next=56;break}return t.abrupt("return",f);case 56:P(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:"getAddress(".concat(e,")"),info:{coinType:e,data:l}});case 57:case"end":return t.stop()}}),t,this,[[2,11],[25,38,41,44]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getText",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(this,Xc,tl).call(this,"text(bytes32,string)",[e]);case 2:if(null!=(n=t.sent)&&"0x"!==n){t.next=5;break}return t.abrupt("return",null);case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getContentHash",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n,r,i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(this,Xc,tl).call(this,"contenthash(bytes32)");case 2:if(null!=(e=t.sent)&&"0x"!==e){t.next=5;break}return t.abrupt("return",null);case 5:if(!(n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/))){t.next=11;break}if(r="e3010170"===n[1]?"ipfs":"ipns",i=parseInt(n[4],16),n[5].length!==2*i){t.next=11;break}return t.abrupt("return","".concat(r,"://").concat(Jc("0x"+n[2])));case 11:if(!(s=e.match(/^0xe40101fa011b20([0-9a-f]*)$/))||64!==s[1].length){t.next=14;break}return t.abrupt("return","bzz://".concat(s[1]));case 14:P(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}});case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAvatar",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._getAvatar();case 2:return e=t.sent,t.abrupt("return",e.url);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_getAvatar",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n,r,i,s,u,o,c,l,f,h,p,v,d,y,g,w,m;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[{type:"name",value:this.name}],t.prev=1,t.next=4,this.getText("avatar");case 4:if(null!=(n=t.sent)){t.next=8;break}return e.push({type:"!avatar",value:""}),t.abrupt("return",{url:null,linkage:e});case 8:e.push({type:"avatar",value:n}),r=0;case 10:if(!(r<qc.length)){t.next=109;break}if(null!=(i=n.match(qc[r]))){t.next=14;break}return t.abrupt("continue",106);case 14:s=i[1].toLowerCase(),t.t0=s,t.next="https"===t.t0||"data"===t.t0?18:"ipfs"===t.t0?20:"erc721"===t.t0||"erc1155"===t.t0?24:106;break;case 18:return e.push({type:"url",value:n}),t.abrupt("return",{linkage:e,url:n});case 20:return u=Vc(n),e.push({type:"ipfs",value:n}),e.push({type:"url",value:u}),t.abrupt("return",{linkage:e,url:u});case 24:return o="erc721"===s?"tokenURI(uint256)":"uri(uint256)",e.push({type:s,value:n}),t.next=28,this.getAddress();case 28:if(null!=(c=t.sent)){t.next=32;break}return e.push({type:"!owner",value:""}),t.abrupt("return",{url:null,linkage:e});case 32:if(2===(l=(i[2]||"").split("/")).length){t.next=36;break}return e.push({type:"!".concat(s,"caip"),value:i[2]||""}),t.abrupt("return",{url:null,linkage:e});case 36:if(f=l[1],h=new ci(l[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider),"erc721"!==s){t.next=48;break}return t.next=41,h.ownerOf(f);case 41:if(p=t.sent,c===p){t.next=45;break}return e.push({type:"!owner",value:p}),t.abrupt("return",{url:null,linkage:e});case 45:e.push({type:"owner",value:p}),t.next=56;break;case 48:if("erc1155"!==s){t.next=56;break}return t.next=51,h.balanceOf(c,f);case 51:if(v=t.sent){t.next=55;break}return e.push({type:"!balance",value:"0"}),t.abrupt("return",{url:null,linkage:e});case 55:e.push({type:"balance",value:v.toString()});case 56:return t.next=58,h[o](f);case 58:if(null!=(d=t.sent)&&"0x"!==d){t.next=62;break}return e.push({type:"!metadata-url",value:""}),t.abrupt("return",{url:null,linkage:e});case 62:return e.push({type:"metadata-url-base",value:d}),"erc1155"===s&&(d=d.replace("{id}",ot(f,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=Vc(d)),e.push({type:"metadata-url",value:d}),y={},t.next=69,new Bc(d).send();case 69:(g=t.sent).assertOk(),t.prev=71,y=g.bodyJson,t.next=87;break;case 75:t.prev=75,t.t1=t.catch(71),t.prev=77,e.push({type:"!metadata",value:g.bodyText}),t.next=86;break;case 81:return t.prev=81,t.t2=t.catch(77),(w=g.body)&&e.push({type:"!metadata",value:V(w)}),t.abrupt("return",{url:null,linkage:e});case 86:return t.abrupt("return",{url:null,linkage:e});case 87:if(y){t.next=90;break}return e.push({type:"!metadata",value:""}),t.abrupt("return",{url:null,linkage:e});case 90:if(e.push({type:"metadata",value:JSON.stringify(y)}),"string"===typeof(m=y.image)){t.next=95;break}return e.push({type:"!imageUrl",value:""}),t.abrupt("return",{url:null,linkage:e});case 95:if(!m.match(/^(https:\/\/|data:)/i)){t.next=98;break}t.next=104;break;case 98:if(null!=m.match(Kc)){t.next=102;break}return e.push({type:"!imageUrl-ipfs",value:m}),t.abrupt("return",{url:null,linkage:e});case 102:e.push({type:"imageUrl-ipfs",value:m}),m=Vc(m);case 104:return e.push({type:"url",value:m}),t.abrupt("return",{linkage:e,url:m});case 106:r++,t.next=10;break;case 109:t.next=113;break;case 111:t.prev=111,t.t3=t.catch(1);case 113:return t.abrupt("return",{linkage:e,url:null});case 114:case"end":return t.stop()}}),t,this,[[1,111],[71,75],[77,81]])})));return function(){return t.apply(this,arguments)}}()}],[{key:"getEnsAddress",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getNetwork();case 2:return n=t.sent,P(r=n.getPlugin("org.ethers.plugins.network.Ens"),"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),t.abrupt("return",r.address);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"fromName",value:function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,r){var i,s,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r;case 1:if(""!==i&&"."!==i){e.next=4;break}return e.abrupt("return",null);case 4:if("eth"===r||"eth"!==i){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,Hc(t,t,nl).call(t,n,i);case 8:if(null==(s=e.sent)){e.next=19;break}if(u=new t(n,s,r),e.t0=i!==r,!e.t0){e.next=16;break}return e.next=15,u.supportsWildcard();case 15:e.t0=!e.sent;case 16:if(!e.t0){e.next=18;break}return e.abrupt("return",null);case 18:return e.abrupt("return",u);case 19:i=i.split(".").slice(1).join("."),e.next=1;break;case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),t}();function tl(t,e){return el.apply(this,arguments)}function el(){return(el=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i,s,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(n||[]).slice(),r=y(this,_c).interface,n.unshift(Es(this.name)),i=null,t.next=6,this.supportsWildcard();case 6:if(!t.sent){t.next=11;break}P(i=r.getFunction(e),"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[Ps(this.name),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)";case 11:return n.push({enableCcipRead:!0}),t.prev=12,t.next=15,(s=y(this,_c))[e].apply(s,(0,vi.Z)(n));case 15:if(u=t.sent,!i){t.next=18;break}return t.abrupt("return",r.decodeFunctionResult(i,u)[0]);case 18:return t.abrupt("return",u);case 21:if(t.prev=21,t.t0=t.catch(12),x(t.t0,"CALL_EXCEPTION")){t.next=25;break}throw t.t0;case 25:return t.abrupt("return",null);case 26:case"end":return t.stop()}}),t,this,[[12,21]])})))).apply(this,arguments)}function nl(t,e){return rl.apply(this,arguments)}function rl(){return(rl=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$c.getEnsAddress(e);case 2:return r=t.sent,t.prev=3,i=new ci(r,["function resolver(bytes32) view returns (address)"],e),t.next=7,i.resolver(Es(n),{enableCcipRead:!0});case 7:if((s=t.sent)!==Jr){t.next=10;break}return t.abrupt("return",null);case 10:return t.abrupt("return",s);case 13:throw t.prev=13,t.t0=t.catch(3),t.t0;case 16:return t.abrupt("return",null);case 17:case"end":return t.stop()}}),t,null,[[3,13]])})))).apply(this,arguments)}var al=BigInt(0);function il(t,e){return function(n){return null==n?e:t(n)}}function sl(t){return function(e){if(!Array.isArray(e))throw new Error("not an array");return e.map((function(e){return t(e)}))}}function ul(t,e){return function(n){var r={};for(var a in t){var i=a;if(e&&a in e&&!(i in n)){var s,u=(0,C.Z)(e[a]);try{for(u.s();!(s=u.n()).done;){var o=s.value;if(o in n){i=o;break}}}catch(f){u.e(f)}finally{u.f()}}try{var c=t[a](n[i]);void 0!==c&&(r[a]=c)}catch(h){var l=h instanceof Error?h.message:"not-an-error";P(!1,"invalid value for value.".concat(a," (").concat(l,")"),"BAD_DATA",{value:n})}}return r}}function ol(t){return N(W(t,!0),"invalid data","value",t),t}function cl(t){return N(W(t,32),"invalid hash","value",t),t}var ll=ul({address:De,blockHash:cl,blockNumber:ut,data:ol,index:ut,removed:il((function(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}N(!1,"invalid boolean; ".concat(JSON.stringify(t)),"value",t)}),!1),topics:sl(cl),transactionHash:cl,transactionIndex:ut},{index:["logIndex"]});var fl=ul({hash:il(cl),parentHash:cl,number:ut,timestamp:ut,nonce:il(ol),difficulty:rt,gasLimit:rt,gasUsed:rt,miner:il(De),extraData:ol,baseFeePerGas:il(rt)});var hl=ul({transactionIndex:ut,blockNumber:ut,transactionHash:cl,address:De,topics:sl(cl),data:ol,index:ut,blockHash:cl},{index:["logIndex"]});var pl=ul({to:il(De,null),from:il(De,null),contractAddress:il(De,null),index:ut,root:il(V),gasUsed:rt,logsBloom:il(ol),blockHash:cl,hash:cl,logs:sl((function(t){return hl(t)})),blockNumber:ut,cumulativeGasUsed:rt,effectiveGasPrice:il(rt),status:il(ut),type:il(ut,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function vl(t){t.to&&rt(t.to)===al&&(t.to="0x0000000000000000000000000000000000000000");var e=ul({hash:cl,type:function(t){return"0x"===t||null==t?0:ut(t)},accessList:il(Hr,null),blockHash:il(cl,null),blockNumber:il(ut,null),transactionIndex:il(ut,null),from:De,gasPrice:il(rt),maxPriorityFeePerGas:il(rt),maxFeePerGas:il(rt),gasLimit:rt,to:il(De,null),value:rt,nonce:ut,data:ol,creates:il(De,null),chainId:il(rt,null)},{data:["input"],gasLimit:["gas"]})(t);if(null==e.to&&null==e.creates&&(e.creates=function(t){var e=De(t.from),n=rt(t.nonce,"tx.nonce").toString(16);return De(q(Oe(mo([e,n="0"===n?"0x":n.length%2?"0x0"+n:"0x"+n])),12))}(e)),1!==t.type&&2!==t.type||null!=t.accessList||(e.accessList=[]),t.signature?e.signature=Qs.from(t.signature):e.signature=Qs.from(t),null==e.chainId){var n=e.signature.legacyChainId;null!=n&&(e.chainId=n)}return e.blockHash&&rt(e.blockHash)===al&&(e.blockHash=null),e}var dl=function(){function t(e){(0,s.Z)(this,t),(0,M.Z)(this,"name",void 0),b(this,{name:e})}return(0,u.Z)(t,[{key:"clone",value:function(){return new t(this.name)}}]),t}(),yl=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;(0,s.Z)(this,n),null==t&&(t=0),a=e.call(this,"org.ethers.network.plugins.GasCost#".concat(t||0)),(0,M.Z)((0,o.Z)(a),"effectiveBlock",void 0),(0,M.Z)((0,o.Z)(a),"txBase",void 0),(0,M.Z)((0,o.Z)(a),"txCreate",void 0),(0,M.Z)((0,o.Z)(a),"txDataZero",void 0),(0,M.Z)((0,o.Z)(a),"txDataNonzero",void 0),(0,M.Z)((0,o.Z)(a),"txAccessListStorageKey",void 0),(0,M.Z)((0,o.Z)(a),"txAccessListAddress",void 0);var i={effectiveBlock:t};function u(t,e){var n=(r||{})[t];null==n&&(n=e),N("number"===typeof n,"invalud value for ".concat(t),"costs",r),i[t]=n}return u("txBase",21e3),u("txCreate",32e3),u("txDataZero",4),u("txDataNonzero",16),u("txAccessListStorageKey",1900),u("txAccessListAddress",2400),b((0,o.Z)(a),i),a}return(0,u.Z)(n,[{key:"clone",value:function(){return new n(this.effectiveBlock,this)}}]),n}(dl),gl=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;return(0,s.Z)(this,n),a=e.call(this,"org.ethers.plugins.network.Ens"),(0,M.Z)((0,o.Z)(a),"address",void 0),(0,M.Z)((0,o.Z)(a),"targetNetwork",void 0),b((0,o.Z)(a),{address:t||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==r?1:r}),a}return(0,u.Z)(n,[{key:"clone",value:function(){return new n(this.address,this.targetNetwork)}}]),n}(dl),wl=new WeakMap,ml=new WeakMap,kl=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;return(0,s.Z)(this,n),a=e.call(this,"org.ethers.plugins.network.FetchUrlFeeDataPlugin"),v((0,o.Z)(a),wl,{writable:!0,value:void 0}),v((0,o.Z)(a),ml,{writable:!0,value:void 0}),g((0,o.Z)(a),wl,t),g((0,o.Z)(a),ml,r),a}return(0,u.Z)(n,[{key:"url",get:function(){return y(this,wl)}},{key:"processFunc",get:function(){return y(this,ml)}},{key:"clone",value:function(){return this}}]),n}(dl),bl=new Map,Al=new WeakMap,xl=new WeakMap,Zl=new WeakMap,El=function(){function t(e,n){(0,s.Z)(this,t),v(this,Al,{writable:!0,value:void 0}),v(this,xl,{writable:!0,value:void 0}),v(this,Zl,{writable:!0,value:void 0}),g(this,Al,e),g(this,xl,rt(n)),g(this,Zl,new Map)}return(0,u.Z)(t,[{key:"toJSON",value:function(){return{name:this.name,chainId:String(this.chainId)}}},{key:"name",get:function(){return y(this,Al)},set:function(t){g(this,Al,t)}},{key:"chainId",get:function(){return y(this,xl)},set:function(t){g(this,xl,rt(t,"chainId"))}},{key:"matches",value:function(t){if(null==t)return!1;if("string"===typeof t){try{return this.chainId===rt(t)}catch(e){}return this.name===t}if("number"===typeof t||"bigint"===typeof t){try{return this.chainId===rt(t)}catch(e){}return!1}if("object"===typeof t){if(null!=t.chainId){try{return this.chainId===rt(t.chainId)}catch(e){}return!1}return null!=t.name&&this.name===t.name}return!1}},{key:"plugins",get:function(){return Array.from(y(this,Zl).values())}},{key:"attachPlugin",value:function(t){if(y(this,Zl).get(t.name))throw new Error("cannot replace existing plugin: ".concat(t.name," "));return y(this,Zl).set(t.name,t.clone()),this}},{key:"getPlugin",value:function(t){return y(this,Zl).get(t)||null}},{key:"getPlugins",value:function(t){return this.plugins.filter((function(e){return e.name.split("#")[0]===t}))}},{key:"clone",value:function(){var e=new t(this.name,this.chainId);return this.plugins.forEach((function(t){e.attachPlugin(t.clone())})),e}},{key:"computeIntrinsicGas",value:function(t){var e=this.getPlugin("org.ethers.plugins.network.GasCost")||new yl,n=e.txBase;if(null==t.to&&(n+=e.txCreate),t.data)for(var r=2;r<t.data.length;r+=2)"00"===t.data.substring(r,r+2)?n+=e.txDataZero:n+=e.txDataNonzero;if(t.accessList){var a=Hr(t.accessList);for(var i in a)n+=e.txAccessListAddress+e.txAccessListStorageKey*a[i].storageKeys.length}return n}}],[{key:"from",value:function(e){if(Bl(),null==e)return t.from("mainnet");if("number"===typeof e&&(e=BigInt(e)),"string"===typeof e||"bigint"===typeof e){var n=bl.get(e);if(n)return n();if("bigint"===typeof e)return new t("unknown",e);N(!1,"unknown network","network",e)}if("function"===typeof e.clone)return e.clone();if("object"===typeof e){N("string"===typeof e.name&&"number"===typeof e.chainId,"invalid network object name or chainId","network",e);var r=new t(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&r.attachPlugin(new gl(e.ensAddress,e.ensNetwork)),r}N(!1,"invalid network","network",e)}},{key:"register",value:function(t,e){"number"===typeof t&&(t=BigInt(t));var n=bl.get(t);n&&N(!1,"conflicting network for ".concat(JSON.stringify(n.name)),"nameOrChainId",t),bl.set(t,e)}}]),t}();function Pl(t,e){var n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error("invalid gwei value: ".concat(t));var r=n.split(".");if(1===r.length&&r.push(""),2!==r.length)throw new Error("invalid gwei value: ".concat(t));for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){var a=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||a++,r[1]=a.toString()}return BigInt(r[0]+r[1])}function Nl(t){return new kl(t,function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var i,s,u,o,c,l,f;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.setHeader("User-Agent","ethers"),t.prev=1,t.next=4,Promise.all([r.send(),e()]);case 4:return s=t.sent,u=(0,It.Z)(s,2),o=u[0],c=u[1],l=(i=o).bodyJson.standard,f={gasPrice:c.gasPrice,maxFeePerGas:Pl(l.maxFee,9),maxPriorityFeePerGas:Pl(l.maxPriorityFee,9)},t.abrupt("return",f);case 14:t.prev=14,t.t0=t.catch(1),P(!1,"error encountered with polygon gas station (".concat(JSON.stringify(r.url),")"),"SERVER_ERROR",{request:r,response:i,error:t.t0});case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e,n,r){return t.apply(this,arguments)}}())}var Ol=!1;function Bl(){function t(t,e,n){var r=function(){var r=new El(t,e);return null!=n.ensNetwork&&r.attachPlugin(new gl(null,n.ensNetwork)),r.attachPlugin(new yl),(n.plugins||[]).forEach((function(t){r.attachPlugin(t)})),r};El.register(t,r),El.register(e,r),n.altNames&&n.altNames.forEach((function(t){El.register(t,r)}))}Ol||(Ol=!0,t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("matic",137,{ensNetwork:1,plugins:[Nl("https://gasstation.polygon.technology/v2")]}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[Nl("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("xdai",100,{ensNetwork:1}))}function Il(t){return JSON.parse(JSON.stringify(t))}var Cl=new WeakMap,Rl=new WeakMap,Tl=new WeakMap,Sl=new WeakMap,Ml=new WeakSet,Ul=function(){function t(e){(0,s.Z)(this,t),R(this,Ml),v(this,Cl,{writable:!0,value:void 0}),v(this,Rl,{writable:!0,value:void 0}),v(this,Tl,{writable:!0,value:void 0}),v(this,Sl,{writable:!0,value:void 0}),g(this,Cl,e),g(this,Rl,null),g(this,Tl,4e3),g(this,Sl,-2)}return(0,u.Z)(t,[{key:"pollingInterval",get:function(){return y(this,Tl)},set:function(t){g(this,Tl,t)}},{key:"start",value:function(){y(this,Rl)||(g(this,Rl,y(this,Cl)._setTimeout(T(this,Ml,Dl).bind(this),y(this,Tl))),T(this,Ml,Dl).call(this))}},{key:"stop",value:function(){y(this,Rl)&&(y(this,Cl)._clearTimeout(y(this,Rl)),g(this,Rl,null))}},{key:"pause",value:function(t){this.stop(),t&&g(this,Sl,-2)}},{key:"resume",value:function(){this.start()}}]),t}();function Dl(){return Fl.apply(this,arguments)}function Fl(){return Fl=(0,i.Z)((0,a.Z)().mark((function t(){var e,n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(this,Cl).getBlockNumber();case 3:if(e=t.sent,-2!==y(this,Sl)){t.next=7;break}return g(this,Sl,e),t.abrupt("return");case 7:if(e===y(this,Sl)){t.next=18;break}n=y(this,Sl)+1;case 9:if(!(n<=e)){t.next=17;break}if(null!=y(this,Rl)){t.next=12;break}return t.abrupt("return");case 12:return t.next=14,y(this,Cl).emit("block",n);case 14:n++,t.next=9;break;case 17:g(this,Sl,e);case 18:t.next=22;break;case 20:t.prev=20,t.t0=t.catch(0);case 22:if(null!=y(this,Rl)){t.next=24;break}return t.abrupt("return");case 24:g(this,Rl,y(this,Cl)._setTimeout(T(this,Ml,Dl).bind(this),y(this,Tl)));case 25:case"end":return t.stop()}}),t,this,[[0,20]])}))),Fl.apply(this,arguments)}var Ll=new WeakMap,Gl=new WeakMap,Ql=new WeakMap,Hl=function(){function t(e){var n=this;(0,s.Z)(this,t),v(this,Ll,{writable:!0,value:void 0}),v(this,Gl,{writable:!0,value:void 0}),v(this,Ql,{writable:!0,value:void 0}),g(this,Ll,e),g(this,Ql,!1),g(this,Gl,(function(t){n._poll(t,y(n,Ll))}))}return(0,u.Z)(t,[{key:"_poll",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("sub-classes must override this");case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"start",value:function(){y(this,Ql)||(g(this,Ql,!0),y(this,Gl).call(this,-2),y(this,Ll).on("block",y(this,Gl)))}},{key:"stop",value:function(){y(this,Ql)&&(g(this,Ql,!1),y(this,Ll).off("block",y(this,Gl)))}},{key:"pause",value:function(t){this.stop()}},{key:"resume",value:function(){this.start()}}]),t}(),jl=new WeakMap,Wl=new WeakMap,Jl=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;return(0,s.Z)(this,n),a=e.call(this,t),v((0,o.Z)(a),jl,{writable:!0,value:void 0}),v((0,o.Z)(a),Wl,{writable:!0,value:void 0}),g((0,o.Z)(a),jl,r),g((0,o.Z)(a),Wl,-2),a}return(0,u.Z)(n,[{key:"pause",value:function(t){t&&g(this,Wl,-2),(0,c.Z)((0,l.Z)(n.prototype),"pause",this).call(this,t)}},{key:"_poll",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getBlock(y(this,jl));case 2:if(null!=(r=t.sent)){t.next=5;break}return t.abrupt("return");case 5:-2===y(this,Wl)?g(this,Wl,r.number):r.number>y(this,Wl)&&(n.emit(y(this,jl),r.number),g(this,Wl,r.number));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(Hl),Vl=new WeakMap,zl=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;return(0,s.Z)(this,n),a=e.call(this,t),v((0,o.Z)(a),Vl,{writable:!0,value:void 0}),g((0,o.Z)(a),Vl,Il(r)),a}return(0,u.Z)(n,[{key:"_poll",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw new Error("@TODO");case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(Hl),Kl=new WeakMap,ql=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;return(0,s.Z)(this,n),a=e.call(this,t),v((0,o.Z)(a),Kl,{writable:!0,value:void 0}),g((0,o.Z)(a),Kl,r),a}return(0,u.Z)(n,[{key:"_poll",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getTransactionReceipt(y(this,Kl));case 2:(r=t.sent)&&n.emit(y(this,Kl),r);case 4:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(Hl),Yl=new WeakMap,_l=new WeakMap,Xl=new WeakMap,$l=new WeakMap,tf=new WeakMap,ef=new WeakSet,nf=function(){function t(e,n){(0,s.Z)(this,t),R(this,ef),v(this,Yl,{writable:!0,value:void 0}),v(this,_l,{writable:!0,value:void 0}),v(this,Xl,{writable:!0,value:void 0}),v(this,$l,{writable:!0,value:void 0}),v(this,tf,{writable:!0,value:void 0}),g(this,Yl,e),g(this,_l,Il(n)),g(this,Xl,T(this,ef,rf).bind(this)),g(this,$l,!1),g(this,tf,-2)}return(0,u.Z)(t,[{key:"start",value:function(){var t=this;y(this,$l)||(g(this,$l,!0),-2===y(this,tf)&&y(this,Yl).getBlockNumber().then((function(e){g(t,tf,e)})),y(this,Yl).on("block",y(this,Xl)))}},{key:"stop",value:function(){y(this,$l)&&(g(this,$l,!1),y(this,Yl).off("block",y(this,Xl)))}},{key:"pause",value:function(t){this.stop(),t&&g(this,tf,-2)}},{key:"resume",value:function(){this.start()}}]),t}();function rf(t){return af.apply(this,arguments)}function af(){return(af=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(-2!==y(this,tf)){t.next=2;break}return t.abrupt("return");case 2:return(n=Il(y(this,_l))).fromBlock=y(this,tf)+1,n.toBlock=e,t.next=7,y(this,Yl).getLogs(n);case 7:if(0!==(r=t.sent).length){t.next=11;break}return y(this,tf)<e-60&&g(this,tf,e-60),t.abrupt("return");case 11:i=(0,C.Z)(r);try{for(i.s();!(s=i.n()).done;)u=s.value,y(this,Yl).emit(y(this,_l),u),g(this,tf,u.blockNumber)}catch(a){i.e(a)}finally{i.f()}case 13:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}var sf=BigInt(2);function uf(t){return t&&"function"===typeof t.then}function of(t,e){return t+":"+JSON.stringify(e,(function(t,e){if(null==e)return"null";if("bigint"===typeof e)return"bigint:".concat(e.toString());if("string"===typeof e)return e.toLowerCase();if("object"===typeof e&&!Array.isArray(e)){var n=Object.keys(e);return n.sort(),n.reduce((function(t,n){return t[n]=e[n],t}),{})}return e}))}var cf=function(){function t(e){(0,s.Z)(this,t),(0,M.Z)(this,"name",void 0),b(this,{name:e})}return(0,u.Z)(t,[{key:"start",value:function(){}},{key:"stop",value:function(){}},{key:"pause",value:function(t){}},{key:"resume",value:function(){}}]),t}();function lf(t){return JSON.parse(JSON.stringify(t))}function ff(t){return(t=Array.from(new Set(t).values())).sort(),t}function hf(t,e){return pf.apply(this,arguments)}function pf(){return pf=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,s,u,o,c,l,f;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=e){t.next=2;break}throw new Error("invalid event");case 2:if(Array.isArray(e)&&(e={topics:e}),"string"!==typeof e){t.next=8;break}t.t0=e,t.next="block"===t.t0||"debug"===t.t0||"error"===t.t0||"finalized"===t.t0||"network"===t.t0||"pending"===t.t0||"safe"===t.t0?7:8;break;case 7:return t.abrupt("return",{type:e,tag:e});case 8:if(!W(e,32)){t.next=11;break}return r=e.toLowerCase(),t.abrupt("return",{type:"transaction",tag:of("tx",{hash:r}),hash:r});case 11:if(!e.orphan){t.next=14;break}return s=e,t.abrupt("return",{type:"orphan",tag:of("orphan",s),filter:lf(s)});case 14:if(!e.address&&!e.topics){t.next=27;break}if(o={topics:((u=e).topics||[]).map((function(t){return null==t?null:Array.isArray(t)?ff(t.map((function(t){return t.toLowerCase()}))):t.toLowerCase()}))},!u.address){t.next=26;break}if(c=[],l=[],f=function(t){W(t)?c.push(t):l.push((0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,br(t,n);case 3:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 5:case"end":return e.stop()}}),e)})))())},Array.isArray(u.address)?u.address.forEach(f):f(u.address),!l.length){t.next=25;break}return t.next=25,Promise.all(l);case 25:o.address=ff(c.map((function(t){return t.toLowerCase()})));case 26:return t.abrupt("return",{filter:o,tag:of("event",o),type:"event"});case 27:N(!1,"unknown ProviderEvent","event",e);case 28:case"end":return t.stop()}}),t)}))),pf.apply(this,arguments)}function vf(){return(new Date).getTime()}var df={cacheTimeout:250,pollingInterval:4e3},yf=new WeakMap,gf=new WeakMap,wf=new WeakMap,mf=new WeakMap,kf=new WeakMap,bf=new WeakMap,Af=new WeakMap,xf=new WeakMap,Zf=new WeakMap,Ef=new WeakMap,Pf=new WeakMap,Nf=new WeakMap,Of=new WeakSet,Bf=new WeakSet,If=new WeakSet,Cf=new WeakSet,Rf=new WeakSet,Tf=new WeakSet,Sf=new WeakSet,Mf=function(){function t(e,n){var r=this;if((0,s.Z)(this,t),R(this,Sf),R(this,Tf),R(this,Rf),R(this,Cf),R(this,If),R(this,Bf),R(this,Of),v(this,yf,{writable:!0,value:void 0}),v(this,gf,{writable:!0,value:void 0}),v(this,wf,{writable:!0,value:void 0}),v(this,mf,{writable:!0,value:void 0}),v(this,kf,{writable:!0,value:void 0}),v(this,bf,{writable:!0,value:void 0}),v(this,Af,{writable:!0,value:void 0}),v(this,xf,{writable:!0,value:void 0}),v(this,Zf,{writable:!0,value:void 0}),v(this,Ef,{writable:!0,value:void 0}),v(this,Pf,{writable:!0,value:void 0}),v(this,Nf,{writable:!0,value:void 0}),g(this,Nf,Object.assign({},df,n||{})),"any"===e)g(this,bf,!0),g(this,kf,null);else if(e){var a=El.from(e);g(this,bf,!1),g(this,kf,Promise.resolve(a)),setTimeout((function(){r.emit("network",a,null)}),0)}else g(this,bf,!1),g(this,kf,null);g(this,xf,-1),g(this,Af,new Map),g(this,yf,new Map),g(this,gf,new Map),g(this,wf,null),g(this,mf,!1),g(this,Zf,1),g(this,Ef,new Map),g(this,Pf,!1)}return(0,u.Z)(t,[{key:"pollingInterval",get:function(){return y(this,Nf).pollingInterval}},{key:"provider",get:function(){return this}},{key:"plugins",get:function(){return Array.from(y(this,gf).values())}},{key:"attachPlugin",value:function(t){if(y(this,gf).get(t.name))throw new Error("cannot replace existing plugin: ".concat(t.name," "));return y(this,gf).set(t.name,t.connect(this)),this}},{key:"getPlugin",value:function(t){return y(this,gf).get(t)||null}},{key:"disableCcipRead",get:function(){return y(this,Pf)},set:function(t){g(this,Pf,!!t)}},{key:"ccipReadFetch",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var i,s,u,o,c,l,f,h,p,v;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.disableCcipRead&&0!==r.length&&null!=e.to){t.next=2;break}return t.abrupt("return",null);case 2:i=e.to.toLowerCase(),s=n.toLowerCase(),u=[],o=0;case 6:if(!(o<r.length)){t.next=32;break}return c=r[o],l=c.replace("{sender}",i).replace("{data}",s),f=new Bc(l),-1===c.indexOf("{data}")&&(f.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:f,index:o,urls:r}),h="unknown error",t.next=15,f.send();case 15:if(p=t.sent,t.prev=16,!(v=p.bodyJson).data){t.next=21;break}return this.emit("debug",{action:"receiveCcipReadFetchResult",request:f,result:v}),t.abrupt("return",v.data);case 21:v.message&&(h=v.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:f,result:v}),t.next=27;break;case 25:t.prev=25,t.t0=t.catch(16);case 27:P(p.statusCode<400||p.statusCode>=500,"response not found during CCIP fetch: ".concat(h),"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:h}}),u.push(h);case 29:o++,t.next=6;break;case 32:P(!1,"error encountered during CCIP fetch: ".concat(u.map((function(t){return JSON.stringify(t)})).join(", ")),"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:u}});case 33:case"end":return t.stop()}}),t,this,[[16,25]])})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_wrapBlock",value:function(t,e){return new pa(function(t){var e=fl(t);return e.transactions=t.transactions.map((function(t){return"string"===typeof t?t:vl(t)})),e}(t),this)}},{key:"_wrapLog",value:function(t,e){return new va(function(t){return ll(t)}(t),this)}},{key:"_wrapTransactionReceipt",value:function(t,e){return new ya(function(t){return pl(t)}(t),this)}},{key:"_wrapTransactionResponse",value:function(t,e){return new wa(vl(t),this)}},{key:"_detectNetwork",value:function(){P(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}},{key:"_perform",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P(!1,"unsupported method: ".concat(e.method),"UNSUPPORTED_OPERATION",{operation:e.method,info:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBlockNumber",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ut,t.next=3,T(this,Of,Uf).call(this,{method:"getBlockNumber"});case 3:return t.t1=t.sent,e=(0,t.t0)(t.t1,"%response"),y(this,xf)>=0&&g(this,xf,e),t.abrupt("return",e);case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_getAddress",value:function(t){return br(t,this)}},{key:"_getBlockTag",value:function(t){if(null==t)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}return W(t)?W(t,32)?t:lt(t):("bigint"===typeof t&&(t=ut(t,"blockTag")),"number"===typeof t?t>=0?lt(t):y(this,xf)>=0?lt(y(this,xf)+t):this.getBlockNumber().then((function(e){return lt(e+t)})):void N(!1,"invalid blockTag","blockTag",t))}},{key:"_getFilter",value:function(t){var e=(t.topics||[]).map((function(t){return null==t?null:Array.isArray(t)?ff(t.map((function(t){return t.toLowerCase()}))):t.toLowerCase()})),n="blockHash"in t?t.blockHash:void 0,r=function(t,r,a){var i=void 0;switch(t.length){case 0:break;case 1:i=t[0];break;default:t.sort(),i=t}if(n&&(null!=r||null!=a))throw new Error("invalid filter");var s={};return i&&(s.address=i),e.length&&(s.topics=e),r&&(s.fromBlock=r),a&&(s.toBlock=a),n&&(s.blockHash=n),s},a=[];if(t.address)if(Array.isArray(t.address)){var i,s=(0,C.Z)(t.address);try{for(s.s();!(i=s.n()).done;){var u=i.value;a.push(this._getAddress(u))}}catch(l){s.e(l)}finally{s.f()}}else a.push(this._getAddress(t.address));var o=void 0;"fromBlock"in t&&(o=this._getBlockTag(t.fromBlock));var c=void 0;return"toBlock"in t&&(c=this._getBlockTag(t.toBlock)),a.filter((function(t){return"string"!==typeof t})).length||null!=o&&"string"!==typeof o||null!=c&&"string"!==typeof c?Promise.all([Promise.all(a),o,c]).then((function(t){return r(t[0],t[1],t[2])})):r(a,o,c)}},{key:"_getTransactionRequest",value:function(t){var e=this,n=fa(t),r=[];if(["to","from"].forEach((function(t){if(null!=n[t]){var s=br(n[t],e);uf(s)?r.push((0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:n[t]=e.sent;case 3:case"end":return e.stop()}}),e)})))()):n[t]=s}})),null!=n.blockTag){var s=this._getBlockTag(n.blockTag);uf(s)?r.push((0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s;case 2:n.blockTag=t.sent;case 3:case"end":return t.stop()}}),t)})))()):n.blockTag=s}return r.length?(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(r);case 2:return t.abrupt("return",n);case 3:case"end":return t.stop()}}),t)})))():n}},{key:"getNetwork",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n,r,i,s,u,o=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=y(this,kf)){t.next=6;break}return e=this._detectNetwork().then((function(t){return o.emit("network",t,null),t}),(function(t){throw y(o,kf)===e&&g(o,kf,null),t})),g(this,kf,e),t.next=5,e;case 5:return t.abrupt("return",t.sent.clone());case 6:return n=y(this,kf),t.next=9,Promise.all([n,this._detectNetwork()]);case 9:return r=t.sent,i=(0,It.Z)(r,2),s=i[0],u=i[1],s.chainId!==u.chainId&&(y(this,bf)?(this.emit("network",u,s),y(this,kf)===n&&g(this,kf,Promise.resolve(u))):P(!1,"network changed: ".concat(s.chainId," => ").concat(u.chainId," "),"NETWORK_ERROR",{event:"changed"})),t.abrupt("return",s.clone());case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getFeeData",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n,r,s,u,o=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getNetwork();case 2:if(e=t.sent,n=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var n,r,s,u,c,l,f;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({_block:T(o,Rf,Wf).call(o,"latest",!1),gasPrice:(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(o,Of,Uf).call(o,{method:"getGasPrice"});case 3:return e=t.sent,t.abrupt("return",rt(e,"%response"));case 7:t.prev=7,t.t0=t.catch(0);case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))(),priorityFee:(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(o,Of,Uf).call(o,{method:"getPriorityFee"});case 3:return e=t.sent,t.abrupt("return",rt(e,"%response"));case 7:t.prev=7,t.t0=t.catch(0);case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))()});case 2:return n=t.sent,r=n._block,s=n.gasPrice,u=n.priorityFee,c=null,l=null,(f=o._wrapBlock(r,e))&&f.baseFeePerGas&&(l=null!=u?u:BigInt("1000000000"),c=f.baseFeePerGas*sf+l),t.abrupt("return",new la(s,c,l));case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),!(r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin"))){t.next=11;break}return s=new Bc(r.url),t.next=9,r.processFunc(n,this,s);case 9:return u=t.sent,t.abrupt("return",new la(u.gasPrice,u.maxFeePerGas,u.maxPriorityFeePerGas));case 11:return t.next=13,n();case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"estimateGas",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!uf(n=this._getTransactionRequest(e))){t.next=5;break}return t.next=4,n;case 4:n=t.sent;case 5:return t.t0=rt,t.next=8,T(this,Of,Uf).call(this,{method:"estimateGas",transaction:n});case 8:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1,"%response"));case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"call",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});case 2:return n=t.sent,r=n.tx,i=n.blockTag,t.next=7,T(this,If,Gf).call(this,T(this,Bf,Ff).call(this,r,i,e.enableCcipRead?0:-1));case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBalance",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rt,t.next=3,T(this,Cf,Hf).call(this,{method:"getBalance"},e,n);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1,"%response"));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getTransactionCount",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ut,t.next=3,T(this,Cf,Hf).call(this,{method:"getTransactionCount"},e,n);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1,"%response"));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getCode",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=V,t.next=3,T(this,Cf,Hf).call(this,{method:"getCode"},e,n);case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getStorage",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=rt(n,"position"),t.t0=V,t.next=4,T(this,Cf,Hf).call(this,{method:"getStorage",position:i},e,r);case 4:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"broadcastTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()});case 2:if(n=t.sent,r=n.blockNumber,i=n.hash,s=n.network,(u=qo.from(e)).hash===i){t.next=9;break}throw new Error("@TODO: the returned hash did not match");case 9:return t.abrupt("return",this._wrapTransactionResponse(u,s).replaceableTransaction(r));case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getBlock",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({network:this.getNetwork(),params:T(this,Rf,Wf).call(this,e,!!n)});case 2:if(r=t.sent,i=r.network,null!=(s=r.params)){t.next=7;break}return t.abrupt("return",null);case 7:return t.abrupt("return",this._wrapBlock(s,i));case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"getTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({network:this.getNetwork(),params:T(this,Of,Uf).call(this,{method:"getTransaction",hash:e})});case 2:if(n=t.sent,r=n.network,null!=(i=n.params)){t.next=7;break}return t.abrupt("return",null);case 7:return t.abrupt("return",this._wrapTransactionResponse(i,r));case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTransactionReceipt",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({network:this.getNetwork(),params:T(this,Of,Uf).call(this,{method:"getTransactionReceipt",hash:e})});case 2:if(n=t.sent,r=n.network,null!=(i=n.params)){t.next=7;break}return t.abrupt("return",null);case 7:if(null!=i.gasPrice||null!=i.effectiveGasPrice){t.next=14;break}return t.next=10,T(this,Of,Uf).call(this,{method:"getTransaction",hash:e});case 10:if(null!=(s=t.sent)){t.next=13;break}throw new Error("report this; could not find tx or effectiveGasPrice");case 13:i.effectiveGasPrice=s.gasPrice;case 14:return t.abrupt("return",this._wrapTransactionReceipt(i,r));case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getTransactionResult",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({network:this.getNetwork(),result:T(this,Of,Uf).call(this,{method:"getTransactionResult",hash:e})});case 2:if(n=t.sent,null!=(r=n.result)){t.next=6;break}return t.abrupt("return",null);case 6:return t.abrupt("return",V(r));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getLogs",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!uf(n=this._getFilter(e))){t.next=5;break}return t.next=4,n;case 4:n=t.sent;case 5:return t.next=7,m({network:this.getNetwork(),params:T(this,Of,Uf).call(this,{method:"getLogs",filter:n})});case 7:return r=t.sent,i=r.network,s=r.params,t.abrupt("return",s.map((function(t){return u._wrapLog(t,i)})));case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_getProvider",value:function(t){P(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}},{key:"getResolver",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$c.fromName(this,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAvatar",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getResolver(e);case 2:if(!(n=t.sent)){t.next=7;break}return t.next=6,n.getAvatar();case 6:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"resolveName",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getResolver(e);case 2:if(!(n=t.sent)){t.next=7;break}return t.next=6,n.getAddress();case 6:return t.abrupt("return",t.sent);case 7:return t.abrupt("return",null);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"lookupAddress",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=De(e),n=Es(e.substring(2).toLowerCase()+".addr.reverse"),t.prev=2,t.next=5,$c.getEnsAddress(this);case 5:return r=t.sent,i=new ci(r,["function resolver(bytes32) view returns (address)"],this),t.next=9,i.resolver(n);case 9:if(null!=(s=t.sent)&&s!==Jr){t.next=12;break}return t.abrupt("return",null);case 12:return u=new ci(s,["function name(bytes32) view returns (string)"],this),t.next=15,u.name(n);case 15:return o=t.sent,t.next=18,this.resolveName(o);case 18:if(t.sent===e){t.next=21;break}return t.abrupt("return",null);case 21:return t.abrupt("return",o);case 24:if(t.prev=24,t.t0=t.catch(2),!x(t.t0,"BAD_DATA")||"0x"!==t.t0.value){t.next=28;break}return t.abrupt("return",null);case 28:if(!x(t.t0,"CALL_EXCEPTION")){t.next=30;break}return t.abrupt("return",null);case 30:throw t.t0;case 31:return t.abrupt("return",null);case 32:case"end":return t.stop()}}),t,this,[[2,24]])})));return function(e){return t.apply(this,arguments)}}()},{key:"waitForTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var s,u=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(s=null!=n?n:1)){t.next=3;break}return t.abrupt("return",this.getTransactionReceipt(e));case 3:return t.abrupt("return",new Promise(function(){var t=(0,i.Z)((0,a.Z)().mark((function t(n,o){var c,l;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=null,l=function(){var t=(0,i.Z)((0,a.Z)().mark((function t(r){var i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.getTransactionReceipt(e);case 3:if(null==(i=t.sent)){t.next=9;break}if(!(r-i.blockNumber+1>=s)){t.next=9;break}return n(i),c&&(clearTimeout(c),c=null),t.abrupt("return");case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("EEE",t.t0);case 14:u.once("block",l);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),null!=r&&(c=setTimeout((function(){null!=c&&(c=null,u.off("block",l),o(E("timeout","TIMEOUT",{reason:"timeout"})))}),r)),t.t0=l,t.next=6,u.getBlockNumber();case 6:t.t1=t.sent,(0,t.t0)(t.t1);case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"waitForBlock",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"_clearTimeout",value:function(t){var e=y(this,Ef).get(t);e&&(e.timer&&clearTimeout(e.timer),y(this,Ef).delete(t))}},{key:"_setTimeout",value:function(t,e){var n,r,a=this;null==e&&(e=0);var i=(g(this,Zf,(n=y(this,Zf),r=n++,n)),r),s=function(){y(a,Ef).delete(i),t()};if(this.paused)y(this,Ef).set(i,{timer:null,func:s,time:e});else{var u=setTimeout(s,e);y(this,Ef).set(i,{timer:u,func:s,time:vf()})}return i}},{key:"_forEachSubscriber",value:function(t){var e,n=(0,C.Z)(y(this,yf).values());try{for(n.s();!(e=n.n()).done;){t(e.value.subscriber)}}catch(r){n.e(r)}finally{n.f()}}},{key:"_getSubscriber",value:function(t){switch(t.type){case"debug":case"error":case"network":return new cf(t.type);case"block":var e=new Ul(this);return e.pollingInterval=this.pollingInterval,e;case"safe":case"finalized":return new Jl(this,t.type);case"event":return new nf(this,t.filter);case"transaction":return new ql(this,t.hash);case"orphan":return new zl(this,t.filter)}throw new Error("unsupported event: ".concat(t.type))}},{key:"_recoverSubscriber",value:function(t,e){var n,r=(0,C.Z)(y(this,yf).values());try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.subscriber===t){a.started&&a.subscriber.stop(),a.subscriber=e,a.started&&e.start(),null!=y(this,wf)&&e.pause(y(this,wf));break}}}catch(i){r.e(i)}finally{r.f()}}},{key:"on",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(this,Sf,Kf).call(this,e);case 2:return(r=t.sent).listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=y(this,wf)&&r.subscriber.pause(y(this,wf))),t.abrupt("return",this);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"once",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(this,Sf,Kf).call(this,e);case 2:return(r=t.sent).listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=y(this,wf)&&r.subscriber.pause(y(this,wf))),t.abrupt("return",this);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"emit",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o=this,c=arguments;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=c.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=c[i];return t.next=3,T(this,Tf,Vf).call(this,e,r);case 3:if((s=t.sent)&&0!==s.listeners.length){t.next=6;break}return t.abrupt("return",!1);case 6:return u=s.listeners.length,s.listeners=s.listeners.filter((function(t){var n=t.listener,a=t.once,i=new Aa(o,a?null:n,e);try{n.call.apply(n,[o].concat(r,[i]))}catch(s){}return!a})),0===s.listeners.length&&(s.started&&s.subscriber.stop(),y(this,yf).delete(s.tag)),t.abrupt("return",u>0);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"listenerCount",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=3,T(this,Tf,Vf).call(this,e);case 3:if(n=t.sent){t.next=6;break}return t.abrupt("return",0);case 6:return t.abrupt("return",n.listeners.length);case 7:r=0,i=(0,C.Z)(y(this,yf).values());try{for(i.s();!(s=i.n()).done;)u=s.value.listeners,r+=u.length}catch(a){i.e(a)}finally{i.f()}return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"listeners",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=7;break}return t.next=3,T(this,Tf,Vf).call(this,e);case 3:if(n=t.sent){t.next=6;break}return t.abrupt("return",[]);case 6:return t.abrupt("return",n.listeners.map((function(t){return t.listener})));case 7:r=[],i=(0,C.Z)(y(this,yf).values());try{for(i.s();!(s=i.n()).done;)u=s.value.listeners,r=r.concat(u.map((function(t){return t.listener})))}catch(a){i.e(a)}finally{i.f()}return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"off",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(this,Tf,Vf).call(this,e);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return",this);case 5:return n&&(i=r.listeners.map((function(t){return t.listener})).indexOf(n))>=0&&r.listeners.splice(i,1),n&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),y(this,yf).delete(r.tag)),t.abrupt("return",this);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"removeAllListeners",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o,c,l,f,h,p;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=11;break}return t.next=3,T(this,Sf,Kf).call(this,e);case 3:n=t.sent,r=n.tag,i=n.started,s=n.subscriber,i&&s.stop(),y(this,yf).delete(r),t.next=13;break;case 11:u=(0,C.Z)(y(this,yf));try{for(u.s();!(o=u.n()).done;)c=(0,It.Z)(o.value,2),l=c[0],f=c[1],h=f.started,p=f.subscriber,h&&p.stop(),y(this,yf).delete(l)}catch(a){u.e(a)}finally{u.f()}case 13:return t.abrupt("return",this);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"addListener",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.on(e,n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"removeListener",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.off(e,n));case 1:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"destroyed",get:function(){return y(this,mf)}},{key:"destroy",value:function(){this.removeAllListeners();var t,e=(0,C.Z)(y(this,Ef).keys());try{for(e.s();!(t=e.n()).done;){var n=t.value;this._clearTimeout(n)}}catch(r){e.e(r)}finally{e.f()}g(this,mf,!0)}},{key:"paused",get:function(){return null!=y(this,wf)},set:function(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}},{key:"pause",value:function(t){if(g(this,xf,-1),null!=y(this,wf)){if(y(this,wf)==!!t)return;P(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((function(e){return e.pause(t)})),g(this,wf,!!t);var e,n=(0,C.Z)(y(this,Ef).values());try{for(n.s();!(e=n.n()).done;){var r=e.value;r.timer&&clearTimeout(r.timer),r.time=vf()-r.time}}catch(a){n.e(a)}finally{n.f()}}},{key:"resume",value:function(){if(null!=y(this,wf)){this._forEachSubscriber((function(t){return t.resume()})),g(this,wf,null);var t,e=(0,C.Z)(y(this,Ef).values());try{for(e.s();!(t=e.n()).done;){var n=t.value,r=n.time;r<0&&(r=0),n.time=vf(),setTimeout(n.func,r)}}catch(a){e.e(a)}finally{e.f()}}}}]),t}();function Uf(t){return Df.apply(this,arguments)}function Df(){return(Df=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=y(this,Nf).cacheTimeout)<0)){t.next=5;break}return t.next=4,this._perform(e);case 4:case 10:return t.abrupt("return",t.sent);case 5:return r=of(e.method,e),(i=y(this,Af).get(r))||(i=this._perform(e),y(this,Af).set(r,i),setTimeout((function(){y(s,Af).get(r)===i&&y(s,Af).delete(r)}),n)),t.next=10,i;case 11:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Ff(t,e,n){return Lf.apply(this,arguments)}function Lf(){return(Lf=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var i,s,u,o,c,l,f;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return P(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})}),i=fa(e),t.prev=2,t.t0=V,t.next=6,this._perform({method:"call",transaction:i,blockTag:n});case 6:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 10:if(t.prev=10,t.t2=t.catch(2),!(!this.disableCcipRead&&Z(t.t2)&&t.t2.data&&r>=0&&"latest"===n&&null!=i.to&&"0x556f1830"===q(t.t2.data,0,4))){t.next=37;break}return s=t.t2.data,t.next=16,br(i.to,this);case 16:u=t.sent;try{o=rh(q(t.t2.data,4))}catch(a){P(!1,a.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:s}})}return P(o.sender.toLowerCase()===u.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}}),t.next=21,this.ccipReadFetch(i,o.calldata,o.urls);case 21:return P(null!=(c=t.sent),"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:t.t2.data,errorArgs:o.errorArgs}}),l={to:u,data:z([o.selector,eh([c,o.extraData])])},this.emit("debug",{action:"sendCcipReadCall",transaction:l}),t.prev=25,t.next=28,T(this,Bf,Ff).call(this,l,n,r+1);case 28:return f=t.sent,this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:f}),t.abrupt("return",f);case 33:throw t.prev=33,t.t3=t.catch(25),this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:t.t3}),t.t3;case 37:throw t.t2;case 38:case"end":return t.stop()}}),t,this,[[2,10],[25,33]])})))).apply(this,arguments)}function Gf(t){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m({network:this.getNetwork(),value:e});case 2:return n=t.sent,r=n.value,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Hf(t,e,n){return jf.apply(this,arguments)}function jf(){return(jf=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var i,s,u,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=this._getAddress(n),s=this._getBlockTag(r),"string"===typeof i&&"string"===typeof s){t.next=9;break}return t.next=5,Promise.all([i,s]);case 5:u=t.sent,o=(0,It.Z)(u,2),i=o[0],s=o[1];case 9:return t.next=11,T(this,If,Gf).call(this,T(this,Of,Uf).call(this,Object.assign(e,{address:i,blockTag:s})));case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Wf(t,e){return Jf.apply(this,arguments)}function Jf(){return(Jf=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!W(e,32)){t.next=4;break}return t.next=3,T(this,Of,Uf).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});case 3:return t.abrupt("return",t.sent);case 4:if("string"===typeof(r=this._getBlockTag(e))){t.next=9;break}return t.next=8,r;case 8:r=t.sent;case 9:return t.next=11,T(this,Of,Uf).call(this,{method:"getBlock",blockTag:r,includeTransactions:n});case 11:return t.abrupt("return",t.sent);case 12:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Vf(t,e){return zf.apply(this,arguments)}function zf(){return(zf=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hf(e,this);case 2:if(!("event"===(r=t.sent).type&&n&&n.length>0&&!0===n[0].removed)){t.next=7;break}return t.next=6,hf({orphan:"drop-log",log:n[0]},this);case 6:r=t.sent;case 7:return t.abrupt("return",y(this,yf).get(r.tag)||null);case 8:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Kf(t){return qf.apply(this,arguments)}function qf(){return(qf=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,hf(e,this);case 2:return n=t.sent,r=n.tag,(i=y(this,yf).get(r))||(s=this._getSubscriber(n),u=new WeakMap,o=new Map,i={subscriber:s,tag:r,addressableMap:u,nameMap:o,started:!1,listeners:[]},y(this,yf).set(r,i)),t.abrupt("return",i);case 7:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function Yf(t,e){try{var n=_f(t,e);if(n)return ln(n)}catch(r){}return null}function _f(t,e){if("0x"===t)return null;try{var n=ut(q(t,e,e+32)),r=ut(q(t,n,n+32));return q(t,n+32,n+32+r)}catch(a){}return null}function Xf(t){var e=ct(t);if(e.length>32)throw new Error("internal; should not happen");var n=new Uint8Array(32);return n.set(e,32-e.length),n}function $f(t){if(t.length%32===0)return t;var e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}var th=new Uint8Array([]);function eh(t){for(var e=[],n=0,r=0;r<t.length;r++)e.push(th),n+=32;for(var a=0;a<t.length;a++){var i=H(t[a]);e[a]=Xf(n),e.push(Xf(i.length)),e.push($f(i)),n+=32+32*Math.ceil(i.length/32)}return z(e)}var nh="0x0000000000000000000000000000000000000000000000000000000000000000";function rh(t){var e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};P(K(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});var n=q(t,0,32);P(q(n,0,12)===q(nh,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=q(n,12);try{for(var r=[],a=ut(q(t,32,64)),i=ut(q(t,a,a+32)),s=q(t,a+32),u=0;u<i;u++){var o=Yf(s,32*u);if(null==o)throw new Error("abort");r.push(o)}e.urls=r}catch(f){P(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{var c=_f(t,64);if(null==c)throw new Error("abort");e.calldata=c}catch(f){P(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}P(q(t,100,128)===q(nh,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=q(t,96,100);try{var l=_f(t,128);if(null==l)throw new Error("abort");e.extraData=l}catch(f){P(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((function(t){return e[t]})),e}function ah(t,e){if(t.provider)return t.provider;P(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}function ih(t,e){return sh.apply(this,arguments)}function sh(){return sh=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null!=(r=fa(n)).to&&(r.to=br(r.to,e)),null!=r.from?(i=r.from,r.from=Promise.all([e.getAddress(),br(i,e)]).then((function(t){var e=(0,It.Z)(t,2),n=e[0],r=e[1];return N(n.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),n}))):r.from=e.getAddress(),t.next=5,m(r);case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),sh.apply(this,arguments)}var uh=function(){function t(e){(0,s.Z)(this,t),(0,M.Z)(this,"provider",void 0),b(this,{provider:e||null})}return(0,u.Z)(t,[{key:"getNonce",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ah(this,"getTransactionCount"),t.next=3,this.getAddress();case 3:return t.t1=t.sent,t.t2=e,t.abrupt("return",t.t0.getTransactionCount.call(t.t0,t.t1,t.t2));case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"populateCall",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ih(this,e);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"populateTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o,c;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ah(this,"populateTransaction"),t.next=3,ih(this,e);case 3:if(null!=(r=t.sent).nonce){t.next=8;break}return t.next=7,this.getNonce("pending");case 7:r.nonce=t.sent;case 8:if(null!=r.gasLimit){t.next=12;break}return t.next=11,this.estimateGas(r);case 11:r.gasLimit=t.sent;case 12:return t.next=14,this.provider.getNetwork();case 14:if(i=t.sent,null!=r.chainId?N(rt(r.chainId)===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId):r.chainId=i.chainId,s=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas,null==r.gasPrice||2!==r.type&&!s?0!==r.type&&1!==r.type||!s||N(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e):N(!1,"eip-1559 transaction do not support gasPrice","tx",e),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas){t.next=22;break}r.type=2,t.next=34;break;case 22:if(0!==r.type&&1!==r.type){t.next=30;break}return t.next=25,n.getFeeData();case 25:P(null!=(u=t.sent).gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=u.gasPrice),t.next=34;break;case 30:return t.next=32,n.getFeeData();case 32:o=t.sent,null==r.type?null!=o.maxFeePerGas&&null!=o.maxPriorityFeePerGas?(r.type=2,null!=r.gasPrice?(c=r.gasPrice,delete r.gasPrice,r.maxFeePerGas=c,r.maxPriorityFeePerGas=c):(null==r.maxFeePerGas&&(r.maxFeePerGas=o.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))):null!=o.gasPrice?(P(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=o.gasPrice),r.type=0):P(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"}):2===r.type&&(null==r.maxFeePerGas&&(r.maxFeePerGas=o.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas));case 34:return t.next=36,m(r);case 36:return t.abrupt("return",t.sent);case 37:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"estimateGas",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ah(this,"estimateGas"),t.next=3,this.populateCall(e);case 3:return t.t1=t.sent,t.abrupt("return",t.t0.estimateGas.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"call",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ah(this,"call"),t.next=3,this.populateCall(e);case 3:return t.t1=t.sent,t.abrupt("return",t.t0.call.call(t.t0,t.t1));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"resolveName",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ah(this,"resolveName"),t.next=3,n.resolveName(e);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=ah(this,"sendTransaction"),t.next=3,this.populateTransaction(e);case 3:return delete(r=t.sent).from,i=qo.from(r),t.t0=n,t.next=9,this.signTransaction(i);case 9:return t.t1=t.sent,t.next=12,t.t0.broadcastTransaction.call(t.t0,t.t1);case 12:return t.abrupt("return",t.sent);case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();var oh=new WeakMap,ch=new WeakMap,lh=new WeakMap,fh=new WeakMap,hh=new WeakMap,ph=new WeakMap,vh=new WeakSet,dh=new WeakSet,yh=function(){function t(e){(0,s.Z)(this,t),R(this,dh),R(this,vh),v(this,oh,{writable:!0,value:void 0}),v(this,ch,{writable:!0,value:void 0}),v(this,lh,{writable:!0,value:void 0}),v(this,fh,{writable:!0,value:void 0}),v(this,hh,{writable:!0,value:void 0}),v(this,ph,{writable:!0,value:void 0}),g(this,oh,e),g(this,ch,null),g(this,lh,T(this,vh,gh).bind(this)),g(this,fh,!1),g(this,hh,null),g(this,ph,!1)}return(0,u.Z)(t,[{key:"_subscribe",value:function(t){throw new Error("subclasses must override this")}},{key:"_emitResults",value:function(t,e){throw new Error("subclasses must override this")}},{key:"_recover",value:function(t){throw new Error("subclasses must override this")}},{key:"start",value:function(){y(this,fh)||(g(this,fh,!0),T(this,vh,gh).call(this,-2))}},{key:"stop",value:function(){y(this,fh)&&(g(this,fh,!1),g(this,ph,!0),T(this,dh,mh).call(this),y(this,oh).off("block",y(this,lh)))}},{key:"pause",value:function(t){t&&T(this,dh,mh).call(this),y(this,oh).off("block",y(this,lh))}},{key:"resume",value:function(){this.start()}}]),t}();function gh(t){return wh.apply(this,arguments)}function wh(){return(wh=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,null==y(this,ch)&&g(this,ch,this._subscribe(y(this,oh))),n=null,t.prev=3,t.next=6,y(this,ch);case 6:n=t.sent,t.next=13;break;case 9:if(t.prev=9,t.t0=t.catch(3),x(t.t0,"UNSUPPORTED_OPERATION")&&"eth_newFilter"===t.t0.operation){t.next=13;break}throw t.t0;case 13:if(null!=n){t.next=17;break}return g(this,ch,null),y(this,oh)._recoverSubscriber(this,this._recover(y(this,oh))),t.abrupt("return");case 17:return t.next=19,y(this,oh).getNetwork();case 19:if(r=t.sent,y(this,hh)||g(this,hh,r),y(this,hh).chainId===r.chainId){t.next=23;break}throw new Error("chaid changed");case 23:if(!y(this,ph)){t.next=25;break}return t.abrupt("return");case 25:return t.next=27,y(this,oh).send("eth_getFilterChanges",[n]);case 27:return i=t.sent,t.next=30,this._emitResults(y(this,oh),i);case 30:t.next=35;break;case 32:t.prev=32,t.t1=t.catch(0),console.log("@TODO",t.t1);case 35:y(this,oh).once("block",y(this,lh));case 36:case"end":return t.stop()}}),t,this,[[0,32],[3,9]])})))).apply(this,arguments)}function mh(){var t=this,e=y(this,ch);e&&(g(this,ch,null),e.then((function(e){y(t,oh).send("eth_uninstallFilter",[e])})))}var kh=new WeakMap,bh=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a,i;return(0,s.Z)(this,n),a=e.call(this,t),v((0,o.Z)(a),kh,{writable:!0,value:void 0}),g((0,o.Z)(a),kh,(i=r,JSON.parse(JSON.stringify(i)))),a}return(0,u.Z)(n,[{key:"_recover",value:function(t){return new nf(t,y(this,kh))}},{key:"_subscribe",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.send("eth_newFilter",[y(this,kh)]);case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_emitResults",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,C.Z)(n);try{for(r.s();!(i=r.n()).done;)s=i.value,e.emit(y(this,kh),e._wrapLog(s,e._network))}catch(a){r.e(a)}finally{r.f()}case 2:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(yh),Ah=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,u.Z)(n,[{key:"_subscribe",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.send("eth_newPendingTransactionFilter",[]);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"_emitResults",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n){var r,i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=(0,C.Z)(n);try{for(r.s();!(i=r.n()).done;)s=i.value,e.emit("pending",s)}catch(a){r.e(a)}finally{r.f()}case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),n}(yh),xh="bigint,boolean,function,number,string,symbol".split(/,/g);function Zh(t){if(null==t||xh.indexOf(typeof t)>=0)return t;if("function"===typeof t.getAddress)return t;if(Array.isArray(t))return t.map(Zh);if("object"===typeof t)return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),{});throw new Error("should not happen: ".concat(t," (").concat(typeof t,")"))}function Eh(t){return new Promise((function(e){setTimeout(e,t)}))}function Ph(t){return t?t.toLowerCase():t}function Nh(t){return t&&"number"===typeof t.pollingInterval}var Oh={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3},Bh=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;return(0,s.Z)(this,n),a=e.call(this,t),(0,M.Z)((0,o.Z)(a),"address",void 0),r=De(r),b((0,o.Z)(a),{address:r}),a}return(0,u.Z)(n,[{key:"connect",value:function(t){P(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}},{key:"getAddress",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.address);case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"populateTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.populateCall(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendUncheckedTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,s,u,o,c=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Zh(e),r=[],n.from?(s=n.from,r.push((0,i.Z)((0,a.Z)().mark((function t(){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,br(s,c.provider);case 2:N(null!=(r=t.sent)&&r.toLowerCase()===c.address.toLowerCase(),"from address mismatch","transaction",e),n.from=r;case 5:case"end":return t.stop()}}),t)})))())):n.from=this.address,null==n.gasLimit&&r.push((0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.provider.estimateGas((0,S.Z)((0,S.Z)({},n),{},{from:c.address}));case 2:n.gasLimit=t.sent;case 3:case"end":return t.stop()}}),t)})))()),null!=n.to&&(u=n.to,r.push((0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,br(u,c.provider);case 2:n.to=t.sent;case 3:case"end":return t.stop()}}),t)})))())),!r.length){t.next=8;break}return t.next=8,Promise.all(r);case 8:return o=this.provider.getRpcTransaction(n),t.abrupt("return",this.provider.send("eth_sendTransaction",[o]));case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"sendTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,s=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.provider.getBlockNumber();case 2:return n=t.sent,t.next=5,this.sendUncheckedTransaction(e);case 5:return r=t.sent,t.next=8,new Promise((function(t,e){var u=[1e3,100],o=function(){var e=(0,i.Z)((0,a.Z)().mark((function e(){var i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.provider.getTransaction(r);case 2:if(null==(i=e.sent)){e.next=6;break}return t(i.replaceableTransaction(n)),e.abrupt("return");case 6:s.provider._setTimeout((function(){o()}),u.pop()||4e3);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o()}));case 8:return t.abrupt("return",t.sent);case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"signTransaction",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=Zh(e)).from){t.next=9;break}return t.next=4,br(n.from,this.provider);case 4:N(null!=(r=t.sent)&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),n.from=r,t.next=10;break;case 9:n.from=this.address;case 10:return i=this.provider.getRpcTransaction(n),t.next=13,this.provider.send("eth_signTransaction",[i]);case 13:return t.abrupt("return",t.sent);case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"signMessage",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="string"===typeof e?cn(e):e,t.next=3,this.provider.send("personal_sign",[V(n),this.address.toLowerCase()]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"signTypedData",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,n,r){var s,u;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=Zh(r),t.next=3,Lr.resolveNames(e,n,s,function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,br(e);case 2:return N(null!=(n=t.sent),"TypedData does not support null address","value",e),t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:return u=t.sent,t.next=6,this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Lr.getPayload(u.domain,n,u.value))]);case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"unlock",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null]));case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_legacySignMessage",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="string"===typeof e?cn(e):e,t.next=3,this.provider.send("eth_sign",[this.address.toLowerCase(),V(n)]);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),n}(uh),Ih=new WeakMap,Ch=new WeakMap,Rh=new WeakMap,Th=new WeakMap,Sh=new WeakMap,Mh=new WeakMap,Uh=new WeakMap,Dh=new WeakSet,Fh=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;(0,s.Z)(this,n),a=e.call(this,t,r),R((0,o.Z)(a),Dh),v((0,o.Z)(a),Ih,{writable:!0,value:void 0}),v((0,o.Z)(a),Ch,{writable:!0,value:void 0}),v((0,o.Z)(a),Rh,{writable:!0,value:void 0}),v((0,o.Z)(a),Th,{writable:!0,value:void 0}),v((0,o.Z)(a),Sh,{writable:!0,value:void 0}),v((0,o.Z)(a),Mh,{writable:!0,value:void 0}),v((0,o.Z)(a),Uh,{writable:!0,value:void 0}),g((0,o.Z)(a),Ch,1),g((0,o.Z)(a),Ih,Object.assign({},Oh,r||{})),g((0,o.Z)(a),Rh,[]),g((0,o.Z)(a),Th,null),g((0,o.Z)(a),Mh,null),g((0,o.Z)(a),Uh,null);var i=null,u=new Promise((function(t){i=t}));g((0,o.Z)(a),Sh,{promise:u,resolve:i});var c=a._getOption("staticNetwork");return"boolean"===typeof c?(N(!c||"any"!==t,"staticNetwork cannot be used on special network 'any'","options",r),c&&null!=t&&g((0,o.Z)(a),Mh,El.from(t))):c&&(N(null==t||c.matches(t),"staticNetwork MUST match network object","options",r),g((0,o.Z)(a),Mh,c)),a}return(0,u.Z)(n,[{key:"_getOption",value:function(t){return y(this,Ih)[t]}},{key:"_network",get:function(){return P(y(this,Mh),"network is not available yet","NETWORK_ERROR"),y(this,Mh)}},{key:"_perform",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var r,i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("call"!==e.method&&"estimateGas"!==e.method){t.next=8;break}if(!(r=e.transaction)||null==r.type||!rt(r.type)){t.next=8;break}if(null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas){t.next=8;break}return t.next=6,this.getFeeData();case 6:null==(i=t.sent).maxFeePerGas&&null==i.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},r,{type:void 0})}));case 8:if(null==(s=this.getRpcRequest(e))){t.next=13;break}return t.next=12,this.send(s.method,s.args);case 12:return t.abrupt("return",t.sent);case 13:return t.abrupt("return",(0,c.Z)((0,l.Z)(n.prototype),"_perform",this).call(this,e));case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"_detectNetwork",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this._getOption("staticNetwork"))){t.next=8;break}if(!0!==e){t.next=7;break}if(!y(this,Mh)){t.next=5;break}return t.abrupt("return",y(this,Mh));case 5:t.next=8;break;case 7:return t.abrupt("return",e);case 8:if(!y(this,Uh)){t.next=12;break}return t.next=11,y(this,Uh);case 11:case 16:case 20:return t.abrupt("return",t.sent);case 12:if(!this.ready){t.next=17;break}return g(this,Uh,(0,i.Z)((0,a.Z)().mark((function t(){var e;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=El,t.t1=rt,t.next=4,n.send("eth_chainId",[]);case 4:return t.t2=t.sent,t.t3=(0,t.t1)(t.t2),e=t.t0.from.call(t.t0,t.t3),g(n,Uh,null),t.abrupt("return",e);case 9:case"end":return t.stop()}}),t)})))()),t.next=16,y(this,Uh);case 17:return g(this,Uh,(0,i.Z)((0,a.Z)().mark((function t(){var e,r,i,s;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={id:(g(n,Ch,(e=y(n,Ch),r=e++,e)),r),method:"eth_chainId",params:[],jsonrpc:"2.0"},n.emit("debug",{action:"sendRpcPayload",payload:i}),t.prev=2,t.next=5,n._send(i);case 5:s=t.sent[0],g(n,Uh,null),t.next=14;break;case 9:throw t.prev=9,t.t0=t.catch(2),g(n,Uh,null),n.emit("debug",{action:"receiveRpcError",error:t.t0}),t.t0;case 14:if(n.emit("debug",{action:"receiveRpcResult",result:s}),!("result"in s)){t.next=17;break}return t.abrupt("return",El.from(rt(s.result)));case 17:throw n.getRpcError(i,s);case 18:case"end":return t.stop()}}),t,null,[[2,9]])})))()),t.next=20,y(this,Uh);case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_start",value:function(){var t=this;null!=y(this,Sh)&&null!=y(this,Sh).resolve&&(y(this,Sh).resolve(),g(this,Sh,null),(0,i.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=y(t,Mh)||t.destroyed){e.next=21;break}return e.prev=1,e.t0=g,e.t1=t,e.t2=Mh,e.next=7,t._detectNetwork();case 7:e.t3=e.sent,(0,e.t0)(e.t1,e.t2,e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!t.destroyed){e.next=15;break}return e.abrupt("break",21);case 15:return console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),t.emit("error",E("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e.t4}})),e.next=19,Eh(1e3);case 19:e.next=0;break;case 21:T(t,Dh,Lh).call(t);case 22:case"end":return e.stop()}}),e,null,[[1,11]])})))())}},{key:"_waitUntilReady",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=y(this,Sh)){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,y(this,Sh).promise;case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"_getSubscriber",value:function(t){return"pending"===t.type?new Ah(this):"event"===t.type?this._getOption("polling")?new nf(this,t.filter):new bh(this,t.filter):"orphan"===t.type&&"drop-log"===t.filter.orphan?new cf("orphan"):(0,c.Z)((0,l.Z)(n.prototype),"_getSubscriber",this).call(this,t)}},{key:"ready",get:function(){return null==y(this,Sh)}},{key:"getRpcTransaction",value:function(t){var e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((function(n){if(null!=t[n]){var r=n;"gasLimit"===n&&(r="gas"),e[r]=lt(rt(t[n],"tx.".concat(n)))}})),["from","to","data"].forEach((function(n){null!=t[n]&&(e[n]=V(t[n]))})),t.accessList&&(e.accessList=Hr(t.accessList)),e}},{key:"getRpcRequest",value:function(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Ph(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Ph(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Ph(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Ph(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&null!=t.filter.address&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Ph):t.filter.address=Ph(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}},{key:"getRpcError",value:function(t,e){var n=t.method,r=e.error;if("eth_estimateGas"===n&&r.message){var a=r.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return E("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:r}})}if("eth_call"===n||"eth_estimateGas"===n){var i=Hh(r),s=yr.getBuiltinCallException("eth_call"===n?"call":"estimateGas",t.params[0],i?i.data:null);return s.info={error:r,payload:t},s}var u=JSON.stringify(function(t){var e=[];return jh(t,e),e}(r));if("string"===typeof r.message&&r.message.match(/user denied|ethers-user-denied/i)){return E("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[n]||"unknown",reason:"rejected",info:{payload:t,error:r}})}if("eth_sendRawTransaction"===n||"eth_sendTransaction"===n){var o=t.params[0];if(u.match(/insufficient funds|base fee exceeds gas limit/i))return E("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:o,info:{error:r}});if(u.match(/nonce/i)&&u.match(/too low/i))return E("nonce has already been used","NONCE_EXPIRED",{transaction:o,info:{error:r}});if(u.match(/replacement transaction/i)&&u.match(/underpriced/i))return E("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:o,info:{error:r}});if(u.match(/only replay-protected/i))return E("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:n,info:{transaction:o,info:{error:r}}})}var c=!!u.match(/the method .* does not exist/i);return c||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(c=!0),c?E("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:r,payload:t}}):E("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:t})}},{key:"send",value:function(t,e){var n,r,a=this;if(this.destroyed)return Promise.reject(E("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));var i=(g(this,Ch,(n=y(this,Ch),r=n++,n)),r),s=new Promise((function(n,r){y(a,Rh).push({resolve:n,reject:r,payload:{method:t,params:e,id:i,jsonrpc:"2.0"}})}));return T(this,Dh,Lh).call(this),s}},{key:"getSigner",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n,r,i,s,u,o;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==e&&(e=0),n=this.send("eth_accounts",[]),"number"!==typeof e){t.next=9;break}return t.next=5,n;case 5:if(r=t.sent,!(e>=r.length)){t.next=8;break}throw new Error("no such account");case 8:return t.abrupt("return",new Bh(this,r[e]));case 9:return t.next=11,m({network:this.getNetwork(),accounts:n});case 11:i=t.sent,s=i.accounts,e=De(e),u=(0,C.Z)(s),t.prev=15,u.s();case 17:if((o=u.n()).done){t.next=23;break}if(De(o.value)!==e){t.next=21;break}return t.abrupt("return",new Bh(this,e));case 21:t.next=17;break;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t.catch(15),u.e(t.t0);case 28:return t.prev=28,u.f(),t.finish(28);case 31:throw new Error("invalid account");case 32:case"end":return t.stop()}}),t,this,[[15,25,28,31]])})));return function(e){return t.apply(this,arguments)}}()},{key:"listAccounts",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(){var e,n=this;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.send("eth_accounts",[]);case 2:return e=t.sent,t.abrupt("return",e.map((function(t){return new Bh(n,t)})));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"destroy",value:function(){y(this,Th)&&(clearTimeout(y(this,Th)),g(this,Th,null));var t,e=(0,C.Z)(y(this,Rh));try{for(e.s();!(t=e.n()).done;){var r=t.value,a=r.payload;(0,r.reject)(E("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:a.method}))}}catch(i){e.e(i)}finally{e.f()}g(this,Rh,[]),(0,c.Z)((0,l.Z)(n.prototype),"destroy",this).call(this)}}]),n}(Mf);function Lh(){var t=this;if(!y(this,Th)){var e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");g(this,Th,setTimeout((function(){g(t,Th,null);var e=y(t,Rh);g(t,Rh,[]);for(var n=function(){for(var n=[e.shift()];e.length&&n.length!==y(t,Ih).batchMaxCount;){if(n.push(e.shift()),JSON.stringify(n.map((function(t){return t.payload}))).length>y(t,Ih).batchMaxSize){e.unshift(n.pop());break}}(0,i.Z)((0,a.Z)().mark((function e(){var r,i,s,u,o,c,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=1===n.length?n[0].payload:n.map((function(t){return t.payload})),t.emit("debug",{action:"sendRpcPayload",payload:r}),e.prev=2,e.next=5,t._send(r);case 5:i=e.sent,t.emit("debug",{action:"receiveRpcResult",result:i}),s=(0,a.Z)().mark((function e(){var n,r,s,c,l,f;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o[u],r=n.resolve,s=n.reject,c=n.payload,!t.destroyed){e.next=4;break}return s(E("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:c.method})),e.abrupt("return","continue");case 4:if(null!=(l=i.filter((function(t){return t.id===c.id}))[0])){e.next=10;break}return f=E("missing response for request","BAD_DATA",{value:i,info:{payload:c}}),t.emit("error",f),s(f),e.abrupt("return","continue");case 10:if(!("error"in l)){e.next=13;break}return s(t.getRpcError(c,l)),e.abrupt("return","continue");case 13:r(l.result);case 14:case"end":return e.stop()}}),e)})),u=0,o=n;case 9:if(!(u<o.length)){e.next=17;break}return e.delegateYield(s(),"t0",11);case 11:if("continue"!==e.t0){e.next=14;break}return e.abrupt("continue",14);case 14:u++,e.next=9;break;case 17:e.next=23;break;case 19:for(e.prev=19,e.t1=e.catch(2),t.emit("debug",{action:"receiveRpcError",error:e.t1}),c=0,l=n;c<l.length;c++)(0,l[c].reject)(e.t1);case 23:case"end":return e.stop()}}),e,null,[[2,19]])})))()};e.length;)n()}),e))}}var Gh=new WeakMap,Qh=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var a;return(0,s.Z)(this,n),a=e.call(this,t,r),v((0,o.Z)(a),Gh,{writable:!0,value:void 0}),g((0,o.Z)(a),Gh,4e3),a}return(0,u.Z)(n,[{key:"_getSubscriber",value:function(t){var e=(0,c.Z)((0,l.Z)(n.prototype),"_getSubscriber",this).call(this,t);return Nh(e)&&(e.pollingInterval=y(this,Gh)),e}},{key:"pollingInterval",get:function(){return y(this,Gh)},set:function(t){var e=this;if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");g(this,Gh,t),this._forEachSubscriber((function(t){Nh(t)&&(t.pollingInterval=y(e,Gh))}))}}]),n}(Fh);function Hh(t){if(null==t)return null;if("string"===typeof t.message&&t.message.match(/revert/i)&&W(t.data))return{message:t.message,data:t.data};if("object"===typeof t){for(var e in t){var n=Hh(t[e]);if(n)return n}return null}if("string"===typeof t)try{return Hh(JSON.parse(t))}catch(r){}return null}function jh(t,e){if(null!=t){if("string"===typeof t.message&&e.push(t.message),"object"===typeof t)for(var n in t)jh(t[n],e);if("string"===typeof t)try{return jh(JSON.parse(t),e)}catch(r){}}}var Wh=new WeakMap,Jh=function(t){(0,f.Z)(n,t);var e=(0,h.Z)(n);function n(t,r){var u;return(0,s.Z)(this,n),u=e.call(this,r,{batchMaxCount:1}),v((0,o.Z)(u),Wh,{writable:!0,value:void 0}),g((0,o.Z)(u),Wh,function(){var e=(0,i.Z)((0,a.Z)().mark((function e(n,r){var i,s,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={method:n,params:r},u.emit("debug",{action:"sendEip1193Request",payload:i}),e.prev=2,e.next=5,t.request(i);case 5:return s=e.sent,u.emit("debug",{action:"receiveEip1193Result",result:s}),e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(2),(o=new Error(e.t0.message)).code=e.t0.code,o.data=e.t0.data,o.payload=i,u.emit("debug",{action:"receiveEip1193Error",error:o}),o;case 18:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()),u}return(0,u.Z)(n,[{key:"send",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e,r){return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this._start();case 2:return t.next=4,(0,c.Z)((0,l.Z)(n.prototype),"send",this).call(this,e,r);case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}()},{key:"_send",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return N(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e),t.prev=1,t.next=4,y(this,Wh).call(this,e.method,e.params||[]);case 4:return n=t.sent,t.abrupt("return",[{id:e.id,result:n}]);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",[{id:e.id,error:{code:t.t0.code,data:t.t0.data,message:t.t0.message}}]);case 11:case"end":return t.stop()}}),t,this,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},{key:"getRpcError",value:function(t,e){switch((e=JSON.parse(JSON.stringify(e))).error.code||-1){case 4001:e.error.message="ethers-user-denied: ".concat(e.error.message);break;case 4200:e.error.message="ethers-unsupported: ".concat(e.error.message)}return(0,c.Z)((0,l.Z)(n.prototype),"getRpcError",this).call(this,t,e)}},{key:"hasSigner",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var n;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==e&&(e=0),t.next=3,this.send("eth_accounts",[]);case 3:if(n=t.sent,"number"!==typeof e){t.next=6;break}return t.abrupt("return",n.length>e);case 6:return e=e.toLowerCase(),t.abrupt("return",0!==n.filter((function(t){return t.toLowerCase()===e})).length);case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getSigner",value:function(){var t=(0,i.Z)((0,a.Z)().mark((function t(e){var r;return(0,a.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null==e&&(e=0),t.next=3,this.hasSigner(e);case 3:if(t.sent){t.next=13;break}return t.prev=4,t.next=7,y(this,Wh).call(this,"eth_requestAccounts",[]);case 7:t.next=13;break;case 9:throw t.prev=9,t.t0=t.catch(4),r=t.t0.payload,this.getRpcError(r,{id:r.id,error:t.t0});case 13:return t.next=15,(0,c.Z)((0,l.Z)(n.prototype),"getSigner",this).call(this,e);case 15:return t.abrupt("return",t.sent);case 16:case"end":return t.stop()}}),t,this,[[4,9]])})));return function(e){return t.apply(this,arguments)}}()}]),n}(Qh)}}]);
//# sourceMappingURL=773.57f7df61.chunk.js.map